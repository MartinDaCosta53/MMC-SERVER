"use strict";(globalThis["webpackChunkMMC_CLIENT"]=globalThis["webpackChunkMMC_CLIENT"]||[]).push([[534],{3534:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ku});var l=a(3673),n=a(2323);const s=e=>((0,l.dD)("data-v-080d18b7"),e=e(),(0,l.Cn)(),e),d={class:"page-title"},o=s((()=>(0,l._)("div",null,"Module Management Console",-1))),i={key:0},r=s((()=>(0,l._)("br",null,null,-1))),u=s((()=>(0,l._)("br",null,null,-1))),m=s((()=>(0,l._)("br",null,null,-1))),c=s((()=>(0,l._)("br",null,null,-1))),b=s((()=>(0,l._)("br",null,null,-1))),p=s((()=>(0,l._)("br",null,null,-1)));function v(e,t,a,s,v,_){const f=(0,l.up)("q-btn"),w=(0,l.up)("q-toolbar-title"),y=(0,l.up)("q-toolbar"),g=(0,l.up)("q-header"),x=(0,l.up)("EssentialLink"),N=(0,l.up)("q-list"),V=(0,l.up)("q-drawer"),S=(0,l.up)("q-page"),I=(0,l.up)("q-page-container"),q=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(q,{view:"hHh lpR fFf"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{class:"bg-primary text-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("span",d,(0,n.zw)(e.store.state.layout.layoutDetails.title),1)])),_:1}),o])),_:1})])),_:1}),(0,l.Wm)(V,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=t=>e.leftDrawerOpen=t),"show-if-above":"",side:"left",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(N,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.essentialLinks,(e=>((0,l.wg)(),(0,l.j4)(x,(0,l.dG)({key:e.title},e),null,16)))),128))])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(I,{class:"main-page no-shadow"},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[e.store.state.debug?((0,l.wg)(),(0,l.iD)("div",i,[(0,l.Uk)(" display_component : "+(0,n.zw)(e.store.state.display_component),1),r,(0,l.Uk)(" events_component : "+(0,n.zw)(e.store.state.events_component),1),u,(0,l.Uk)(" services_component : "+(0,n.zw)(e.store.state.services_component),1),m,(0,l.Uk)(" selected_node : "+(0,n.zw)(e.store.state.selected_node),1),c,(0,l.Uk)(" selected_events_index : "+(0,n.zw)(e.store.state.selected_event_index),1),b,(0,l.Uk)(" selected_service_index : "+(0,n.zw)(e.store.state.selected_service_index),1),p])):(0,l.kq)("",!0),((0,l.wg)(),(0,l.j4)((0,l.LL)(e.store.state.display_component)))])),_:1})])),_:1})])),_:1})}function _(e,t,a,s,d,o){const i=(0,l.up)("q-icon"),r=(0,l.up)("q-item-section"),u=(0,l.up)("q-item-label"),m=(0,l.up)("q-item");return(0,l.wg)(),(0,l.j4)(m,{clickable:"",tag:"a",target:"_blank",onClick:t[0]||(t[0]=t=>e.store.methods.update_display_component(e.component))},{default:(0,l.w5)((()=>[e.icon?((0,l.wg)(),(0,l.j4)(r,{key:0,avatar:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:e.icon},null,8,["name"])])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.title),1)])),_:1}),(0,l.Wm)(u,{caption:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.caption),1)])),_:1})])),_:1})])),_:1})}const f=(0,l.aZ)({name:"EssentialLink",setup(){const e=(0,l.f3)("store");return{store:e}},props:{title:{type:String,required:!0},caption:{type:String,default:""},component:{type:String,default:"layout"},icon:{type:String,default:""}}});var w=a(4260),y=a(3414),g=a(2035),x=a(4554),N=a(2350),V=a(7518),S=a.n(V);const I=(0,w.Z)(f,[["render",_]]),q=I;S()(f,"components",{QItem:y.Z,QItemSection:g.Z,QIcon:x.Z,QItemLabel:N.Z});var W=a(1959);const U={class:"q-pa-md"},h={class:"q-pa-md q-mr-sm rounded-borders"},k=(0,l._)("div",{class:"text-h4 text-black"},"Home Page",-1),T={class:"text-h5 text-black"},D={__name:"Home",setup(e){const t=(0,l.f3)("store");window.location.hostname;return(e,a)=>((0,l.wg)(),(0,l.iD)("div",U,[(0,l._)("div",h,[k,(0,l._)("div",T,(0,n.zw)((0,W.SU)(t).state.layout.layoutDetails.title),1)])]))}},E=D,C=E;a(4564);const B=(0,l._)("div",{class:"q-pa-md q-mr-sm rounded-borders"},[(0,l._)("div",{class:"text-h4 text-black"},"Layout")],-1),Z={class:"q-pa-md row"},Q={class:"q-pa-md q-mr-sm rounded-borders"},H={class:"text-h5 text-black"},O={class:"text-h6 text-black"},j=(0,l._)("div",{class:"text-h6 text-black"},"Edit layout details",-1),L=(0,l._)("div",{class:"text-h6"},"List of Layouts",-1),z=(0,l._)("div",{class:"text-h6"},"Change layout",-1),P=(0,l._)("p",null,"Click on the list of layouts to select an existing layout, or enter a name for a new layout, then click change",-1),M={__name:"Layout",setup(e){const t=(0,W.iH)(""),a=(0,W.iH)([]),s=[{name:"layout",field:"layout",required:!0,label:"Layout",align:"left",sortable:!0}],d=(0,l.f3)("store"),o=(window.location.hostname,(0,l.Fl)((()=>Object.values(d.state.layouts_list))));(0,l.YP)(o,(()=>{console.log("WATCH layoutList"),i()}));const i=()=>{a.value=[],o.value.forEach((e=>{console.log("update "+e),a.value.push({layout:e})}))};(0,l.wF)((()=>{d.methods.request_layout_list()}));const r=e=>{console.log("clicked on",e),t.value=e},u=()=>{console.log("Change layout"),d.methods.change_layout(t.value),d.methods.request_layout_list(),t.value=""};return(e,o)=>{const i=(0,l.up)("q-input"),m=(0,l.up)("q-card"),c=(0,l.up)("q-btn"),b=(0,l.up)("q-td"),p=(0,l.up)("q-table"),v=(0,l.up)("q-card-section");return(0,l.wg)(),(0,l.iD)(l.HY,null,[B,(0,l._)("div",Z,[(0,l._)("div",Q,[(0,l._)("div",H,(0,n.zw)((0,W.SU)(d).state.layout.layoutDetails.title),1),(0,l._)("div",O,(0,n.zw)((0,W.SU)(d).state.layout.layoutDetails.subTitle),1)]),(0,l.Wm)(m,{inline:"",class:"q-pa-md",flat:"",style:{"max-width":"500px"}},{default:(0,l.w5)((()=>[j,(0,l.Wm)(i,{label:"Title",outlined:"",modelValue:(0,W.SU)(d).state.layout.layoutDetails.title,"onUpdate:modelValue":o[0]||(o[0]=e=>(0,W.SU)(d).state.layout.layoutDetails.title=e),onChange:o[1]||(o[1]=e=>(0,W.SU)(d).methods.update_layout())},null,8,["modelValue"]),(0,l.Wm)(i,{label:"Sub Title",outlined:"",modelValue:(0,W.SU)(d).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":o[2]||(o[2]=e=>(0,W.SU)(d).state.layout.layoutDetails.subTitle=e),onChange:o[3]||(o[3]=e=>(0,W.SU)(d).methods.update_layout())},null,8,["modelValue"])])),_:1}),(0,l.Wm)(m,{inline:"",class:"q-pa-xs",flat:"",style:{"max-width":"500px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[L,(0,l.Wm)(p,{flat:"",bordered:"",dense:"",rows:a.value,columns:s,"row-key":"name","hide-header":"",pagination:{rowsPerPage:10}},{"body-cell":(0,l.w5)((e=>[(0,l.Wm)(b,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{flat:"",color:"primary",label:e.value,onClick:t=>r(e.value)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1}),(0,l.Wm)(m,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[z,(0,l.Wm)(i,{class:"q-pa-sm",outlined:"",modelValue:t.value,"onUpdate:modelValue":o[4]||(o[4]=e=>t.value=e),label:"layout name",maxlength:"30"},null,8,["modelValue"]),P,(0,l.Wm)(c,{color:"negative",label:"change",onClick:o[5]||(o[5]=e=>u()),"no-caps":""})])),_:1})])),_:1})])],64)}}};var Y=a(151),F=a(4842),$=a(5589),A=a(9178),K=a(3884),R=a(8240);const G=M,J=G;S()(M,"components",{QCard:Y.Z,QInput:F.Z,QCardSection:$.Z,QTable:A.Z,QTd:K.Z,QBtn:R.Z});const X=(0,l._)("div",{class:"col-2 q-table__title text-h4"},"Nodes",-1),ee={key:0},te={__name:"Nodes",setup(e){const t=[{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!0},{name:"nodeName",field:"nodeName",required:!0,label:"Node Name",align:"left",sortable:!0},{name:"group",field:"group",required:!0,label:"Group",align:"left",sortable:!0},{name:"moduleName",field:"moduleName",required:!0,label:"Module Name",align:"left",sortable:!0},{name:"component",field:"component",required:!0,label:"component",align:"left",sortable:!0},{name:"mode",field:"mode",required:!0,label:"Mode",align:"left",sortable:!0},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],a=(0,l.f3)("store"),s=(0,W.iH)(""),d=(0,W.iH)([]),o=(0,l.Fl)((()=>Object.values(a.state.nodes)));(0,l.YP)(o,(()=>{i()}));const i=()=>{d.value=[],o.value.forEach((e=>{let t={};t["nodeNumber"]=e.nodeNumber,t["nodeName"]=c(e.nodeNumber),t["group"]=p(e.nodeNumber),t["moduleName"]=e.moduleName,t["component"]=e.component,t["status"]=e.status,t["mode"]=e.flim,d.value.push(t)}))},r=()=>{a.methods.QNN()},u=(e,t)=>{a.state.selected_node=e,a.methods.request_all_node_parameters(a.state.selected_node,20,100),a.state.display_component="node"},m=e=>{a.methods.remove_node(e)},c=e=>e in a.state.layout.nodeDetails?a.state.layout.nodeDetails[e].name:e.toString()+" - "+a.state.nodes[e].moduleName,b=e=>e in a.state.layout.nodeDetails?a.state.layout.nodeDetails[e].colour:"blue",p=e=>e in a.state.layout.nodeDetails?a.state.layout.nodeDetails[e].group:"";return(0,l.wF)((()=>{a.methods.QNN()})),(e,o)=>{const i=(0,l.up)("q-space"),c=(0,l.up)("q-icon"),p=(0,l.up)("q-input"),v=(0,l.up)("q-btn"),_=(0,l.up)("q-td"),f=(0,l.up)("q-chip"),w=(0,l.up)("q-tr"),y=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l.Wm)(y,{title:"Nodes",rows:d.value,columns:t,filter:s.value,"row-key":"nodeNumber","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,l.w5)((()=>[X,(0,l.Wm)(i),(0,l.Wm)(p,{outlined:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(c,{name:"search"})])),_:1},8,["modelValue"]),(0,l.Wm)(i),(0,l.Wm)(v,{color:"negative",label:"Check Nodes",onClick:o[1]||(o[1]=e=>r()),"no-caps":""})])),body:(0,l.w5)((e=>[(0,l.Wm)(w,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{key:"nodeNumber",class:(0,n.C_)("text-"+b(e.row.nodeNumber)),props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["class","props"]),(0,l.Wm)(_,{key:"nodeName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeName),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"group",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.group),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"moduleName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.moduleName),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"component",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.component),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"mode",props:e},{default:(0,l.w5)((()=>[e.row.mode?((0,l.wg)(),(0,l.j4)(f,{key:0,color:"white","text-color":"amber"},{default:(0,l.w5)((()=>[(0,l.Uk)("Flim")])),_:1})):((0,l.wg)(),(0,l.j4)(f,{key:1,color:"white","text-color":"green"},{default:(0,l.w5)((()=>[(0,l.Uk)("Slim")])),_:1}))])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"status",props:e},{default:(0,l.w5)((()=>[e.row.status?((0,l.wg)(),(0,l.j4)(f,{key:0,color:"white","text-color":"green"},{default:(0,l.w5)((()=>[(0,l.Uk)("OK")])),_:1})):((0,l.wg)(),(0,l.j4)(f,{key:1,color:"white","text-color":"red"},{default:(0,l.w5)((()=>[(0,l.Uk)("Error")])),_:1}))])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"actions",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>u(e.row.nodeNumber,e.row.component),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(v,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>m(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("p",ee,(0,n.zw)(Object.values((0,W.SU)(a).state.nodes)),1)):(0,l.kq)("",!0)])])}}};var ae=a(2025),le=a(8186),ne=a(7030);const se=te,de=se;S()(te,"components",{QBtn:R.Z,QTable:A.Z,QSpace:ae.Z,QInput:F.Z,QIcon:x.Z,QTr:le.Z,QTd:K.Z,QChip:ne.Z});var oe=a(8880);const ie={class:"q-pa-md row items-start q-gutter-md"},re=(0,l._)("div",{class:"text-h6"},"Event Details",-1),ue=(0,l._)("div",{class:"text-subtitle2"},"Details to help identify the Event",-1),me=(0,l._)("div",{class:"text-h6"},"Teach Event",-1),ce=(0,l._)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),be={class:"q-pa-xs q-gutter-sm"},pe=(0,l._)("div",{class:"text-h6"},"Taught Events",-1),ve=(0,l._)("div",{class:"text-subtitle2"},"Nodes using this event",-1),_e=(0,l._)("div",{class:"text-h6"},"Generate event",-1),fe=(0,l._)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),we={class:"q-pa-md q-gutter-sm"},ye={__name:"EventDetails",props:{eventIdentifier:{type:String,required:!0},nodeNumber:{type:Number,required:!0},eventNumber:{type:Number,required:!0},type:{type:String,required:!0}},setup(e){const t=e,a=(0,W.iH)(""),n=(0,W.iH)(""),s=(0,W.iH)(""),d=(0,W.iH)(),o=(0,W.iH)([]),i=(0,W.iH)([]),r=(0,W.iH)([]),u=(0,W.iH)([]),m=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],c=(0,l.f3)("store"),b=(0,l.Fl)((()=>Object.values(c.state.layout.eventDetails)));(0,l.YP)(b,(()=>{console.log("WATCH Node Details"),_(),p()}));const p=()=>{r.value=[],b.value.forEach((e=>{r.value.includes(e.group)||r.value.push(e.group)}))},v=(0,l.Fl)((()=>Object.values(c.state.nodes)));(0,l.YP)(v,(()=>{_(),p()}));const _=()=>{u.value=[],i.value=[],v.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let a=Object.values(e.storedEvents);a.forEach((a=>{if(a.eventIdentifier==t.eventIdentifier){i.value.push(a.node);var l=c.state.layout.nodeDetails[e.nodeNumber].name;u.value.push({number:e.nodeNumber,name:l})}}))}})),f()},f=()=>{o.value=[];var e=c.state.layout.nodeDetails;for(var t in e){var a=!0;for(var l in i.value)i.value[l]==t&&(a=!1);a&&c.state.nodes[t].consumer&&o.value.push(t+": "+e[t].name)}};(0,l.bv)((()=>{t.eventIdentifier in c.state.layout.eventDetails?(a.value=c.state.layout.eventDetails[t.eventIdentifier].name,n.value=c.state.layout.eventDetails[t.eventIdentifier].colour,s.value=c.state.layout.eventDetails[t.eventIdentifier].group):(a.value=t.eventIdentifier,n.value="black",s.value=""),_(),p()}));const w=()=>{if(console.log(`teach_event : ${d.value} : ${t.eventIdentifier}`),""!=d.value){var e=d.value.split(":");console.log(`teach_event : ${e[0]} : ${t.eventIdentifier}`),c.methods.teach_event(e[0],t.eventIdentifier,t.eventIndex),d.value=void 0}},y=()=>{t.eventIdentifier in c.state.layout.eventDetails===!1&&(c.state.layout.eventDetails[t.eventIdentifier]={}),c.state.layout.eventDetails[t.eventIdentifier].name=a.value,c.state.layout.eventDetails[t.eventIdentifier].colour=n.value,c.state.layout.eventDetails[t.eventIdentifier].group=s.value,c.methods.update_layout()},g=()=>{"long"==t.type?c.methods.long_on_event(t.nodeNumber,t.eventNumber):c.methods.short_on_event(t.nodeNumber,t.eventNumber)},x=()=>{"long"==t.type?c.methods.long_off_event(t.nodeNumber,t.eventNumber):c.methods.short_off_event(t.nodeNumber,t.eventNumber)};return(e,t)=>{const i=(0,l.up)("q-input"),b=(0,l.up)("q-select"),p=(0,l.up)("q-card-section"),v=(0,l.up)("q-card"),_=(0,l.up)("q-btn"),f=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)("div",ie,[(0,l.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[re,ue,(0,l.Wm)(i,{class:"q-pa-sm",outlined:"",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),label:"Event Name",maxlength:"30",onChange:y},null,8,["modelValue"]),(0,l.Wm)(b,{class:"q-pa-sm",outlined:"",modelValue:n.value,"onUpdate:modelValue":[t[1]||(t[1]=e=>n.value=e),y],options:(0,W.SU)(c).state.colours,label:"Event Colour",maxlength:"30"},null,8,["modelValue","options"]),(0,l.Wm)(b,{class:"q-pa-sm",outlined:"","use-input":"",modelValue:s.value,"onUpdate:modelValue":[t[2]||(t[2]=e=>s.value=e),y],options:r.value,label:"Event Group",maxlength:"30","new-value-mode":"add-unique"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,l.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[me,ce,(0,l.Wm)(b,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),options:o.value},null,8,["modelValue","options"]),(0,l._)("div",be,[(0,l.Wm)(_,{color:"negative",label:"Teach",onClick:t[4]||(t[4]=e=>w()),"no-caps":""})])])),_:1})])),_:1}),(0,l.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[pe,ve,(0,l.Wm)(f,{flat:"",bordered:"",dense:"",rows:u.value,columns:m,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1}),(0,l.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[_e,fe,(0,l._)("div",we,[(0,l.Wm)(_,{color:"green",label:"ON",onClick:t[5]||(t[5]=e=>g())}),(0,l.Wm)(_,{color:"negative",label:"OFF",onClick:t[6]||(t[6]=e=>x())})])])),_:1})])),_:1})])}}};var ge=a(5106);const xe=ye,Ne=xe;S()(ye,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z,QSelect:ge.Z,QBtn:R.Z,QTable:A.Z});const Ve=(0,l._)("div",{class:"col-2 q-table__title text-h4"},"Events",-1),Se={key:0},Ie={__name:"Events",setup(e){const t=[{name:"expand",field:"expand",required:!0,label:"Expand",align:"left",sortable:!1},{name:"eventName",field:"name",required:!0,label:"Event Name",align:"left",sortable:!1},{name:"group",field:"name",required:!0,label:"Group",align:"left",sortable:!1},{name:"eventIdentifier",field:"id",required:!0,label:"Event Identifier",align:"left",sortable:!1},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!1},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event Number",align:"left",sortable:!1},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!1},{name:"type",field:"type",required:!0,label:"Type",align:"left",sortable:!1},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],a=(0,l.f3)("store"),s=(0,W.iH)(""),d={rowsPerPage:0};let o=(0,W.iH)();const i=(0,l.Fl)((()=>Object.values(a.state.events))),r=(0,l.Fl)((()=>a.state.layout));(0,l.YP)(i,(()=>{u()})),(0,l.YP)(r,(()=>{u()}));const u=()=>{let e=[];for(const t of Object.values(a.state.events)){let a={};a["id"]=t.id,a["nodeNumber"]=t.nodeNumber,a["eventNumber"]=t.eventNumber,a["status"]=t.status,a["type"]=t.type,a["count"]=t.count,a["name"]=m(t.id),a["colour"]=c(t.id),a["group"]=b(t.id),e.push(a)}o.value=e},m=e=>e in a.state.layout.eventDetails?a.state.layout.eventDetails[e].name:JSON.stringify(e),c=e=>e in a.state.layout.eventDetails?a.state.layout.eventDetails[e].colour:"blue",b=e=>e in a.state.layout.eventDetails?a.state.layout.eventDetails[e].group:"";return(0,l.bv)((()=>{for(var e in a.methods.refresh_events(),a.state.nodes)console.log("request Events for node "+e),a.methods.request_all_node_events(e)})),(e,i)=>{const r=(0,l.up)("q-space"),u=(0,l.up)("q-icon"),m=(0,l.up)("q-input"),b=(0,l.up)("q-btn"),p=(0,l.up)("q-td"),v=(0,l.up)("q-chip"),_=(0,l.up)("q-tr"),f=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(f,{title:"Events",rows:(0,W.SU)(o),columns:t,filter:s.value,"row-key":"id","virtual-scroll":"",pagnation:d,"onUpdate:pagnation":i[3]||(i[3]=e=>d=e),"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,l.w5)((()=>[Ve,(0,l.Wm)(r),(0,l.Wm)(m,{outlined:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=e=>s.value=e),placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"search"})])),_:1},8,["modelValue"]),(0,l.Wm)(r),(0,l.Wm)(b,{color:"negative",label:"Refresh Events",onClick:i[1]||(i[1]=e=>(0,W.SU)(a).methods.refresh_events()),"no-caps":""}),(0,l.Wm)(r),(0,l.Wm)(b,{color:"negative",label:"Clear Events",onClick:i[2]||(i[2]=e=>(0,W.SU)(a).methods.clear_events()),"no-caps":""})])),body:(0,l.w5)((e=>[(0,l.Wm)(_,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{key:"expand","auto-width":""},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{size:"sm",color:"accent",round:"",dense:"",onClick:t=>e.expand=!e.expand,icon:e.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,l.Wm)(p,{key:"eventName",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.name),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"group",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.group),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"eventIdentifier",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"nodeNumber",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"eventNumber",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"status",props:e},{default:(0,l.w5)((()=>["on"==e.row.status?((0,l.wg)(),(0,l.j4)(v,{key:0,color:"white","text-color":"green"},{default:(0,l.w5)((()=>[(0,l.Uk)("ON")])),_:1})):((0,l.wg)(),(0,l.j4)(v,{key:1,color:"white","text-color":"red"},{default:(0,l.w5)((()=>[(0,l.Uk)("OFF")])),_:1}))])),_:2},1032,["props"]),(0,l.Wm)(p,{key:"type",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props","class"]),(0,l.Wm)(p,{key:"count",props:e,class:(0,n.C_)("text-"+c(e.row.id))},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props","class"])])),_:2},1032,["props"]),(0,l.wy)((0,l.Wm)(_,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{colspan:"100%"},{default:(0,l.w5)((()=>[(0,l.Wm)(Ne,{eventIdentifier:e.row.id,nodeNumber:e.row.nodeNumber,eventNumber:e.row.eventNumber,type:e.row.type},null,8,["eventIdentifier","nodeNumber","eventNumber","type"])])),_:2},1024)])),_:2},1032,["props"]),[[oe.F8,e.expand]])])),_:1},8,["rows","filter"])]),(0,l._)("div",null,[(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("p",Se,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)):(0,l.kq)("",!0)])],64)}}},qe=Ie,We=qe;S()(Ie,"components",{QTable:A.Z,QSpace:ae.Z,QInput:F.Z,QIcon:x.Z,QBtn:R.Z,QTr:le.Z,QTd:K.Z,QChip:ne.Z});const Ue={class:"bg-primary q-pa-md"},he={class:"q-pa-md bg-white rounded-borders"},ke=(0,l._)("div",{class:"text-h4"},"Settings",-1),Te={__name:"Settings",setup(e){const t=(0,l.f3)("store");return(e,a)=>{const n=(0,l.up)("q-input"),s=(0,l.up)("q-card"),d=(0,l.up)("q-checkbox");return(0,l.wg)(),(0,l.iD)("div",Ue,[(0,l._)("div",he,[ke,(0,l.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{label:"Title",hint:"hint",outlined:"",modelValue:(0,W.SU)(t).state.layout.layoutDetails.title,"onUpdate:modelValue":a[0]||(a[0]=e=>(0,W.SU)(t).state.layout.layoutDetails.title=e),onChange:a[1]||(a[1]=e=>(0,W.SU)(t).methods.update_layout())},null,8,["modelValue"])])),_:1}),(0,l.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{label:"Sub Title",hint:"hint",outlined:"",modelValue:(0,W.SU)(t).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":a[2]||(a[2]=e=>(0,W.SU)(t).state.layout.layoutDetails.subTitle=e),onChange:a[3]||(a[3]=e=>(0,W.SU)(t).methods.update_layout())},null,8,["modelValue"])])),_:1}),(0,l.wy)((0,l.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{label:"Next Assigned Node ID",hint:"hint",outlined:"",modelValue:(0,W.SU)(t).state.layout.layoutDetails.nextNodeId,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,W.SU)(t).state.layout.layoutDetails.nextNodeId=e),onChange:a[5]||(a[5]=e=>(0,W.SU)(t).methods.update_layout())},null,8,["modelValue"]),(0,l.Wm)(d,{modelValue:(0,W.SU)(t).state.layout.layoutDetails.assignId,"onUpdate:modelValue":a[6]||(a[6]=e=>(0,W.SU)(t).state.layout.layoutDetails.assignId=e),label:"Assign Id"},null,8,["modelValue"])])),_:1},512),[[oe.F8,(0,W.SU)(t).state.advanced]]),(0,l.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{modelValue:(0,W.SU)(t).state.debug,"onUpdate:modelValue":a[7]||(a[7]=e=>(0,W.SU)(t).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,l.Wm)(d,{modelValue:(0,W.SU)(t).state.advanced,"onUpdate:modelValue":a[8]||(a[8]=e=>(0,W.SU)(t).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,l.Wm)(d,{modelValue:(0,W.SU)(t).state.develop,"onUpdate:modelValue":a[9]||(a[9]=e=>(0,W.SU)(t).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1})])])}}};var De=a(6271);const Ee=Te,Ce=Ee;function Be(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.display_component)))])}function Ze(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("default-variables"),b=(0,l.up)("default-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])],64)}function Qe(e,t,a,s,d,o){const i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l._)("b",null,(0,n.zw)(a.Name),1),(0,l.Uk)(" : "+(0,n.zw)(a.Value),1)])),_:1})}S()(Te,"components",{QCard:Y.Z,QInput:F.Z,QCheckbox:De.Z});const He={name:"NodeParameter",props:["Name","Value"],setup(e){return{props:e}}},Oe=(0,w.Z)(He,[["render",Qe]]),je=Oe;S()(He,"components",{QCard:Y.Z,QInput:F.Z});const Le={class:"row items-start q-gutter-md"},ze=(0,l._)("div",{class:"text-h6"},"Node Details",-1),Pe=(0,l._)("div",{class:"text-subtitle2"},"Details to help identify the Node",-1),Me=(0,l._)("div",{class:"text-h6"},"Node Info",-1),Ye=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),Fe=(0,l._)("div",{class:"text-h6"},"Module Info",-1),$e=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),Ae=(0,l._)("div",{class:"text-h6"},"Hardware Info",-1),Ke=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),Re={__name:"DefaultInfo",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)(""),n=(0,W.iH)(""),s=(0,W.iH)(""),d=(0,W.iH)([]),o=(0,l.Fl)((()=>Object.values(t.state.layout.nodeDetails)));(0,l.YP)(o,(()=>{console.log("WATCH Node Details"),i()}));const i=()=>{d.value=[],o.value.forEach((e=>{d.value.includes(e.group)||d.value.push(e.group)}))};(0,l.wF)((()=>{t.methods.request_all_node_parameters(t.state.selected_node,20,100),t.state.selected_node in t.state.layout.nodeDetails?(a.value=t.state.layout.nodeDetails[t.state.selected_node].name,n.value=t.state.layout.nodeDetails[t.state.selected_node].colour,s.value=t.state.layout.nodeDetails[t.state.selected_node].group):(a.value=t.state.selected_node.toString()+" - "+t.state.nodes[t.state.selected_node].module,n.value="black",s.value=""),i()}));const r=()=>{console.log("Node Details Update Node"),t.state.selected_node in t.state.layout.nodeDetails===!1&&(t.state.layout.nodeDetails[t.state.selected_node]={}),t.state.layout.nodeDetails[t.state.selected_node].name=a.value,t.state.layout.nodeDetails[t.state.selected_node].colour=n.value,t.state.layout.nodeDetails[t.state.selected_node].group=s.value,t.methods.update_layout()};return(e,o)=>{const i=(0,l.up)("q-card-section"),u=(0,l.up)("q-input"),m=(0,l.up)("q-select"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",Le,[(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[ze,Pe])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"q-pa-xs",outlined:"",modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),label:"Node Name",maxlength:"30",onChange:r},null,8,["modelValue"]),(0,l.Wm)(m,{class:"q-pa-sm",outlined:"",modelValue:n.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>n.value=e),r],options:(0,W.SU)(t).state.colours,label:"Node Colour",maxlength:"30"},null,8,["modelValue","options"]),(0,l.Wm)(m,{class:"q-pa-sm",outlined:"","use-input":"",modelValue:s.value,"onUpdate:modelValue":[o[2]||(o[2]=e=>s.value=e),r],options:d.value,label:"Node Group",maxlength:"30","new-value-mode":"add-unique"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Me,Ye])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Node Number",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].nodeNumber},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Component",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].component},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Node Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[6]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Event Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Events Stored",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].eventCount},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Fe,$e])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Manufacturer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleManufacturerName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Module",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Producer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].producer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consumer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].consumer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consume own Events",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].coe},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Ae,Ke])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"CPU Name",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].cpuName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Interface",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].interfaceName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Major Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[7]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Minor Version",Value:String.fromCharCode((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[2])},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Beta Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[20]},null,8,["Value"])])),_:1})])),_:1})])}}},Ge=Re,Je=Ge;S()(Re,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z,QSelect:ge.Z});const Xe={class:"q-pa-xs row"};function et(e,t,a,n,s,d){const o=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)("div",Xe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(o,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])}const tt={class:"text-h6"},at={class:"text-subtitle2"},lt={__name:"NodeVariableNumber",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const t=e,a=(t.name?t.name:t.nodeVariableIndex,(0,l.f3)("store")),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,W.iH)(),i=(0,l.Fl)((()=>a.state.nodes[t.nodeNumber].nodeVariables[t.nodeVariableIndex]));(0,l.YP)(i,(()=>{o.value=i.value}));const r=e=>{e<t.min||e>t.max?(s.value=!0,d.value="Invalid Value"):(s.value=!1,d.value="",a.methods.update_node_variable(t.nodeNumber,t.nodeVariableIndex,e))};return(0,l.bv)((()=>{o.value=i.value})),(t,a)=>{const i=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),m=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(m,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",tt,(0,n.zw)(e.displayTitle),1),(0,l._)("div",at,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(i,{mask:"###",debounce:"1000",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),outlined:"","error-message":d.value,error:s.value,onChange:r},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},nt=lt,st=nt;S()(lt,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z});const dt={name:"DefaultVariables",components:{NodeVariableNumber:st},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,NodeVariableNumber:st}}},ot=(0,w.Z)(dt,[["render",et]]),it=ot;function rt(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const ut={class:"text-h6"},mt={class:"text-subtitle2"},ct={__name:"EventVariable",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},Title:{type:String,required:!1},Description:{type:String,required:!1},name:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},hint:{type:String,default:""}},setup(e){const t=e,a=t.name?t.name:"Event Variable "+t.eventVariableIndex,s=(0,l.f3)("store"),d=(0,W.iH)(!1),o=(0,W.iH)(""),i=(0,W.iH)();let r=s.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;console.log(`Event Variable Props : ${JSON.stringify(t)}`);const u=(0,l.Fl)((()=>s.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]));(0,l.YP)(u,(()=>{i.value=u.value}));const m=e=>{e<t.min||e>t.max||""==e?(d.value=!0,o.value="Invalid Value"):(o.value="",d.value=!1,s.methods.update_event_variable(t.nodeNumber,r,t.eventIndex,t.eventVariableIndex,e))};return(0,l.bv)((()=>{i.value=s.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]})),(t,s)=>{const r=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(c,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",ut,(0,n.zw)(e.Title),1),(0,l._)("div",mt,(0,n.zw)(e.Description),1),(0,l.Wm)(r,{mask:"###",label:(0,W.SU)(a),debounce:"1000",hint:e.hint,modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=e=>i.value=e),outlined:"","error-message":o.value,error:d.value,onChange:m},null,8,["label","hint","modelValue","error-message","error"])])),_:1})])),_:1})}}},bt=ct,pt=bt;S()(ct,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z});const vt=(0,l._)("h5",null,"Event Variables",-1),_t={class:"q-pa-md row"},ft={__name:"DefaultEventVariables",setup(e){const t=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,a)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[vt,(0,l._)("div",_t,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])],64))}},wt=ft,yt=wt,gt={class:"full-width"},xt={key:0,class:"q-pa-sm row"},Nt={__name:"DefaultEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventName"]=a.getters.event_name(e.eventIdentifier),t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("DefaultEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",gt,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",xt,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Vt=Nt,St=Vt;S()(Nt,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const It={name:"DefaultEvents",components:{DefaultEventsList:St,DefaultEventVariables:yt},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.update_event_component("DefaultEventsList")})),{store:e}}},qt=(0,w.Z)(It,[["render",rt]]),Wt=qt,Ut={class:"text-h6"},ht={class:"row"},kt={class:"col"},Tt={class:"col"},Dt={class:"col"};function Et(e,t,a,s,d,o){return(0,l.wg)(),(0,l.iD)("div",Ut,[(0,l._)("div",ht,[(0,l._)("div",kt,"Node number : "+(0,n.zw)(s.store.state.selected_node),1),(0,l._)("div",Tt,(0,n.zw)(s.store.state.layout.nodeDetails[s.store.state.selected_node].name),1),(0,l._)("div",Dt,"Type : "+(0,n.zw)(s.store.state.nodes[s.store.state.selected_node].moduleName),1)])])}const Ct={name:"NodeDetails",setup(){const e=(0,l.f3)("store");return{store:e}}},Bt=(0,w.Z)(Ct,[["render",Et]]),Zt=Bt,Qt={name:"mergDefault",components:{DefaultInfo:Je,DefaultVariables:it,DefaultEvents:Wt,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}};var Ht=a(7547),Ot=a(3269),jt=a(5906),Lt=a(6602);const zt=(0,w.Z)(Qt,[["render",Ze]]),Pt=zt;function Mt(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default2-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("default2-variables"),b=(0,l.up)("default2NodeServices"),p=(0,l.up)("default2-events"),v=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Node Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"services",label:"Services"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:2,name:"events",label:"Stored Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(v,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"services",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(p)])),_:1})])),_:1},8,["modelValue"])])],64)}S()(Qt,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});var Yt=a(8825);const Ft={class:"row items-start q-gutter-md"},$t=(0,l._)("div",{class:"text-h6"},"Node Details",-1),At=(0,l._)("div",{class:"text-subtitle2"},"Details to help identify the Node",-1),Kt=(0,l._)("div",{class:"text-h6"},"Node Information",-1),Rt=(0,l._)("div",{class:"text-subtitle2"},"Node Specific",-1),Gt=(0,l._)("div",{class:"text-h6"},"Module Information",-1),Jt=(0,l._)("div",{class:"text-subtitle2"},"Node Parameters",-1),Xt=(0,l._)("div",{class:"text-h6"},"Hardware Information",-1),ea=(0,l._)("div",{class:"text-subtitle2"},"Node Parameters",-1),ta={class:"q-pa-xs row"},aa={key:0},la=(0,l._)("br",null,null,-1),na={__name:"Default2Info",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)(""),s=(0,W.iH)(""),d=(0,W.iH)(""),o=(0,W.iH)([]),i=(0,Yt.Z)(),r=(0,l.Fl)((()=>Object.values(t.state.layout.nodeDetails)));(0,l.YP)(r,(()=>{m()}));const u=(0,l.Fl)((()=>t.state.nodes[t.state.selected_node].moduleDescriptorFilename));(0,l.YP)(u,(()=>{b()}));const m=()=>{o.value=[],r.value.forEach((e=>{o.value.includes(e.group)||o.value.push(e.group)}))};var c=!1;const b=()=>{console.log("checkFileLoad"),1!=c&&("Unknown"==t.state.nodes[t.state.selected_node].moduleName?(i.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),c=!0):void 0!=u.value&&void 0==t.state.nodes[t.state.selected_node].variableConfig&&(i.notify({message:"Failed to load module file "+u.value,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),c=!0),c&&console.log("LoadFile notification raised"))};(0,l.bv)((()=>{b()})),(0,l.wF)((()=>{t.methods.request_service_discovery(t.state.selected_node),t.state.selected_node in t.state.layout.nodeDetails?(a.value=t.state.layout.nodeDetails[t.state.selected_node].name,s.value=t.state.layout.nodeDetails[t.state.selected_node].colour,d.value=t.state.layout.nodeDetails[t.state.selected_node].group):(a.value=t.state.selected_node.toString()+" - "+t.state.nodes[t.state.selected_node].module,s.value="black",d.value=""),m()}));const p=()=>{console.log("Node Details Update Node"),t.state.selected_node in t.state.layout.nodeDetails===!1&&(t.state.layout.nodeDetails[t.state.selected_node]={}),t.state.layout.nodeDetails[t.state.selected_node].name=a.value,t.state.layout.nodeDetails[t.state.selected_node].colour=s.value,t.state.layout.nodeDetails[t.state.selected_node].group=d.value,t.methods.update_layout()};return(e,i)=>{const r=(0,l.up)("q-card-section"),m=(0,l.up)("q-input"),c=(0,l.up)("q-select"),b=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ft,[(0,l.Wm)(b,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[$t,At])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"q-pa-xs",outlined:"",modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e),label:"Node Name",maxlength:"30",onChange:p},null,8,["modelValue"]),(0,l.Wm)(c,{class:"q-pa-sm",outlined:"",modelValue:s.value,"onUpdate:modelValue":[i[1]||(i[1]=e=>s.value=e),p],options:(0,W.SU)(t).state.colours,label:"Node Colour",maxlength:"30"},null,8,["modelValue","options"]),(0,l.Wm)(c,{class:"q-pa-sm",outlined:"","use-input":"",modelValue:d.value,"onUpdate:modelValue":[i[2]||(i[2]=e=>d.value=e),p],options:o.value,label:"Node Group",maxlength:"30","new-value-mode":"add-unique"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,l.Wm)(b,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[Kt,Rt])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Node Number",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].nodeNumber},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Component",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].component},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Events Currently Stored",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].eventCount},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Filename",Value:u.value},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(b,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[Gt,Jt])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Manufacturer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleManufacturerName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Module",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Module Identifier",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleIdentifier},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Producer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].producer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consumer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].consumer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consume own Events",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].coe},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Node Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[6]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Events Supported",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[4]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Event Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5]},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(b,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[Xt,ea])),_:1}),(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"CPU Name",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].cpuName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Interface",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].interfaceName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Firmware Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[7]+String.fromCharCode((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[2])},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Beta Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[20]},null,8,["Value"])])),_:1})])),_:1})]),(0,l._)("div",ta,[(0,W.SU)(t).state.debug?((0,l.wg)(),(0,l.iD)("p",aa,[(0,l.Uk)(" Debug: Node JSON"),la,(0,l._)("pre",null,"      "+(0,n.zw)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node])+"\n      ",1)])):(0,l.kq)("",!0)])],64)}}},sa=na,da=sa;S()(na,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z,QSelect:ge.Z});const oa={class:"q-pa-xs row"},ia={key:8},ra=(0,l._)("h5",null,"Raw View",-1),ua={class:"q-pa-xs row"};function ma(e,t,a,s,d,o){const i=(0,l.up)("NodeVariableBitArray"),r=(0,l.up)("NodeVariableBitSingle"),u=(0,l.up)("NodeVariableDual"),m=(0,l.up)("NodeVariableGroup"),c=(0,l.up)("NodeVariableNumber"),b=(0,l.up)("NodeVariableSelect"),p=(0,l.up)("node-variable-slider"),v=(0,l.up)("NodeVariableTabs"),_=(0,l.up)("NodeVariableRaw");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",oa,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.nodeVariables,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["NodeVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(i,{key:0,nodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:1,NodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,l.kq)("",!0),"NodeVariableDual"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:2,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"group"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:3,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0),"NodeVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:4,"node-number":s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,l.kq)("",!0),"NodeVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"NodeVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(p,{key:6,"node-number":s.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"NodeVariableTabs"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(v,{key:7,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0),s.store.state.debug?((0,l.wg)(),(0,l.iD)("div",ia,(0,n.zw)(e.type)+" - "+(0,n.zw)(e.nodeVariableIndex)+" - "+(0,n.zw)(e.displayTitle),1)):(0,l.kq)("",!0)])))),128))]),ra,(0,l._)("div",ua,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.store.state.nodes[s.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(_,{"node-variable-index":e,"node-number":s.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])],64)}const ca={__name:"NodeVariableBit",props:{NodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const t=e;console.log("Node Variable Bit : "+t.NodeNumber);t.Name?t.Name:t.VariableIndex;const a=(0,l.f3)("store"),n=(0,W.iH)(!1),s={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},d=(0,l.Fl)({get(){return a.state.nodes[t.NodeNumber].nodeVariables[t.VariableIndex]},set(e){t.learn?a.methods.update_node_variable_in_learn_mode(t.NodeNumber,t.VariableIndex,e):a.methods.update_node_variable(t.NodeNumber,t.VariableIndex,e)}});(0,l.YP)(d,((e,l)=>{n.value=!!(a.state.nodes[t.NodeNumber].nodeVariables[t.VariableIndex]&s[t.Bit])}));const o=()=>{console.log("NodeVariableBit update_checked");let e=d.value;n.value?(e|=s[t.Bit],console.log(`bit ${s[t.Bit]} set, new byte value ${e}`)):(e&=~s[t.Bit],console.log(`bit ${s[t.Bit]} cleared, new byte value ${e}`)),t.learn?a.methods.update_node_variable_in_learn_mode(t.NodeNumber,t.VariableIndex,e):a.methods.update_node_variable(t.NodeNumber,t.VariableIndex,e)};return(0,l.bv)((()=>{const e=!!(a.state.nodes[t.NodeNumber].nodeVariables[t.VariableIndex]&s[t.Bit]);console.log("NodeVariableBit onMounted: Checked"+e),n.value=e})),(t,a)=>{const s=(0,l.up)("q-checkbox");return(0,l.wg)(),(0,l.j4)(s,{"min-width":"100",modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),label:e.Name,onClick:o,"right-label":""},null,8,["modelValue","label"])}}},ba=ca,pa=ba;function va(e,t){var a=null;if(e.nv){var l=t.state.nodes[t.state.selected_node].nodeVariables[e.nv];for(var n in e.labels)l==e.labels[n].value&&(a=e.labels[n].label)}return console.log("overloadedLabel: element "+JSON.stringify(e)+" result = "+a),a}function _a(e,t,a){var l=!0;if(void 0!=e.evBit)if(void 0!=a){var n=t.state.nodes[t.state.selected_node].storedEvents[a],s=n.variables[e.evBit.index];s=(s&2**e.evBit.bit)>>e.evBit.bit,l=fa(s,e),console.log("parseLogicElement: evBit result = "+l)}else console.log("parseLogicElement: ERROR: evBit - event index (argument3) not defined ");if(void 0!=e.nvBit){s=t.state.nodes[t.state.selected_node].nodeVariables[e.nvBit.index];s=(s&2**e.nvBit.bit)>>e.nvBit.bit,l=fa(s,e),console.log("parseLogicElement: nvBit result = "+l)}if(void 0!=e.nv){s=t.state.nodes[t.state.selected_node].nodeVariables[e.nv];l=fa(s,e),console.log("parseLogicElement: nv result = "+l)}return l}function fa(e,t){var a=!0;return void 0!=t.equals&&t.equals!=e&&(a=!1),void 0!=t.in&&(a=!1,t.in.forEach((function(t){e==t&&(a=!0)}))),void 0!=t.notEqual&&t.notEqual==e&&(a=!1),a}S()(ca,"components",{QCheckbox:De.Z});const wa={class:"text-h6"},ya={class:"text-subtitle2"},ga={__name:"NodeVariableBitArray",props:{nodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""}},setup(e){const t=(0,l.f3)("store");(0,W.iH)();var a=(0,W.iH)();const s=e,d=(0,l.Fl)((()=>t.state.nodes[s.nodeNumber].nodeVariables));function o(){for(var e in a.value=[],s.bitCollection)if(s.bitCollection[e].overload){var l=va(s.bitCollection[e].overload,t);if(l){var n={bitPosition:s.bitCollection[e].bitPosition,label:l};a.value.push(n)}}else s.bitCollection[e].label&&a.value.push(s.bitCollection[e])}return(0,l.YP)(d,(()=>{o()})),(0,l.bv)((()=>{console.log("NodeVariableBitArray onMounted:"),console.log(`NodeVariableBitArray: props: ${JSON.stringify(s)}`),o()})),(s,d)=>{const o=(0,l.up)("q-card-section"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("div",wa,(0,n.zw)(e.displayTitle),1),(0,l._)("div",ya,(0,n.zw)(e.displaySubTitle),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(a),(a=>((0,l.wg)(),(0,l.iD)("div",{key:a},[(0,l.Wm)((0,W.SU)(pa),{NodeNumber:(0,W.SU)(t).state.selected_node,VariableIndex:e.VariableIndex,Bit:a.bitPosition,Name:a.label},null,8,["NodeNumber","VariableIndex","Bit","Name"])])))),128))])),_:1})])),_:1})}}},xa=ga,Na=xa;S()(ga,"components",{QCard:Y.Z,QCardSection:$.Z});const Va={class:"text-h6"},Sa={class:"text-subtitle2"},Ia={__name:"NodeVariableBitSingle",props:{VariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const t=(0,l.f3)("store");return(0,l.bv)((()=>{console.log("NodeVariableBitSingle onMounted")})),(a,s)=>{const d=(0,l.up)("q-card-section"),o=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(o,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",Va,(0,n.zw)(e.displayTitle),1),(0,l._)("div",Sa,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)((0,W.SU)(pa),{NodeNumber:(0,W.SU)(t).state.selected_node,VariableIndex:e.VariableIndex,Bit:e.Bit,learn:e.learn,Name:e.Name},null,8,["NodeNumber","VariableIndex","Bit","learn","Name"])])),_:1})])),_:1})}}},qa=Ia,Wa=qa;S()(Ia,"components",{QCard:Y.Z,QCardSection:$.Z});const Ua={class:"text-h6"},ha={class:"text-subtitle2"},ka={__name:"NodeVariableDual",props:{NodeNumber:{type:Number,required:!0},NodeVariableIndexHigh:{type:Number,required:!0},NodeVariableIndexLow:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:65025},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const t=e,a=(t.name&&t.name,(0,l.f3)("store")),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,W.iH)(),i=(0,l.Fl)((()=>(a.state.nodes[t.NodeNumber].nodeVariables[t.NodeVariableIndexHigh]<<8)+a.state.nodes[t.NodeNumber].nodeVariables[t.NodeVariableIndexLow]));(0,l.YP)(i,(()=>{o.value=i.value}));const r=e=>{e<t.min||e>t.max?(console.log(`Invalid Value : ${e}`),s.value=!0,d.value="Invalid Value"):(console.log(`Value Ok : ${e}`),s.value=!1,d.value="",a.methods.update_node_variable(t.NodeNumber,t.NodeVariableIndexHigh,e>>8),a.methods.update_node_variable(t.NodeNumber,t.NodeVariableIndexLow,255&e))};return(0,l.bv)((()=>{o.value=(a.state.nodes[t.NodeNumber].nodeVariables[t.NodeVariableIndexHigh]<<8)+a.state.nodes[t.NodeNumber].nodeVariables[t.NodeVariableIndexLow],console.log(`NodeVariableDual ${o.value}`)})),(t,a)=>{const i=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),m=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(m,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ua,(0,n.zw)(e.displayTitle),1),(0,l._)("div",ha,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(i,{mask:"#####",debounce:"1000",hint:e.hint,modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),outlined:"","error-message":d.value,error:s.value,onChange:r},null,8,["hint","modelValue","error-message","error"])])),_:1})])),_:1})}}},Ta=ka,Da=Ta;S()(ka,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z});const Ea={style:{border:"2px solid grey"}},Ca={class:"GroupTitle"},Ba={class:"q-pa-xs row"};function Za(e,t,a,s,d,o){const i=(0,l.up)("NodeVariableNumber"),r=(0,l.up)("NodeVariableBitArray"),u=(0,l.up)("NodeVariableBitSingle"),m=(0,l.up)("node-variable-slider"),c=(0,l.up)("NodeVariableDual"),b=(0,l.up)("NodeVariableSelect"),p=(0,l.up)("NodeVariableTabs");return(0,l.wg)(),(0,l.iD)("div",Ea,[(0,l._)("div",Ca,(0,n.zw)(a.configuration.displayTitle),1),(0,l._)("div",Ba,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.configuration.groupItems,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["NodeVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(i,{key:0,"node-number":s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,l.kq)("",!0),"NodeVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:1,nodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:2,NodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,l.kq)("",!0),"NodeVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:3,"node-number":s.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"NodeVariableDual"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"NodeVariableTabs"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(p,{key:6,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0)])))),128))])])}const Qa={class:"text-h6"},Ha={class:"text-subtitle2"},Oa={__name:"NodeVariableSlider",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const t=e;console.log("Node Variable : "+t.nodeNumber);t.name?t.name:t.nodeVariableIndex;const a=(0,l.f3)("store"),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,l.Fl)((()=>{for(var e=0,a=t.startBit;a<=t.endBit;a++)e+=1<<a;return e}));console.log(`NodeVariableSlider: bitMask : ${o.value}`);const i=(0,l.Fl)({get(){return(a.state.nodes[t.nodeNumber].nodeVariables[t.nodeVariableIndex]&o.value)>>t.startBit},set(e){let l=a.state.nodes[t.nodeNumber].nodeVariables[t.nodeVariableIndex];if(console.log(`OldByteValue : ${l}`),e<=t.max&&e>=t.min){console.log(`update_variable : ${e}`);let n=e;n<<=t.startBit,l|=n&o.value,l&=n|~o.value,s.value=!1,d.value="",a.methods.update_node_variable(t.nodeNumber,t.nodeVariableIndex,l),console.log(`NewByteValue : ${l}`)}else console.log(`Invalid Value : ${e}`),d.value="Invalid Value",s.value=!0}}),r=e=>{s.value?console.log(`Invalid Value : ${e}`):console.log(`update_variable : ${e}`)};return(0,l.bv)((()=>{console.log("NodeVariableSlider")})),(t,a)=>{const s=(0,l.up)("q-badge"),d=(0,l.up)("q-slider"),o=(0,l.up)("q-card-section"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("div",Qa,(0,n.zw)(e.displayTitle),1),(0,l._)("div",Ha,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(s,{color:"secondary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(i.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,l.Wm)(d,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=e=>i.value=e),max:e.max,min:e.min,onChange:r},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}};var ja=a(9721),La=a(2064);const za=Oa,Pa=za;S()(Oa,"components",{QCard:Y.Z,QCardSection:$.Z,QBadge:ja.Z,QSlider:La.Z});const Ma={class:"text-h6"},Ya={class:"text-subtitle2"},Fa={__name:"NodeVariableSelect",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},learn:{type:Boolean,default:!1}},setup(e){const t=e,a=(t.name?t.name:t.nodeVariableIndex,(0,l.f3)("store")),s=(0,W.iH)(),d=(0,l.Fl)((()=>a.state.nodes[t.nodeNumber].nodeVariables[t.nodeVariableIndex]));(0,l.YP)(d,(()=>{s.value=d.value&t.bitMask}));const o=e=>{console.log(`NodeVariableSelect update_variable ${e.value}`);let l=d.value;l|=e.value&t.bitMask,l&=e.value|~t.bitMask,console.log(`EventVariableSelect: byteValue ${l}`),a.methods.update_node_variable(t.nodeNumber,t.nodeVariableIndex,l)};return(0,l.bv)((()=>{console.log("NodeVariableSelect: onMounted"),s.value=d.value&t.bitMask,console.log(`NodeVariableSelect: props: ${JSON.stringify(t)}`)})),(t,a)=>{const d=(0,l.up)("q-select"),i=(0,l.up)("q-card-section"),r=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(r,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ma,(0,n.zw)(e.displayTitle),1),(0,l._)("div",Ya,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(d,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>s.value=e),o],options:e.options,"map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},$a=Fa,Aa=$a;S()(Fa,"components",{QCard:Y.Z,QCardSection:$.Z,QSelect:ge.Z});const Ka={class:"q-pa-md"},Ra={class:"q-pa-xs row",style:{border:"1px solid grey"}};function Ga(e,t,a,n,s,d){const o=(0,l.up)("q-tab"),i=(0,l.up)("q-tabs"),r=(0,l.up)("NodeVariableNumber"),u=(0,l.up)("NodeVariableBitArray"),m=(0,l.up)("NodeVariableBitSingle"),c=(0,l.up)("NodeVariableDual"),b=(0,l.up)("NodeVariableSelect"),p=(0,l.up)("node-variable-slider"),v=(0,l.up)("NodeVariableTabGroup"),_=(0,l.up)("q-tab-panel"),f=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)("div",Ka,[(0,l.Wm)(i,{modelValue:n.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTab=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tabPanels,(e=>((0,l.wg)(),(0,l.j4)(o,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(f,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedTab=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tabPanels,(e=>((0,l.wg)(),(0,l.j4)(_,{key:e.displayTitle,name:e.displayTitle},{default:(0,l.w5)((()=>[(0,l._)("div",Ra,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["NodeVariableNumber"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:0,"node-number":n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,l.kq)("",!0),"NodeVariableBitArray"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableBitSingle"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:2,NodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,l.kq)("",!0),"NodeVariableDual"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:3,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableSelect"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:4,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"NodeVariableSlider"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(p,{key:5,"node-number":n.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"group"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(v,{key:6,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const Ja={style:{border:"2px solid grey"}},Xa={class:"GroupTitle"},el={class:"q-pa-xs row"};function tl(e,t,a,s,d,o){const i=(0,l.up)("NodeVariableNumber"),r=(0,l.up)("NodeVariableBitArray"),u=(0,l.up)("NodeVariableBitSingle"),m=(0,l.up)("node-variable-slider"),c=(0,l.up)("NodeVariableDual"),b=(0,l.up)("NodeVariableSelect");return(0,l.wg)(),(0,l.iD)("div",Ja,[(0,l._)("div",Xa,(0,n.zw)(a.configuration.displayTitle),1),(0,l._)("div",el,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.configuration.groupItems,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["NodeVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(i,{key:0,"node-number":s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,l.kq)("",!0),"NodeVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:1,nodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,Title:e.displayTitle,Description:e.description,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","Title","Description"])):(0,l.kq)("",!0),"NodeVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:2,NodeNumber:s.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,l.kq)("",!0),"NodeVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:3,"node-number":s.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"NodeVariableDual"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"NodeVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:s.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0)])))),128))])])}const al={components:{NodeVariableNumber:st,NodeVariableBitArray:Na,NodeVariableBitSingle:Wa,NodeVariableSlider:Pa,NodeVariableDual:Da,NodeVariableSelect:Aa},props:{configuration:Object},setup(e){const t=(0,l.f3)("store");function a(e){var a=!0;return e.visibilityLogic&&(a=_a(e.visibilityLogic,t)),console.log("isVisible: "+a+" "+e.type),a}return(0,l.bv)((()=>{console.log("Group onMounted"),console.log("Node Group props: "+JSON.stringify(e))})),{store:t,isVisible:a}}},ll=(0,w.Z)(al,[["render",tl],["__scopeId","data-v-7a8e607a"]]),nl=ll,sl={props:{configuration:Object},components:{NodeVariableBitArray:Na,NodeVariableBitSingle:Wa,NodeVariableDual:Da,NodeVariableNumber:st,NodeVariableSelect:Aa,NodeVariableSlider:Pa,NodeVariableTabGroup:nl},setup(e){const t=(0,W.iH)(),a=(0,W.iH)(),n=(0,l.f3)("store");function s(e){var t=!0;return e.visibilityLogic&&(t=_a(e.visibilityLogic,n)),console.log("isVisible: "+t+" "+e.type),t}return(0,l.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),t.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(t.value)),a.value=t.value[0].displayTitle})),{store:n,selectedTab:a,tabPanels:t,isVisible:s}}},dl=(0,w.Z)(sl,[["render",Ga]]),ol=dl;S()(sl,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const il={components:{NodeVariableNumber:st,NodeVariableBitArray:Na,NodeVariableBitSingle:Wa,NodeVariableSlider:Pa,NodeVariableDual:Da,NodeVariableSelect:Aa,NodeVariableTabs:ol},props:{configuration:Object},setup(e){const t=(0,l.f3)("store");function a(e){var a=!0;return e.visibilityLogic&&(a=_a(e.visibilityLogic,t)),console.log("isVisible: "+a+" "+e.type),a}return(0,l.bv)((()=>{console.log("Group onMounted"),console.log("Node Group props: "+JSON.stringify(e))})),{store:t,isVisible:a}}},rl=(0,w.Z)(il,[["render",Za],["__scopeId","data-v-7ffe3e8a"]]),ul=rl,ml={__name:"NodeVariableRaw",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const t=e,a=t.name?t.name:"Variable"+t.nodeVariableIndex,n=(0,l.f3)("store"),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,W.iH)(),i=(0,l.Fl)((()=>n.state.nodes[t.nodeNumber].nodeVariables[t.nodeVariableIndex]));(0,l.YP)(i,(()=>{o.value=i.value}));const r=e=>{e<0||e>255||""==e?(s.value=!0,d.value="Invalid Value"):(s.value=!1,d.value="",n.methods.update_node_variable(t.nodeNumber,t.nodeVariableIndex,e))};return(0,l.bv)((()=>{o.value=i.value})),(e,t)=>{const n=(0,l.up)("q-input"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{mask:"###",class:"bg-white",filled:"",label:(0,W.SU)(a),debounce:"1000",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),outlined:"","error-message":d.value,error:s.value,onChange:r},null,8,["label","modelValue","error-message","error"])])),_:1})}}},cl=ml,bl=cl;S()(ml,"components",{QCard:Y.Z,QInput:F.Z});const pl={name:"DefaultVariables",components:{NodeVariableBitArray:Na,NodeVariableBitSingle:Wa,NodeVariableDual:Da,NodeVariableGroup:ul,NodeVariableNumber:st,NodeVariableRaw:bl,NodeVariableSelect:Aa,NodeVariableSlider:Pa,NodeVariableTabs:ol},setup(){const e=(0,l.f3)("store"),t=(0,W.iH)();function a(t){var a=!0;return t.visibilityLogic&&(a=_a(t.visibilityLogic,e)),console.log("isVisible: "+a+" "+t.type),a}return(0,l.wF)((()=>{void 0!=e.state.nodes[e.state.selected_node].variableConfig&&void 0!=e.state.nodes[e.state.selected_node].variableConfig.nodeVariables&&(t.value=e.state.nodes[e.state.selected_node].variableConfig.nodeVariables),e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,nodeVariables:t,isVisible:a}}},vl=(0,w.Z)(pl,[["render",ma]]),_l=vl;function fl(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const wl={class:"q-pa-md"},yl={class:"text-h6"},gl={class:"q-pa-none row"},xl=(0,l._)("div",{class:"q-pa-none row"},[(0,l._)("h6",null,"Raw View")],-1),Nl={class:"q-pa-none row"};function Vl(e,t,a,s,d,o){const i=(0,l.up)("q-btn"),r=(0,l.up)("q-banner"),u=(0,l.up)("EventVariableBitArray"),m=(0,l.up)("EventVariableBitSingle"),c=(0,l.up)("EventVariableGroup"),b=(0,l.up)("EventVariableNumber"),p=(0,l.up)("EventVariableSelect"),v=(0,l.up)("EventVariableSlider"),_=(0,l.up)("EventVariableTabs"),f=(0,l.up)("EventVariableRaw");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",wl,[(0,l.Wm)(r,{"inline-actions":""},{action:(0,l.w5)((()=>[(0,l.Wm)(i,{color:"negative",label:"<Back",onClick:s.showEventsList,"no-caps":""},null,8,["onClick"])])),default:(0,l.w5)((()=>[(0,l._)("div",yl,(0,n.zw)(s.Title),1)])),_:1})]),(0,l._)("div",gl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.eventVariables,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["EventVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:0,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:1,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableGroup"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:2,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0),"EventVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:3,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,min:e.min,max:e.max,configuration:e},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","startBit","endBit","displayOffset","min","max","configuration"])):(0,l.kq)("",!0),"EventVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(p,{key:4,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"EventVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(v,{key:5,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"EventVariableTabs"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(_,{key:6,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0)])))),128))]),xl,(0,l._)("div",Nl,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.store.state.nodes[s.store.state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(f,{eventVariableIndex:e,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,key:e},null,8,["eventVariableIndex","nodeNumber","eventIndex"])))),128))])],64)}const Sl={__name:"EventVariableBit",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bit:{type:Number,required:!0},name:{type:String,required:!1},hint:{type:String,default:""}},setup(e){const t=e,a=(t.name?t.name:t.eventVariableIndex,(0,l.f3)("store")),n={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},s=(0,W.iH)(!1);let d=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;const o=(0,l.Fl)((()=>a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]));(0,l.YP)(o,(()=>{s.value=!!(a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]&n[t.bit])}));const i=()=>{let e=o.value;console.log(`EventVariableBit update_checked ${s.value} ${e}`),s.value?e|=n[t.bit]:e&=~n[t.bit],console.log(`EventVariableBit update_checked-2 ${s.value} ${e}`),a.methods.update_event_variable(t.nodeNumber,d,t.eventIndex,t.eventVariableIndex,e)};return(0,l.bv)((()=>{const e=!!(a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]&n[t.bit]);s.value=e})),(t,a)=>{const n=(0,l.up)("q-checkbox");return(0,l.wg)(),(0,l.j4)(n,{"min-width":"100",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),label:e.name,onClick:i,"left-label":""},null,8,["modelValue","label"])}}},Il=Sl,ql=Il;S()(Sl,"components",{QCheckbox:De.Z});const Wl={class:"text-h6"},Ul={class:"text-subtitle2"},hl={__name:"EventVariableBitArray",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){(0,l.f3)("store");return(0,l.bv)((()=>{})),(t,a)=>{const s=(0,l.up)("q-card-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l._)("div",Wl,(0,n.zw)(e.displayTitle),1),(0,l._)("div",Ul,(0,n.zw)(e.displaySubTitle),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.bitCollection,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t},[(0,l.Wm)((0,W.SU)(ql),{nodeNumber:e.nodeNumber,eventVariableIndex:e.eventVariableIndex,eventIndex:e.eventIndex,bit:t.bitPosition,name:t.label},null,8,["nodeNumber","eventVariableIndex","eventIndex","bit","name"])])))),128))])),_:1})])),_:1})}}},kl=hl,Tl=kl;S()(hl,"components",{QCard:Y.Z,QCardSection:$.Z});const Dl={class:"text-h6"},El={class:"text-subtitle2"},Cl={__name:"EventVariableBitSingle",props:{eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},bit:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const t=(0,l.f3)("store");return(0,l.bv)((()=>{})),(a,s)=>{const d=(0,l.up)("q-card-section"),o=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(o,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",Dl,(0,n.zw)(e.displayTitle),1),(0,l._)("div",El,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)((0,W.SU)(ql),{nodeNumber:(0,W.SU)(t).state.selected_node,eventIndex:e.eventIndex,eventVariableIndex:e.eventVariableIndex,bit:e.bit,name:e.name},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","name"])])),_:1})])),_:1})}}},Bl=Cl,Zl=Bl;S()(Cl,"components",{QCard:Y.Z,QCardSection:$.Z});const Ql={style:{border:"2px solid grey"}},Hl={class:"GroupTitle"},Ol={class:"q-pa-xs row"};function jl(e,t,a,s,d,o){const i=(0,l.up)("EventVariableBitArray"),r=(0,l.up)("EventVariableBitSingle"),u=(0,l.up)("EventVariableNumber"),m=(0,l.up)("EventVariableSelect"),c=(0,l.up)("EventVariableSlider"),b=(0,l.up)("EventVariableTabs");return(0,l.wg)(),(0,l.iD)("div",Ql,[(0,l._)("div",Hl,(0,n.zw)(a.configuration.displayTitle),1),(0,l._)("div",Ol,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.configuration.groupItems,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["EventVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(i,{key:0,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:1,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:2,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,l.kq)("",!0),"EventVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:3,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"EventVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:4,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"EventVariableTabs"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:5,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0)])))),128))])])}const Ll={class:"text-h6"},zl={class:"text-subtitle2"},Pl={__name:"EventVariableNumber",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},name:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7},displayOffset:{type:Number,default:0}},setup(e){const t=e,a=(t.name?t.name:t.eventVariableIndex,(0,l.f3)("store")),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,W.iH)();let i=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;console.log(`EventVariableNumber: Props : ${JSON.stringify(t)}`);const r=(0,l.Fl)((()=>{for(var e=0,a=t.startBit;a<=t.endBit;a++)e+=1<<a;return e}));console.log(`EventVariableNumber: bitMask2 : ${r.value}`);const u=(0,l.Fl)((()=>a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]));(0,l.YP)(u,(()=>{o.value=((u.value&r.value)>>t.startBit)+t.displayOffset}));const m=e=>{let l=u.value,n=e;n-=t.displayOffset,n<t.min||n>t.max||""==e?(s.value=!0,d.value="Invalid Value "+e+" : Valid Range "+(t.min+t.displayOffset)+" - "+(t.max+t.displayOffset)):(n<<=t.startBit,l|=n&r.value,l&=n|~r.value,d.value="",s.value=!1,a.methods.update_event_variable(t.nodeNumber,i,t.eventIndex,t.eventVariableIndex,l))};return(0,l.bv)((()=>{console.log("EventVariableNumber: onMounted");let e=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex];o.value=((e&r.value)>>t.startBit)+t.displayOffset})),(t,a)=>{const i=(0,l.up)("q-input"),r=(0,l.up)("q-card-section"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l._)("div",Ll,(0,n.zw)(e.displayTitle),1),(0,l._)("div",zl,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(i,{mask:"###",debounce:"1000",modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),outlined:"","error-message":d.value,error:s.value,onChange:m},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},Ml=Pl,Yl=Ml;S()(Pl,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z});const Fl={class:"text-h6"},$l={class:"text-subtitle2"},Al={__name:"EventVariableSelect",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1}},setup(e){const t=e,a=(t.name?t.name:t.eventVariableIndex,(0,l.f3)("store")),s=(0,W.iH)();let d=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;var o=(0,W.iH)();const i=(0,l.Fl)((()=>a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]));(0,l.YP)(i,(()=>{s.value=i.value&t.bitMask}));const r=e=>{console.log(`EventVariableSelect: newValue ${e.value}`);let l=i.value;l|=e.value&t.bitMask,l&=e.value|~t.bitMask,console.log(`EventVariableSelect: byteValue ${l}`),a.methods.update_event_variable(t.nodeNumber,d,t.eventIndex,t.eventVariableIndex,l)};return(0,l.bv)((()=>{for(var e in console.log("EventVariableSelect: onMounted"),s.value=i.value&t.bitMask,console.log(`EventVariableSelect: props: ${JSON.stringify(t)}`),o.value=[],t.options)if(console.log(`EventVariableComplexSelect: item: ${e}`),void 0!=t.options[e].overload){var l=va(t.options[e].overload,a);if(l){var n={value:t.options[e].value,label:l};o.value.push(n)}}else void 0!=t.options[e].label&&o.value.push(t.options[e]);console.log(`EventVariableSelect: items: ${JSON.stringify(o.value)}`)})),(t,a)=>{const d=(0,l.up)("q-select"),i=(0,l.up)("q-card-section"),u=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(u,{class:"q-pa-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l._)("div",Fl,(0,n.zw)(e.displayTitle),1),(0,l._)("div",$l,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(d,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>s.value=e),r],options:(0,W.SU)(o),"popup-content-class":"q-pm-none","map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},Kl=Al,Rl=Kl;S()(Al,"components",{QCard:Y.Z,QCardSection:$.Z,QSelect:ge.Z});const Gl={class:"text-h6"},Jl={class:"text-subtitle2"},Xl={__name:"EventVariableSlider",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const t=e,a=(t.name?t.name:t.eventVariableIndex,(0,l.f3)("store")),s=(0,W.iH)(!1),d=(0,W.iH)("");let o=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;console.log(`EventVariableSlider Props : ${JSON.stringify(t)}`);const i=(0,l.Fl)((()=>{for(var e=0,a=t.startBit;a<=t.endBit;a++)e+=1<<a;return e}));console.log(`EventVariableSlider: bitMask : ${i.value}`);const r=(0,l.Fl)({get(){return(a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]&i.value)>>t.startBit},set(e){let l=a.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex];if(console.log(`OldByteValue : ${l}`),console.log(`NewValue : ${e}`),e<=t.max&&e>=t.min){console.log(`update_variable : ${e}`);let n=e;n<<=t.startBit,l|=n&i.value,l&=n|~i.value,s.value=!1,d.value="",a.methods.update_event_variable(t.nodeNumber,o,t.eventIndex,t.eventVariableIndex,l)}else console.log(`Invalid Value : ${e}`),d.value="Invalid Value",s.value=!0}}),u=e=>{s.value?console.log(`Invalid Value : ${e}`):console.log(`update slider value : ${e}`)};return(0,l.bv)((()=>{console.log("EventVariableSlider onMounted")})),(t,a)=>{const s=(0,l.up)("q-badge"),d=(0,l.up)("q-slider"),o=(0,l.up)("q-card-section"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(i,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l._)("div",Gl,(0,n.zw)(e.displayTitle),1),(0,l._)("div",Jl,(0,n.zw)(e.displaySubTitle),1),(0,l.Wm)(s,{color:"secondary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(r.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,l.Wm)(d,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),max:e.max,min:e.min,onChange:u},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}},en=Xl,tn=en;S()(Xl,"components",{QCard:Y.Z,QCardSection:$.Z,QBadge:ja.Z,QSlider:La.Z});const an={class:"q-pa-xs"},ln={class:"q-pa-md row",style:{border:"1px solid grey"}};function nn(e,t,a,n,s,d){const o=(0,l.up)("q-tab"),i=(0,l.up)("q-tabs"),r=(0,l.up)("EventVariableBitArray"),u=(0,l.up)("EventVariableBitSingle"),m=(0,l.up)("EventVariableNumber"),c=(0,l.up)("EventVariableSelect"),b=(0,l.up)("EventVariableSlider"),p=(0,l.up)("EventVariableTabGroup"),v=(0,l.up)("q-tab-panel"),_=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)("div",an,[(0,l.Wm)(i,{modelValue:n.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedTab=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tabPanels,(e=>((0,l.wg)(),(0,l.j4)(o,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,l.Wm)(_,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedTab=e)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tabPanels,(e=>((0,l.wg)(),(0,l.j4)(v,{key:e.displayTitle,name:e.displayTitle},{default:(0,l.w5)((()=>[(0,l._)("div",ln,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.items,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["EventVariableBitArray"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:0,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableBitSingle"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableNumber"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:2,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,l.kq)("",!0),"EventVariableSelect"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:3,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"EventVariableSlider"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(b,{key:4,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0),"EventVariableGroup"==e.type&&n.isVisible(e)?((0,l.wg)(),(0,l.j4)(p,{key:5,configuration:e},null,8,["configuration"])):(0,l.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const sn={style:{border:"2px solid grey"}},dn={class:"GroupTitle"},on={class:"q-pa-xs row"};function rn(e,t,a,s,d,o){const i=(0,l.up)("EventVariableBitArray"),r=(0,l.up)("EventVariableBitSingle"),u=(0,l.up)("EventVariableNumber"),m=(0,l.up)("EventVariableSelect"),c=(0,l.up)("EventVariableSlider");return(0,l.wg)(),(0,l.iD)("div",sn,[(0,l._)("div",dn,(0,n.zw)(a.configuration.displayTitle),1),(0,l._)("div",on,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.configuration.groupItems,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e},["EventVariableBitArray"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(i,{key:0,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableBitSingle"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(r,{key:1,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,l.kq)("",!0),"EventVariableNumber"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(u,{key:2,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,l.kq)("",!0),"EventVariableSelect"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(m,{key:3,nodeNumber:s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,l.kq)("",!0),"EventVariableSlider"==e.type&&s.isVisible(e)?((0,l.wg)(),(0,l.j4)(c,{key:4,"node-number":s.store.state.selected_node,eventIndex:s.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,l.kq)("",!0)])))),128))])])}const un={components:{EventVariableBitArray:Tl,EventVariableBitSingle:Zl,EventVariableNumber:Yl,EventVariableSelect:Rl,EventVariableSlider:tn},props:{configuration:Object},setup(e){const t=(0,l.f3)("store");function a(e){var a=!0;return e.visibilityLogic&&(a=_a(e.visibilityLogic,t,t.state.selected_event_index)),console.log("isVisible: "+a+" "+e.type),a}return(0,l.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:t,isVisible:a}}},mn=(0,w.Z)(un,[["render",rn],["__scopeId","data-v-53f68772"]]),cn=mn,bn={props:{configuration:Object},components:{EventVariableBitArray:Tl,EventVariableBitSingle:Zl,EventVariableNumber:Yl,EventVariableSelect:Rl,EventVariableSlider:tn,EventVariableTabGroup:cn},setup(e){const t=(0,W.iH)(),a=(0,W.iH)(),n=(0,l.f3)("store");function s(e){var t=!0;return e.visibilityLogic&&(t=_a(e.visibilityLogic,n,n.state.selected_event_index)),console.log("isVisible: "+t+" "+e.type),t}return(0,l.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),t.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(t.value)),a.value=t.value[0].displayTitle})),{store:n,selectedTab:a,tabPanels:t,isVisible:s}}},pn=(0,w.Z)(bn,[["render",nn]]),vn=pn;S()(bn,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const _n={components:{EventVariableBitArray:Tl,EventVariableBitSingle:Zl,EventVariableNumber:Yl,EventVariableSelect:Rl,EventVariableSlider:tn,EventVariableTabs:vn},props:{configuration:Object},setup(e){const t=(0,l.f3)("store");function a(e){var a=!0;return e.visibilityLogic&&(a=_a(e.visibilityLogic,t,t.state.selected_event_index)),console.log("isVisible: "+a+" "+e.type),a}return(0,l.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:t,isVisible:a}}},fn=(0,w.Z)(_n,[["render",jl],["__scopeId","data-v-ffea7b78"]]),wn=fn,yn={__name:"EventVariableRaw",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const t=e,a=t.name?t.name:"Event Variable "+t.eventVariableIndex,n=(0,l.f3)("store"),s=(0,W.iH)(!1),d=(0,W.iH)(""),o=(0,W.iH)();let i=n.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].eventIdentifier;const r=(0,l.Fl)((()=>n.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]));(0,l.YP)(r,(()=>{o.value=r.value}));const u=e=>{e<0||e>255||""==e?(s.value=!0,d.value="Invalid Value"):(d.value="",s.value=!1,n.methods.update_event_variable(t.nodeNumber,i,t.eventIndex,t.eventVariableIndex,e))};return(0,l.bv)((()=>{o.value=n.state.nodes[t.nodeNumber].storedEvents[t.eventIndex].variables[t.eventVariableIndex]})),(e,t)=>{const n=(0,l.up)("q-input"),i=(0,l.up)("q-card-section"),r=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(r,{class:"q-pa-none",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,{mask:"###",label:(0,W.SU)(a),debounce:"1000",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),outlined:"","error-message":d.value,error:s.value,onChange:u},null,8,["label","modelValue","error-message","error"])])),_:1})])),_:1})}}},gn=yn,xn=gn;S()(yn,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z});const Nn={name:"DefaultVariables",components:{EventVariableBitArray:Tl,EventVariableBitSingle:Zl,EventVariableGroup:wn,EventVariableNumber:Yl,EventVariableRaw:xn,EventVariableSelect:Rl,EventVariableSlider:tn,EventVariableTabs:vn},setup(){const e=(0,l.f3)("store"),t=(0,W.iH)(),a=e.state.nodes[e.state.selected_node].storedEvents[e.state.selected_event_index].eventIdentifier,n=parseInt(a.substr(0,4),16),s=parseInt(a.substr(4,4),16),d=o();function o(){var e="event: node "+n+" event "+s;return e}function i(){console.log("showEventsList"),e.methods.update_event_component("Default2EventsList")}function r(t){var a=!0;return t.visibilityLogic&&(a=_a(t.visibilityLogic,e,e.state.selected_event_index)),console.log("isVisible: "+a+" "+t.type),a}return(0,l.wF)((()=>{console.log("Default2EventVariables"),void 0!=e.state.nodes[e.state.selected_node].variableConfig&&void 0!=e.state.nodes[e.state.selected_node].variableConfig.eventVariables&&(t.value=e.state.nodes[e.state.selected_node].variableConfig.eventVariables),e.methods.request_all_event_variables(e.state.selected_node,e.state.selected_event_index,100,e.state.nodes[e.state.selected_node].parameters[5])})),{store:e,EventVariableRaw:xn,eventVariables:t,showEventsList:i,eventIdentifier:a,producerNode:n,eventNumber:s,Title:d,isVisible:r}}};var Vn=a(5607);const Sn=(0,w.Z)(Nn,[["render",Vl]]),In=Sn;S()(Nn,"components",{QBanner:Vn.Z,QBtn:R.Z});const qn={class:"q-pa-md"},Wn=(0,l._)("div",{class:"text-h6"}," Stored Events ",-1),Un={class:"full-width"},hn=(0,l._)("div",{class:"text-h4"},"Add new event",-1),kn={class:"q-gutter-sm"},Tn={key:0},Dn=(0,l._)("div",{class:"text-h4"},"Node Number",-1),En=(0,l._)("div",{class:"text-h6"},"Consumed events will need the number of the node that produces the event",-1),Cn=(0,l._)("div",{class:"text-h6"},"Events produced by this node will need the number of this node, as well as editing the event variables",-1),Bn=(0,l._)("div",{class:"text-h4"},"Event Number",-1),Zn={key:1},Qn=(0,l._)("div",{class:"text-h4"},"Device Number",-1),Hn={key:2},On=(0,l._)("div",{class:"text-h6"},"Once event is added, select edit for the event from the event list to modify event variables",-1),jn=(0,l._)("div",{class:"text-h4"},"edit event name",-1),Ln={key:0,class:"q-pa-sm row"},zn={__name:"Default2EventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"eventType",field:"eventType",required:!0,label:"Event Type",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,W.iH)(!1),o=(0,W.iH)(!1),i=(0,W.iH)(),r=(0,W.iH)(),u=(0,W.iH)(),m=(0,W.iH)();var c=(0,W.iH)();const b=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(b,(()=>{p()}));const p=()=>{s.value=[],b.value.forEach((e=>{var t=parseInt(e.eventIdentifier.substr(0,4),16);let l={};l["eventIdentifier"]=e.eventIdentifier,l["eventName"]=a.getters.event_name(e.eventIdentifier),l["eventIndex"]=e.eventIndex,l["nodeNumber"]=t,l["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),l["eventType"]=v(e.eventIndex),s.value.push(l)})),s.value.sort((function(e,t){return e.eventIdentifier<t.eventIdentifier?-1:1}))},v=e=>{var t=a.state.nodes[a.state.selected_node].variableConfig.producedEventLogic;if(void 0==t)return"";var l=_a(t,a,e);return l?"produced":"consumed"};(0,l.wF)((()=>{g(),p()}));const _=e=>{console.log("nameEvent"),m.value=e,i.value=a.getters.event_name(e),o.value=!0},f=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("Default2EventVariables")},w=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)},y=()=>{console.log("addEventDialog"),r.value=null,u.value=null,c.value=null,d.value=!0},g=()=>{console.log("refresh Events"),a.methods.request_all_node_events(a.state.selected_node);var e=0;b.value.forEach((t=>{e+=100,setTimeout((()=>{a.methods.request_all_event_variables(a.state.selected_node,t.eventIndex,100,a.state.nodes[a.state.selected_node].parameters[5])}),e)}))},x=()=>{var e=V();"short"==c.value&&(r.value=0);var t=parseInt(r.value).toString(16).toUpperCase().padStart(4,0)+parseInt(u.value).toString(16).toUpperCase().padStart(4,0);console.log("createEvent - index "+e+" eventID "+t),a.methods.teach_event(a.state.selected_node,t,e),a.methods.request_all_node_events(a.state.selected_node)},N=()=>{a.setters.event_name(m.value,i.value),p()},V=()=>{for(var e=a.state.nodes[a.state.selected_node].parameters[4],t=null,l=1;l<e;l++)if(console.log("i "+l),!a.state.nodes[a.state.selected_node].storedEvents[l]){t=l+1;break}return t};return(e,m)=>{const b=(0,l.up)("q-btn"),p=(0,l.up)("q-banner"),v=(0,l.up)("q-td"),V=(0,l.up)("q-tr"),S=(0,l.up)("q-table"),I=(0,l.up)("q-radio"),q=(0,l.up)("q-card-section"),U=(0,l.up)("q-input"),h=(0,l.up)("q-card-actions"),k=(0,l.up)("q-card"),T=(0,l.up)("q-dialog"),D=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",qn,[(0,l.Wm)(p,{"inline-actions":""},{action:(0,l.w5)((()=>[(0,l.Wm)(b,{color:"positive",label:"Add Event",onClick:m[0]||(m[0]=e=>y()),"no-caps":""}),(0,l.Wm)(b,{color:"positive",label:"Refresh Events",onClick:m[1]||(m[1]=e=>g()),"no-caps":""})])),default:(0,l.w5)((()=>[Wn])),_:1})]),(0,l._)("div",Un,[(0,l.Wm)(S,{rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(V,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"eventName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"eventType",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventType),1)])),_:2},1032,["props"]),(0,l.Wm)(v,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{outline:"",rounded:"",color:"primary",label:"Name",onClick:t=>_(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(b,{outline:"",rounded:"",color:"primary",label:"Edit",onClick:t=>f(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(b,{outline:"",rounded:"",color:"negative",label:"Delete",onClick:t=>w((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"]),(0,l.Wm)(T,{modelValue:d.value,"onUpdate:modelValue":m[8]||(m[8]=e=>d.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[hn,(0,l._)("div",kn,[(0,l.Wm)(I,{modelValue:(0,W.SU)(c),"onUpdate:modelValue":m[2]||(m[2]=e=>(0,W.dq)(c)?c.value=e:c=e),val:"long",label:"Long event"},null,8,["modelValue"]),(0,l.Wm)(I,{modelValue:(0,W.SU)(c),"onUpdate:modelValue":m[3]||(m[3]=e=>(0,W.dq)(c)?c.value=e:c=e),val:"short",label:"Short event"},null,8,["modelValue"])])])),_:1}),"long"==(0,W.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Tn,[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[Dn])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:r.value,"onUpdate:modelValue":m[4]||(m[4]=e=>r.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[En,Cn])),_:1}),(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[Bn])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:u.value,"onUpdate:modelValue":m[5]||(m[5]=e=>u.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,l.kq)("",!0),"short"==(0,W.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Zn,[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[Qn])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:u.value,"onUpdate:modelValue":m[6]||(m[6]=e=>u.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,l.kq)("",!0),null!=(0,W.SU)(c)?((0,l.wg)(),(0,l.iD)("div",Hn,[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[On])),_:1})])):(0,l.kq)("",!0),(0,l.Wm)(h,{align:"right",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(b,{flat:"",label:"Cancel"},null,512),[[D]]),(0,l.wy)((0,l.Wm)(b,{flat:"",label:"Add Event",onClick:m[7]||(m[7]=e=>x())},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.Wm)(T,{modelValue:o.value,"onUpdate:modelValue":m[11]||(m[11]=e=>o.value=e),persistent:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{style:{"min-width":"350px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[jn])),_:1}),(0,l.Wm)(q,{class:"q-pt-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(U,{dense:"",modelValue:i.value,"onUpdate:modelValue":m[9]||(m[9]=e=>i.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,l.Wm)(h,{align:"right",class:"text-primary"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(b,{flat:"",label:"Cancel"},null,512),[[D]]),(0,l.wy)((0,l.Wm)(b,{flat:"",label:"Accept",onClick:m[10]||(m[10]=e=>N())},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",Ln,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}};var Pn=a(6778),Mn=a(7991),Yn=a(9367),Fn=a(677);const $n=zn,An=$n;S()(zn,"components",{QBanner:Vn.Z,QBtn:R.Z,QTable:A.Z,QTr:le.Z,QTd:K.Z,QDialog:Pn.Z,QCard:Y.Z,QCardSection:$.Z,QRadio:Mn.Z,QInput:F.Z,QCardActions:Yn.Z}),S()(zn,"directives",{ClosePopup:Fn.Z});const Kn={name:"Default2Events",components:{Default2EventsList:An,Default2EventVariables:In},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.update_event_component("Default2EventsList")})),{store:e}}},Rn=(0,w.Z)(Kn,[["render",fl]]),Gn=Rn;function Jn(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.services_component)))])}const Xn={class:"q-pa-md"},es={class:"text-h6"},ts={class:"full-width"},as={__name:"Default2NodeServiceDiagnostics",setup(e){console.log("Default2ServiceDiagnostics:");const t=[{name:"diagnosticCode",field:"diagnosticCode",required:!0,label:"Diagnostic Code",align:"left",sortable:!0},{name:"diagnosticValue",field:"diagnosticValue",required:!1,label:"Diagnostic Value",align:"left",sortable:!0},{name:"diagnosticName",field:"diagnosticName",required:!0,label:"Name",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].services[a.state.selected_service_index].diagnostics)));(0,l.YP)(d,(()=>{i()}));const o=a.state.nodes[a.state.selected_node].services[a.state.selected_service_index];console.log(`Default2ServiceDiagnostics: Service: ${JSON.stringify(o)}`);const i=()=>{s.value=[],d.value.forEach((e=>{let t={};t["diagnosticCode"]=e.DiagnosticCode,t["diagnosticValue"]=e.DiagnosticValue,t["diagnosticName"]=e.DiagnosticName,s.value.push(t)}))};(0,l.wF)((()=>{i(),console.log("Default2ServiceDiagnostics: OnBeforeMount")}));const r=()=>{console.log("refreshDiagnostics"),a.methods.request_diagnostics(a.state.selected_node,a.state.selected_service_index)},u=()=>{console.log("showServicesList"),a.methods.update_services_component("Default2NodeServicesList")};return(e,a)=>{const d=(0,l.up)("q-btn"),i=(0,l.up)("q-banner"),m=(0,l.up)("q-td"),c=(0,l.up)("q-tr"),b=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Xn,[(0,l.Wm)(i,{"inline-actions":""},{action:(0,l.w5)((()=>[(0,l.Wm)(d,{color:"positive",label:"Refresh",onClick:a[0]||(a[0]=e=>r()),"no-caps":""}),(0,l.Wm)(d,{color:"negative",label:"<Back",onClick:a[1]||(a[1]=e=>u()),"no-caps":""})])),default:(0,l.w5)((()=>[(0,l._)("div",es," Service Index "+(0,n.zw)((0,W.SU)(o).ServiceIndex)+" : "+(0,n.zw)((0,W.SU)(o).ServiceName),1)])),_:1})]),(0,l._)("div",ts,[(0,l.Wm)(b,{title:"Diagnostics",rows:s.value,columns:t,"row-key":"diagnosticCode","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(c,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{key:"diagnosticCode",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.diagnosticCode),1)])),_:2},1032,["props"]),(0,l.Wm)(m,{key:"diagnosticValue",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.diagnosticValue),1)])),_:2},1032,["props"]),(0,l.Wm)(m,{key:"diagnosticName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.diagnosticName),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])])],64)}}},ls=as,ns=ls;S()(as,"components",{QBanner:Vn.Z,QBtn:R.Z,QTable:A.Z,QTr:le.Z,QTd:K.Z});const ss={class:"full-width"},ds={key:0,class:"q-pa-sm row"},os={__name:"Default2NodeServicesList",setup(e){const t=[{name:"serviceIndex",field:"serviceIndex",required:!0,label:"Service Index",align:"left",sortable:!0},{name:"serviceType",field:"serviceType",required:!1,label:"Service Type",align:"left",sortable:!0},{name:"serviceName",field:"serviceName",required:!0,label:"Name",align:"left",sortable:!0},{name:"diagnostics",field:"diagnostics",required:!0,label:"diagnostics",align:"left"}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].services)));(0,l.YP)(d,(()=>{o()}));const o=()=>{s.value=[],d.value.forEach((e=>{let t={};t["serviceIndex"]=e.ServiceIndex,t["serviceType"]=e.ServiceType,t["serviceName"]=e.ServiceName,s.value.push(t)}))};(0,l.wF)((()=>{o()}));const i=e=>{console.log(`showDiagnostics for index ${e}`),a.methods.request_diagnostics(a.state.selected_node,e),a.state.selected_service_index=e,a.methods.update_services_component("Default2NodeServiceDiagnostics")};return(e,d)=>{const o=(0,l.up)("q-td"),r=(0,l.up)("q-btn"),u=(0,l.up)("q-tr"),m=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ss,[(0,l.Wm)(m,{title:"Published Services",rows:s.value,columns:t,"row-key":"serviceIndex","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(u,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"serviceIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.serviceIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"serviceType",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.serviceType),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"serviceName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.serviceName),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"diagnostics",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{color:"primary",flat:"",rounded:"",label:"diagnostics",onClick:t=>i(e.row.serviceIndex),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",ds,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},is=os,rs=is;S()(os,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const us={name:"DefaultEvents",components:{Default2NodeServicesList:rs,Default2NodeServiceDiagnostics:ns},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.update_services_component("Default2NodeServicesList")})),{store:e}}},ms=(0,w.Z)(us,[["render",Jn]]),cs=ms,bs={name:"mergDefault2",components:{Default2Info:da,Default2Variables:_l,Default2Events:Gn,NodeDetails:Zt,Default2NodeServices:cs},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},ps=(0,w.Z)(bs,[["render",Mt]]),vs=ps;function _s(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-lcb-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("default-lcb-variables"),b=(0,l.up)("default-lcb-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])],64)}S()(bs,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const fs={class:"row items-start q-gutter-md"},ws=(0,l._)("div",{class:"text-h6"},"Node Details",-1),ys=(0,l._)("div",{class:"text-subtitle2"},"Details to help identify the Node",-1),gs=(0,l._)("div",{class:"text-h6"},"Node Info",-1),xs=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),Ns=(0,l._)("div",{class:"text-h6"},"Module Info",-1),Vs=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),Ss=(0,l._)("div",{class:"text-h6"},"Hardware Info",-1),Is=(0,l._)("div",{class:"text-subtitle2"},"Node Information",-1),qs={__name:"DefaultLcbInfo",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)(""),n=(0,W.iH)(""),s=(0,W.iH)(""),d=(0,W.iH)([]),o=(0,l.Fl)((()=>Object.values(t.state.layout.nodeDetails)));(0,l.YP)(o,(()=>{console.log("WATCH Node Details"),i()}));const i=()=>{d.value=[],o.value.forEach((e=>{d.value.includes(e.group)||d.value.push(e.group)}))};(0,l.wF)((()=>{t.methods.request_service_discovery(t.state.selected_node),t.methods.request_diagnostics(t.state.selected_node),t.methods.request_all_node_parameters(t.state.selected_node,20,100),t.state.selected_node in t.state.layout.nodeDetails?(a.value=t.state.layout.nodeDetails[t.state.selected_node].name,n.value=t.state.layout.nodeDetails[t.state.selected_node].colour,s.value=t.state.layout.nodeDetails[t.state.selected_node].group):(a.value=t.state.selected_node.toString()+" - "+t.state.nodes[t.state.selected_node].module,n.value="black",s.value=""),i()}));const r=()=>{console.log("Node Details Update Node"),t.state.selected_node in t.state.layout.nodeDetails===!1&&(t.state.layout.nodeDetails[t.state.selected_node]={}),t.state.layout.nodeDetails[t.state.selected_node].name=a.value,t.state.layout.nodeDetails[t.state.selected_node].colour=n.value,t.state.layout.nodeDetails[t.state.selected_node].group=s.value,t.methods.update_layout()};return(e,o)=>{const i=(0,l.up)("q-card-section"),u=(0,l.up)("q-input"),m=(0,l.up)("q-select"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",fs,[(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[ws,ys])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)(u,{class:"q-pa-xs",outlined:"",modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),label:"Node Name",maxlength:"30",onChange:r},null,8,["modelValue"]),(0,l.Wm)(m,{class:"q-pa-sm",outlined:"",modelValue:n.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>n.value=e),r],options:(0,W.SU)(t).state.colours,label:"Node Colour",maxlength:"30"},null,8,["modelValue","options"]),(0,l.Wm)(m,{class:"q-pa-sm",outlined:"","use-input":"",modelValue:s.value,"onUpdate:modelValue":[o[2]||(o[2]=e=>s.value=e),r],options:d.value,label:"Node Group",maxlength:"30","new-value-mode":"add-unique"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[gs,xs])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Node Number",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].nodeNumber},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Component",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].component},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Node Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[6]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Event Variables",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Events Stored",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].eventCount},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Ns,Vs])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"Manufacturer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleManufacturerName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Module",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].moduleName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Producer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].producer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consumer",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].consumer},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Consume own Events",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].coe},null,8,["Value"])])),_:1})])),_:1}),(0,l.Wm)(c,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[Ss,Is])),_:1}),(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(je),{Name:"CPU Name",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].cpuName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Interface",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].interfaceName},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Major Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[7]},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Minor Version",Value:String.fromCharCode((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[2])},null,8,["Value"]),(0,l.Wm)((0,W.SU)(je),{Name:"Beta Version",Value:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[20]},null,8,["Value"])])),_:1})])),_:1})])}}},Ws=qs,Us=Ws;S()(qs,"components",{QCard:Y.Z,QCardSection:$.Z,QInput:F.Z,QSelect:ge.Z});const hs={class:"q-pa-xs row"};function ks(e,t,a,n,s,d){const o=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)("div",hs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(o,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])}const Ts={name:"DefaultLcbVariables",components:{NodeVariableNumber:st},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_node_variable(e.state.selected_node,0)})),{store:e,NodeVariableNumber:st}}},Ds=(0,w.Z)(Ts,[["render",ks]]),Es=Ds;function Cs(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const Bs=(0,l._)("h5",null,"Event Variables",-1),Zs={class:"q-pa-md row"},Qs={__name:"DefaultLcbEventVariables",setup(e){const t=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultLcbEventVariables"),t.methods.request_event_variable(t.state.selected_node,t.state.selected_event_index,0)})),(e,a)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[Bs,(0,l._)("div",Zs,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])],64))}},Hs=Qs,Os=Hs,js={class:"full-width"},Ls={key:0,class:"q-pa-sm row"},zs={__name:"DefaultLcbEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventName"]=a.getters.event_name(e.eventIdentifier),t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("DefaultLcbEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",js,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventName",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",Ls,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Ps=zs,Ms=Ps;S()(zs,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const Ys={name:"DefaultLcbEvents",components:{DefaultLcbEventsList:Ms,DefaultLcbEventVariables:Os},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.update_event_component("DefaultLcbEventsList")})),{store:e}}},Fs=(0,w.Z)(Ys,[["render",Cs]]),$s=Fs,As={name:"mergLcbDefault",components:{DefaultLcbInfo:Us,DefaultLcbVariables:Es,DefaultLcbEvents:$s,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},Ks=(0,w.Z)(As,[["render",_s]]),Rs=Ks;function Gs(e,t,a,n,s,d){const o=(0,l.up)("node-variable-bit-array"),i=(0,l.up)("q-card-section"),r=(0,l.up)("q-card"),u=(0,l.up)("node-variable-slider");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{VariableIndex:1,learn:!0,Title:"On Only",Description:"Select outputs for On only"})])),_:1}),(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{VariableIndex:2,learn:!0,Title:"Inverted",Description:"Select outputs for On only"})])),_:1}),(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{VariableIndex:6,learn:!0,Title:"Toggle",Description:"Select outputs to Toggle between On & Off"})])),_:1}),(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{VariableIndex:3,learn:!0,Title:"Delay",Description:"Input must be active for duration of the Delay"})])),_:1})])),_:1}),(0,l.Wm)(r,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{"node-variable-index":4,"node-number":n.store.state.selected_node,Title:"On Delay",Description:"On delay time shown in 10ms",Badge:"Delay",BadgeMulti:10,BadgeUnit:"ms"},null,8,["node-number"])])),_:1}),(0,l.Wm)(i,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{"node-variable-index":5,"node-number":n.store.state.selected_node,Title:"Off Delay",Description:"Off delay time shown in 10ms",Badge:"Delay",BadgeMulti:10,BadgeUnit:"ms"},null,8,["node-number"])])),_:1})])),_:1}),(0,l.Wm)(o,{VariableIndex:7,learn:!0,Title:"Route Setting",Description:"Select Outputs Route Options"}),(0,l.Wm)(o,{VariableIndex:8,learn:!0,Title:"Disable SOD",Description:"Select Outputs to disable Start of Day"})],64)}S()(As,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const Js={name:"DefaultVariables",components:{NodeVariableBitArray:Na,NodeVariableSlider:Pa},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,NodeVariableBit:pa}}},Xs=(0,w.Z)(Js,[["render",Gs]]),ed=Xs;S()(Js,"components",{QCard:Y.Z,QCardSection:$.Z});const td={class:"q-pa-md"};function ad(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",td,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const ld=(0,l._)("h5",null,"Event Variables",-1),nd={class:"q-pa-md row"},sd={__name:"canace8cEventVariables",setup(e){const t=(0,l.f3)("store"),a=[{label:"SOD Event",value:0},{label:"Route",value:1},{label:"DN Input 1",value:8},{label:"DN Input 2",value:9},{label:"DN Input 3",value:10},{label:"DN Input 4",value:11},{label:"DN Input 5",value:12},{label:"DN Input 6",value:13},{label:"DN Input 7",value:14},{label:"DN Input 8",value:15}];return(0,l.wF)((()=>{console.log("DefaultEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,n)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[ld,(0,l._)("div",nd,[(0,l.Wm)(Rl,{"node-number":(0,W.SU)(t).state.selected_node,"event-index":(0,W.SU)(t).state.selected_event_index,"event-variable-index":1,options:a,Title:"Event Mode",Description:"Set the mode for the Consumed Event"},null,8,["node-number","event-index"])])],64))}},dd=sd,od=dd,id={class:"full-width"},rd={key:0,class:"q-pa-md row"},ud={__name:"canace8cEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("canace8cEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",id,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",rd,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},md=ud,cd=md;S()(ud,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const bd={name:"canEvents",components:{Canace8cEventsList:cd,Canace8cEventVariables:od},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("Canace8cEventsList"),e.methods.update_event_component("Canace8cEventsList")})),{store:e}}},pd=(0,w.Z)(bd,[["render",ad]]),vd=pd,_d={__name:"canace8c",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)("info");return(e,n)=>{const s=(0,l.up)("q-tab"),d=(0,l.up)("q-tabs"),o=(0,l.up)("q-tab-panel"),i=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)((0,W.SU)(Zt))])]),(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(d,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"info",label:"Info"}),(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].flim?((0,l.wg)(),(0,l.j4)(s,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].flim?((0,l.wg)(),(0,l.j4)(s,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(i,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Je))])),_:1}),(0,l.Wm)(o,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(ed)])),_:1}),(0,l.Wm)(o,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(vd)])),_:1})])),_:1},8,["modelValue"])])])],64)}}},fd=_d,wd=fd;S()(_d,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const yd={class:"row items-start q-gutter-md"},gd={__name:"canpanVariables",setup(e){const t=(0,l.f3)("store"),a=[{label:"Send all Event states",value:0},{label:"Do Nothing",value:1},{label:"Set all States to ON",value:2}];return(0,l.wF)((()=>{t.methods.request_all_node_variables(t.state.selected_node,t.state.nodes[t.state.selected_node].parameters[6],100,1)})),(e,n)=>((0,l.wg)(),(0,l.iD)("div",yd,[(0,l.Wm)((0,W.SU)(Aa),{"node-number":(0,W.SU)(t).state.selected_node,"node-variable-index":1,options:a,Title:"Startup Options",Description:"Startup Options for Start of Day"},null,8,["node-number"])]))}},xd=gd,Nd=xd;function Vd(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const Sd=(0,l._)("h5",null,"Event Variables",-1),Id={class:"q-pa-xs row items-start q-gutter-md"},qd={class:"q-pa-xs row items-start q-gutter-md"},Wd=(0,l._)("div",{class:"text-subtitle1"},"Switch Actions",-1),Ud=(0,l._)("div",{class:"text-subtitle2"},null,-1),hd={class:"q-pa-xs row"},kd={class:"q-pa-xs row items-start q-gutter-md"},Td=(0,l._)("div",{class:"text-subtitle1"},"Active LEDs",-1),Dd=(0,l._)("div",{class:"text-subtitle2"},"Select to Activate LED",-1),Ed=(0,l._)("div",{class:"text-subtitle1"},"Polarity",-1),Cd=(0,l._)("div",{class:"text-subtitle2"},"SChange Polarity of LED",-1),Bd={__name:"canpanEventVariables",setup(e){const t=(0,l.f3)("store"),a=[{label:"On/Off",value:255},{label:"On Only",value:254},{label:"Off Only",value:253},{label:"Flash",value:248}];return(0,l.wF)((()=>{console.log("DefaultEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,n)=>{const s=(0,l.up)("q-card-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[Sd,(0,l._)("div",Id,[(0,l.Wm)((0,W.SU)(pt),{"event-variable-index":1,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,name:"Event Type"},null,8,["event-index","node-number"]),(0,l.Wm)((0,W.SU)(pt),{"event-variable-index":2,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,name:"Switch Number"},null,8,["event-index","node-number"])]),(0,l._)("div",qd,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[Wd,Ud])),_:1}),(0,l._)("div",hd,[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:0,name:"On/Off"},null,8,["event-index","node-number"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:1,name:"Reverse Polarity"},null,8,["event-index","node-number"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:2,name:"On Only"},null,8,["event-index","node-number"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:3,name:"Toggle"},null,8,["event-index","node-number"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:4,name:"Send own LEDs"},null,8,["event-index","node-number"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(ql),{"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:5,name:"Send Short Event"},null,8,["event-index","node-number"])])),_:1})])])),_:1})]),(0,l._)("div",kd,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[Td,Dd])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":5,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":6,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+9).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":7,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+17).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":8,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+25).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[Ed,Cd])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":9,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":10,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+9).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":11,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+17).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":12,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+25).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1}),(0,l.Wm)(d,{bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Rl,{"node-number":(0,W.SU)(t).state.selected_node,"event-index":(0,W.SU)(t).state.selected_event_index,"event-variable-index":13,options:a,Title:"LED Action",Description:"Set the mode when LEDS are activated"},null,8,["node-number","event-index"])])),_:1})])],64)}}},Zd=Bd,Qd=Zd;S()(Bd,"components",{QCard:Y.Z,QCardSection:$.Z});const Hd={class:"full-width"},Od={key:0,class:"q-pa-xs row"},jd={__name:"canpanEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("CanpanEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Hd,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",Od,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Ld=jd,zd=Ld;S()(jd,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const Pd={name:"CanpanEvents",components:{CanpanEventsList:zd,CanpanEventVariables:Qd},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultEventsList"),e.methods.update_event_component("CanpanEventsList")})),{store:e}}},Md=(0,w.Z)(Pd,[["render",Vd]]),Yd=Md,Fd={class:"text-h4 text-black"},$d={__name:"canpan",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)("info");return(e,n)=>{const s=(0,l.up)("q-tab"),d=(0,l.up)("q-tabs"),o=(0,l.up)("q-tab-panel"),i=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("div",Fd,[(0,l.Wm)((0,W.SU)(Zt))])]),(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(d,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{name:"info",label:"Info"}),(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].flim?((0,l.wg)(),(0,l.j4)(s,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].flim?((0,l.wg)(),(0,l.j4)(s,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(i,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Je))])),_:1}),(0,l.Wm)(o,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(Nd)])),_:1}),(0,l.Wm)(o,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(Yd)])),_:1})])),_:1},8,["modelValue"])])])],64)}}},Ad=$d,Kd=Ad;function Rd(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("canacc8-variables"),b=(0,l.up)("canacc8-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])],64)}S()($d,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const Gd={class:"q-pa-md row"};function Jd(e,t,a,n,s,d){const o=(0,l.up)("canacc8-channel"),i=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)("div",Gd,[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([1,2,3,4,5,6,7,8],(e=>(0,l.Wm)(o,{key:e,NodeNumber:n.store.state.selected_node,Channel:e},null,8,["NodeNumber","Channel"]))),64)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(i,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])}const Xd={class:"q-pa-xs row"},eo={class:"text-subtitle2"},to={__name:"canacc8Channel",props:{NodeNumber:{type:Number,required:!0},Channel:{type:Number,required:!0}},setup(e){const t=e,a=(0,l.f3)("store"),s=(0,W.iH)(),d=(0,W.iH)(""),o=(0,W.iH)(!1),i=(0,W.iH)(!0),r=(0,l.Fl)((()=>a.state.nodes[t.NodeNumber].nodeVariables[t.Channel]));(0,l.YP)(r,(()=>{c()}));const u=e=>{console.log(`cannacc8Channel update_variable ${o.value} ${e}`),0==e?(i.value=!0,o.value,a.methods.update_node_variable(t.NodeNumber,t.Channel,0)):(i.value=!1,0==o.value?a.methods.update_node_variable(t.NodeNumber,t.Channel,e):a.methods.update_node_variable(t.NodeNumber,t.Channel,e+127))},m=()=>{console.log(`cannacc8Channel update_flash ${o.value} ${i.value}`),0==r.value?(i.value=!0,o.value=!1,a.methods.update_node_variable(t.NodeNumber,t.Channel,0)):(i.value=!1,0==o.value?a.methods.update_node_variable(t.NodeNumber,t.Channel,r.value-127):a.methods.update_node_variable(t.NodeNumber,t.Channel,r.value+127))},c=()=>{console.log(`cannacc8Channel update_details ${r.value} ${o.value}`),0==r.value?(d.value="On",o.value=!1,s.value=0,i.value=!0):r.value>127?(s.value=r.value-127,d.value="Flash",o.value=!0,i.value=!1):(s.value=r.value,d.value="Pulse",o.value=!1,i.value=!1)};return(0,l.wF)((()=>{a.methods.request_all_node_variables(a.state.selected_node,a.state.nodes[a.state.selected_node].parameters[6],100,1),c()})),(t,r)=>{const c=(0,l.up)("q-card-section"),b=(0,l.up)("q-badge"),p=(0,l.up)("q-slider"),v=(0,l.up)("q-checkbox"),_=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",Xd,[(0,l.Wm)(_,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",eo,"Channel "+(0,n.zw)(e.Channel),1)])),_:1}),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{color:"secondary"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(d.value)+" "+(0,n.zw)(10*s.value)+" ms ",1)])),_:1}),(0,l.Wm)(p,{modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=e=>s.value=e),max:127,min:0,onChange:u},null,8,["modelValue"]),(0,l.Wm)(v,{"min-width":"100",modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=e=>o.value=e),label:"Flash",onClick:m,Name:"Flash","left-label":"",class:(0,n.C_)({disabled:i.value})},null,8,["modelValue","class"]),(0,l.Wm)((0,W.SU)(pa),{Bit:e.Channel-1,VariableIndex:11,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Respond to SOD"},null,8,["Bit","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:e.Channel-1,VariableIndex:10,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Send Off instead of Saved Event"},null,8,["Bit","NodeNumber"])])),_:1})])),_:1})])}}},ao=to,lo=ao;S()(to,"components",{QCard:Y.Z,QCardSection:$.Z,QBadge:ja.Z,QSlider:La.Z,QCheckbox:De.Z});const no={name:"canacc8Variables",components:{Canacc8Channel:lo,NodeVariableNumber:st},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,NodeVariableNumber:st}}},so=(0,w.Z)(no,[["render",Jd]]),oo=so,io={class:"q-pa-md"};function ro(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",io,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const uo=(0,l._)("h5",null,"Event Variables",-1),mo=(0,l._)("div",{class:"text-subtitle2"},"Switch Actions",-1),co=(0,l._)("div",{class:"text-subtitle2"},"Polarity",-1),bo={class:"q-pa-md row"},po={__name:"canacc8EventVariables",setup(e){const t=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("canacc8EventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,a)=>{const n=(0,l.up)("q-card-section"),s=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[uo,(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[mo])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)(ql,{key:e,"event-variable-index":1,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[co])),_:1}),(0,l.Wm)(n,null,{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)(ql,{key:e,"event-variable-index":2,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1}),(0,l._)("div",bo,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])],64)}}},vo=po,_o=vo;S()(po,"components",{QCard:Y.Z,QCardSection:$.Z});const fo={class:"full-width"},wo={key:0,class:"q-pa-md row"},yo={__name:"canacc8EventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`canacc8EventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`canacc8EventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("canacc8EventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",fo,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",wo,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},go=yo,xo=go;S()(yo,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const No={name:"DefaultEvents",components:{Canacc8EventsList:xo,Canacc8EventVariables:_o},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultEventsList"),e.methods.update_event_component("Canacc8EventsList")})),{store:e}}},Vo=(0,w.Z)(No,[["render",ro]]),So=Vo,Io={name:"canacc8",components:{defaultInfo:Je,canacc8Variables:oo,canacc8Events:So,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},qo=(0,w.Z)(Io,[["render",Rd]]),Wo=qo;function Uo(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("canservo8c-variables"),b=(0,l.up)("canservo8c-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])],64)}S()(Io,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const ho={class:"row items-start q-gutter-md"},ko={class:"q-pa-xs row"};function To(e,t,a,n,s,d){const o=(0,l.up)("node-variable-bit-array"),i=(0,l.up)("canservo8c-channel"),r=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",ho,[(0,l.Wm)(o,{VariableIndex:1,Title:"Cut Off",Description:"Cut off output when final position reached",learn:!0}),(0,l.Wm)(o,{VariableIndex:2,Title:"Set position on startup",Description:"Set the position on startup",learn:!0}),(0,l.Wm)(o,{VariableIndex:3,Title:"Move position on startup",Description:"Move the position on startup",learn:!0}),(0,l.Wm)(o,{VariableIndex:4,Title:"Move Sequentially",Description:"Move while or after other servos",learn:!0}),((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([1,2,3,4,5,6,7,8],(e=>(0,l.Wm)(i,{key:e,Channel:e,NodeNumber:n.store.state.selected_node},null,8,["Channel","NodeNumber"]))),64))]),(0,l._)("div",ko,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(r,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])],64)}const Do={class:"row items-start q-gutter-md"},Eo={class:"text-subtitle1"},Co={class:"row items-start q-gutter-xs"},Bo={__name:"canservo8cChannel",props:{NodeNumber:{type:Number,required:!0},Channel:{type:Number,required:!0},Title:{type:String,default:""},Description:{type:String,default:""},Badge:{type:String,default:""},BadgeMulti:{type:Number,default:1},BadgeUnit:{type:String,default:""}},setup(e){const t=e,a=(0,l.f3)("store"),s=4*t.Channel+1;return(t,d)=>{const o=(0,l.up)("q-card-section"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",Do,[(0,l.Wm)(i,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l._)("div",Eo,"Channel "+(0,n.zw)(e.Channel),1)])),_:1}),(0,l._)("div",Co,[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{nodeVariableIndex:s,nodeNumber:(0,W.SU)(a).state.selected_node,Title:"On Position",Description:"Set On Position",learn:!0,Badge:"On Pos",BadgeMulti:1,BadgeUnit:""},null,8,["nodeNumber"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{nodeVariableIndex:s+1,nodeNumber:(0,W.SU)(a).state.selected_node,Title:"Off Position",Description:"Set Off Position",learn:!0,Badge:"Off Pos",BadgeMulti:1,BadgeUnit:""},null,8,["nodeVariableIndex","nodeNumber"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{nodeVariableIndex:s+2,nodeNumber:(0,W.SU)(a).state.selected_node,Title:"On Speed",Description:"Set Speed to On Position",learn:!0,Badge:"On Speed",BadgeMulti:1,BadgeUnit:""},null,8,["nodeVariableIndex","nodeNumber"])])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{nodeVariableIndex:s+3,nodeNumber:(0,W.SU)(a).state.selected_node,Title:"Off Speed",Description:"Set Speed to Off Position",learn:!0,Badge:"Off Speed",BadgeMulti:1,BadgeUnit:""},null,8,["nodeVariableIndex","nodeNumber"])])),_:1})])])),_:1})])}}},Zo=Bo,Qo=Zo;S()(Bo,"components",{QCard:Y.Z,QCardSection:$.Z});const Ho={name:"Canservo8cVariables",components:{NodeVariableNumber:st,NodeVariableBitArray:Na,Canservo8cChannel:Qo},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],25,1)})),{store:e,NodeVariableNumber:st,NodeVariableBitArray:Na,Canservo8cChannel:Qo}}},Oo=(0,w.Z)(Ho,[["render",To]]),jo=Oo;function Lo(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",null,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const zo=(0,l._)("h5",null,"Event Variables",-1),Po={class:"row items-start q-gutter-md"},Mo=(0,l._)("div",{class:"text-subtitle2"},"Switch Actions",-1),Yo=(0,l._)("div",{class:"text-subtitle2"},"Polarity",-1),Fo={__name:"Canservo8cEventVariables",setup(e){const t=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("Canservo8cEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,25,t.state.nodes[t.state.selected_node].parameters[5])})),(e,a)=>{const n=(0,l.up)("q-card-section"),s=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[zo,(0,l._)("div",Po,[(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[Mo])),_:1}),(0,l.Wm)(n,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":1,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(n,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[Yo])),_:1}),(0,l.Wm)(n,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":2,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1})])],64)}}},$o=Fo,Ao=$o;S()(Fo,"components",{QCard:Y.Z,QCardSection:$.Z});const Ko={class:"full-width"},Ro={key:0,class:"q-pa-md row"},Go={__name:"Canservo8cEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`Canservo8cEventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`Canservo8cEventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("Canservo8cEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ko,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",Ro,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Jo=Go,Xo=Jo;S()(Go,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const ei={name:"Canservo8cEvents",components:{Canservo8cEventsList:Xo,Canservo8cEventVariables:Ao},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("Canservo8cEventsList"),e.methods.update_event_component("Canservo8cEventsList")})),{store:e}}},ti=(0,w.Z)(ei,[["render",Lo]]),ai=ti,li={name:"canservo8c",components:{DefaultInfo:Je,Canservo8cVariables:jo,Canservo8cEvents:ai,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},ni=(0,w.Z)(li,[["render",Uo]]),si=ni;function di(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("canled64-variables"),b=(0,l.up)("canled64-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l.Wm)(o)]),(0,l._)("div",null,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])],64)}S()(li,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const oi={class:"q-pa-md row"};function ii(e,t,a,n,s,d){const o=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)("div",oi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(o,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])}const ri={name:"canled64Variables",components:{NodeVariableNumber:st},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,NodeVariableNumber:st}}},ui=(0,w.Z)(ri,[["render",ii]]),mi=ui,ci={class:"q-pa-md"};function bi(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",ci,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const pi=(0,l._)("h5",null,"Event Variables",-1),vi={class:"q-pa-xs row items-start q-gutter-md"},_i=(0,l._)("div",{class:"Active LEDs"},"Switch Actions",-1),fi=(0,l._)("div",{class:"Select to Activate LED"},"Select to Activate",-1),wi={class:"q-pa-xs row items-start q-gutter-md"},yi=(0,l._)("div",{class:"Polarity"},"Switch Actions",-1),gi=(0,l._)("div",{class:"Select to Polarity for LED"},"Select to Activate",-1),xi={class:"q-pa-ms row"},Ni={__name:"canled64EventVariables",setup(e){const t=(0,l.f3)("store"),a=[{label:"On/Off",value:255},{label:"On Only",value:254},{label:"Off Only",value:253},{label:"Flash",value:248}];return(0,l.wF)((()=>{console.log("DefaultEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,n)=>{const s=(0,l.up)("q-card-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[pi,(0,l._)("div",vi,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[_i,fi])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":1,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":2,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+9).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":3,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+17).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":4,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+25).toString()},null,8,["event-index","node-number","bit","name"]))),64)),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":5,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+33).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":6,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+41).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":7,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+49).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":8,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+57).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1})])),_:1})]),(0,l._)("div",wi,[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[yi,gi])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":9,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+1).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":10,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+9).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":11,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+17).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":12,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+25).toString()},null,8,["event-index","node-number","bit","name"]))),64)),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":13,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+33).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":14,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+41).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":15,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+49).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1}),(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([0,1,2,3,4,5,6,7],(e=>(0,l.Wm)((0,W.SU)(ql),{key:e,"event-variable-index":16,"event-index":(0,W.SU)(t).state.selected_event_index,"node-number":(0,W.SU)(t).state.selected_node,bit:e,name:(e+57).toString()},null,8,["event-index","node-number","bit","name"]))),64))])),_:1})])),_:1})])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Rl),{"node-number":(0,W.SU)(t).state.selected_node,"event-index":(0,W.SU)(t).state.selected_event_index,"event-variable-index":17,options:a,Title:"LED Action",Description:"Set the mode when LEDS are activated"},null,8,["node-number","event-index"])])),_:1})])),_:1})]),(0,l._)("div",xi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])],64)}}},Vi=Ni,Si=Vi;S()(Ni,"components",{QCard:Y.Z,QCardSection:$.Z});const Ii={class:"full-width"},qi={key:0,class:"q-pa-md row"},Wi={__name:"canled64EventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`Canled64EventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("Canled64EventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Ii,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",qi,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Ui=Wi,hi=Ui;S()(Wi,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const ki={name:"Canled64Events",components:{Canled64EventsList:hi,Canled64EventVariables:Si},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("Canled64EventsList"),e.methods.update_event_component("Canled64EventsList")})),{store:e}}},Ti=(0,w.Z)(ki,[["render",bi]]),Di=Ti,Ei={name:"canled64",components:{DefaultInfo:Je,canled64Variables:mi,canled64Events:Di,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},Ci=(0,w.Z)(Ei,[["render",di]]),Bi=Ci;S()(Ei,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const Zi={class:"q-pa-md q-gutter-sm"},Qi={class:"q-pa-md"};function Hi(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("cancmd-variables"),b=(0,l.up)("cancmd-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Zi,[(0,l.Wm)(o)]),(0,l._)("div",Qi,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])],64)}const Oi=(0,l._)("div",{class:"text-h6"},"User Flags",-1),ji=(0,l._)("div",{class:"text-subtitle2"},"User Flags",-1),Li=(0,l._)("div",{class:"text-h6"},"Operation Flags",-1),zi=(0,l._)("div",{class:"text-subtitle2"},"Operation Flags",-1),Pi=(0,l._)("div",{class:"text-h6"},"Debug Flags",-1),Mi=(0,l._)("div",{class:"text-subtitle2"},"Debug Flags",-1),Yi={class:"q-pa-md row"},Fi={class:"q-pa-md row"};function $i(e,t,a,n,s,d){const o=(0,l.up)("q-card-section"),i=(0,l.up)("node-variable-bit"),r=(0,l.up)("q-card"),u=(0,l.up)("node-variable-slider"),m=(0,l.up)("NodeVariableDual"),c=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Oi,ji])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:0,Name:"Silent"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:1,Name:"Permit Steal"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:2,Name:"Permit Share"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:2,Name:"Permit Event Reset"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:3,Name:"Permit Event Reset"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:4,Name:"Map Event"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:5,Name:"Stop on Timeout"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:6,Name:"Start of Day"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:2,Bit:7,Name:"Enable Shuttles"},null,8,["NodeNumber"])])),_:1})])),_:1}),(0,l.Wm)(r,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Li,zi])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:3,Bit:0,Name:"Jumper Control"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:3,Bit:1,Name:"Main Output on board"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:3,Bit:2,Name:"Analogue Detection"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:3,Bit:3,Name:"ZTC mode"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:3,Bit:4,Name:"Track Off with Stop All"},null,8,["NodeNumber"])])),_:1})])),_:1}),(0,l.Wm)(r,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[Pi,Mi])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:4,Bit:0,Name:"Priority Packets"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:4,Bit:1,Name:"Refresh Speed Packets"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:4,Bit:2,Name:"Refresh Function Packets"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:4,Bit:3,Name:"service Mode Packets"},null,8,["NodeNumber"]),(0,l.Wm)(i,{NodeNumber:n.store.state.selected_node,VariableIndex:4,Bit:4,Name:"Accessory Packets"},null,8,["NodeNumber"])])),_:1})])),_:1}),(0,l._)("div",Yi,[(0,l.Wm)(u,{"node-variable-index":5,"node-number":n.store.state.selected_node,Title:"Walkabout Timeout",Description:"Walkabout Timeout",Badge:"Duration",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":6,"node-number":n.store.state.selected_node,Title:"Main Current Limit",Description:"Main Current Limit",Badge:"",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":7,"node-number":n.store.state.selected_node,Title:"Service Current Limit",Description:"Service Current Limit",Badge:"",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":8,"node-number":n.store.state.selected_node,Title:"Current Multiplier",Description:"Current Multiplier",Badge:"",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":9,"node-number":n.store.state.selected_node,Title:"Increase for ACK Pulses",Description:"Increase for ACK Pulses",Badge:"",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":10,"node-number":n.store.state.selected_node,Title:"Shoot through delay",Description:"Shoot through delay",Badge:"",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"]),(0,l.Wm)(m,{NodeVariableIndexLow:12,NodeVariableIndexHigh:11,NodeNumber:n.store.state.selected_node,name:"Mapped Node"},null,8,["NodeNumber"]),(0,l.Wm)(u,{"node-variable-index":13,"node-number":n.store.state.selected_node,Title:"Send Current Interval",Description:"Send Current Interval",Badge:"Duration",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":14,"node-number":n.store.state.selected_node,Title:"SOD Delay",Description:"Start of Day Delay",Badge:"Time",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":15,"node-number":n.store.state.selected_node,Title:"Shuttle Honk Interval",Description:"Shuttle Honk Interval",Badge:"Duration",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-number"]),(0,l.Wm)(u,{"node-variable-index":16,"node-number":n.store.state.selected_node,Title:"Maximum Speed",Description:"Over 127 has no affect",Badge:"Speed",BadgeMulti:1,BadgeUnit:""},null,8,["node-number"])]),(0,l._)("div",Fi,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(c,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])],64)}const Ai={name:"DefaultVariables",components:{NodeVariableNumber:st,NodeVariableBit:pa,NodeVariableSlider:Pa,NodeVariableDual:Da},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,NodeVariableNumber:st,NodeVariableBit:pa}}},Ki=(0,w.Z)(Ai,[["render",$i]]),Ri=Ki;S()(Ai,"components",{QCard:Y.Z,QCardSection:$.Z});const Gi={class:"q-pa-md"};function Ji(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",Gi,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const Xi=(0,l._)("h5",null,"Event Variables",-1),er={class:"q-pa-md row"},tr={__name:"cancmdEventVariables",setup(e){const t=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultEventVariables"),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,100,t.state.nodes[t.state.selected_node].parameters[5])})),(e,a)=>((0,l.wg)(),(0,l.iD)(l.HY,null,[Xi,(0,l._)("div",er,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])],64))}},ar=tr,lr=ar,nr={class:"full-width"},sr={key:0,class:"q-pa-md row"},dr={__name:"cancmdEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(d,(()=>{o()}));const o=()=>{console.log(`CancmdEventList Mounted ${a.state.selected_node}`),s.value=[],d.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),s.value.push(t)}))};(0,l.wF)((()=>{console.log(`CancmdEventList Mounted ${a.state.selected_node}`),a.methods.request_all_node_events(a.state.selected_node),o()}));const i=e=>{console.log("editEvent"),a.state.selected_event_index=e,a.methods.update_event_component("CancmdEventVariables")},r=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)};return(e,d)=>{const o=(0,l.up)("q-td"),u=(0,l.up)("q-btn"),m=(0,l.up)("q-tr"),c=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",nr,[(0,l.Wm)(c,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(m,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(o,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>i(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(u,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>r((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",sr,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},or=dr,ir=or;S()(dr,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const rr={name:"DefaultEvents",components:{CancmdEventsList:ir,CancmdEventVariables:lr},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("DefaultEventsList"),e.methods.update_event_component("CancmdEventsList")})),{store:e}}},ur=(0,w.Z)(rr,[["render",Ji]]),mr=ur,cr={name:"mergDefault",components:{DefaultInfo:Je,CancmdVariables:Ri,CancmdEvents:mr,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},br=(0,w.Z)(cr,[["render",Hi]]),pr=br;S()(cr,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const vr={class:"q-pa-md q-gutter-xs"},_r={class:"q-pa-xs"};function fr(e,t,a,n,s,d){const o=(0,l.up)("node-details"),i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("default-info"),m=(0,l.up)("q-tab-panel"),c=(0,l.up)("canmio-variables"),b=(0,l.up)("canmio-events"),p=(0,l.up)("q-tab-panels");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",vr,[(0,l.Wm)(o)]),(0,l._)("div",_r,[(0,l._)("div",null,[(0,l.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:0,name:"variables",label:"Variables"})):(0,l.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,l.wg)(),(0,l.j4)(i,{key:1,name:"events",label:"Events"})):(0,l.kq)("",!0)])),_:1},8,["modelValue"]),(0,l.Wm)(p,{modelValue:n.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>n.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{name:"info",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(u)])),_:1}),(0,l.Wm)(m,{name:"variables",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(c)])),_:1}),(0,l.Wm)(m,{name:"events",class:"bg-white"},{default:(0,l.w5)((()=>[(0,l.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])])],64)}const wr=(0,l._)("div",{class:"text-h6"},"CANMIO Variables",-1),yr=(0,l._)("div",{class:"text-subtitle2"},"CANMIO Variables",-1),gr=(0,l._)("div",{class:"text-h6"},"CANMIO Channels",-1),xr=(0,l._)("div",{class:"text-subtitle2"},"CANMIO Channels",-1),Nr={class:"q-pa-md row"};function Vr(e,t,a,n,s,d){const o=(0,l.up)("q-card-section"),i=(0,l.up)("node-variable-slider"),r=(0,l.up)("node-variable-bit-array"),u=(0,l.up)("q-card"),m=(0,l.up)("canmio-channel"),c=(0,l.up)("NodeVariableNumber");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[wr,yr])),_:1}),(0,l._)("div",null,[(0,l.Wm)(o,{class:"row items-start q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{"node-variable-index":1,"node-number":n.store.state.selected_node,Title:"Produced Startup Event Delay",Description:"Produced Startup Event Delay",Badge:"Duration",BadgeMulti:100,BadgeUnit:"ms"},null,8,["node-number"]),(0,l.Wm)(i,{"node-variable-index":2,"node-number":n.store.state.selected_node,Title:"Heartbeat Delay",Description:"Heartbeat Delay",Badge:"Duration",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-number"]),(0,l.Wm)(i,{"node-variable-index":3,"node-number":n.store.state.selected_node,Title:"Servo Speed",Description:"Servo Speed",Badge:"Speed",BadgeMulti:20,BadgeUnit:"ms"},null,8,["node-number"]),(0,l.Wm)(r,{VariableIndex:4,learn:!0,Title:"Port B Pull-ups",Description:"Port B Pull-ups"}),(0,l.Wm)(i,{"node-variable-index":2,"node-number":n.store.state.selected_node,Title:"Time delay between response messages",Description:"Time delay between response messages",Badge:"Duration",BadgeMulti:1,BadgeUnit:"ms"},null,8,["node-number"])])),_:1})])])),_:1}),(0,l.Wm)(u,{class:"q-pa-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[gr,xr])),_:1}),(0,l.Wm)(o,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{Channel:1,NodeNumber:n.store.state.selected_node},null,8,["NodeNumber"])])),_:1})])),_:1}),(0,l._)("div",Nr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.store.state.nodes[n.store.state.selected_node].parameters[6],(e=>((0,l.wg)(),(0,l.j4)(c,{"node-variable-index":e,"node-number":n.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))])],64)}const Sr={class:"q-pa-xs row"},Ir={class:"text-subtitle2"},qr={class:"q-pa-xs row"},Wr=(0,l._)("div",{class:"text-subtitle2"},"Type",-1),Ur={class:"q-pa-xs row"},hr={class:"text-subtitle2"},kr={class:"row items-start q-gutter-xs"},Tr={class:"q-pa-xs row"},Dr={__name:"canmioChannel",props:{NodeNumber:{type:Number,required:!0},Channel:{type:Number,required:!0}},setup(e){const t=e,a=(0,l.f3)("store"),s=(0,W.iH)(),d=(0,W.iH)(),o=[{label:"Input",value:0},{label:"Output",value:1},{label:"Servo",value:2},{label:"Bounce",value:3}],i=e=>7*e+9,r=e=>{console.log(`cannacc8Channel update_details ${e} ${i(e)}`),s.value=e,d.value=a.state.nodes[a.state.selected_node].nodeVariables[i(e)],a.methods.request_all_node_variables(a.state.selected_node,7,20,i(e))},u=e=>{console.log(`cannac8cChannel updateType ${e.value}`),a.methods.update_node_variable(t.NodeNumber,i(s.value),e.value),a.methods.request_all_node_variables(a.state.selected_node,7,20,i(s.value)),d.value=e.value};return(0,l.wF)((()=>{a.methods.request_all_node_variables(a.state.selected_node,7,20,i(t.Channel)),s.value=t.Channel,d.value=a.state.nodes[a.state.selected_node].nodeVariables[i(t.Channel)]})),(t,m)=>{const c=(0,l.up)("q-card-section"),b=(0,l.up)("q-select"),p=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Sr,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l._)("div",Ir,"Channel "+(0,n.zw)(e.Channel),1)])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:s.value,"onUpdate:modelValue":[m[0]||(m[0]=e=>s.value=e),r],options:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"map-options":""},null,8,["modelValue"])])),_:1})])),_:1})]),(0,l._)("div",qr,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[Wr])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{modelValue:d.value,"onUpdate:modelValue":[m[1]||(m[1]=e=>d.value=e),u],options:o,"map-options":""},null,8,["modelValue"])])),_:1})])),_:1})]),(0,l._)("div",Ur,[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l._)("div",hr,"Type"+(0,n.zw)(d.value),1)])),_:1}),(0,l._)("div",kr,[0==d.value?((0,l.wg)(),(0,l.j4)(p,{key:0,class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(pa),{Bit:0,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Trigger Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:3,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Disable Off"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:4,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Toggle"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:6,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Event Inverted"},null,8,["VariableIndex","NodeNumber"])])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l._)("div",Tr,[(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+2,"node-number":(0,W.SU)(a).state.selected_node,Title:"On Delay",Description:"On Delay",Badge:"Duration",BadgeMulti:5,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+3,"node-number":(0,W.SU)(a).state.selected_node,Title:"Off Delay",Description:"Off Delay",Badge:"Duration",BadgeMulti:5,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"])])])),_:1})])),_:1})):(0,l.kq)("",!0),1==d.value?((0,l.wg)(),(0,l.j4)(p,{key:1},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(pa),{Bit:0,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Trigger Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:2,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Startup"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:3,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Disable Off"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:5,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:6,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Event Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:7,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Expedited"},null,8,["VariableIndex","NodeNumber"])])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+2,"node-number":(0,W.SU)(a).state.selected_node,Title:"Pulse Duration",Description:"Pulse Duration",Badge:"Duration",BadgeMulti:100,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+3,"node-number":(0,W.SU)(a).state.selected_node,Title:"Flash Duration",Description:"Flasd Duration",Badge:"Duration",BadgeMulti:100,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"])])),_:1})])),_:1})):(0,l.kq)("",!0),2==d.value?((0,l.wg)(),(0,l.j4)(p,{key:2},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(pa),{Bit:0,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Trigger Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:1,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Cut Off"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:2,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Startup"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:5,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:6,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Event Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:7,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Expedited"},null,8,["VariableIndex","NodeNumber"])])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+2,"node-number":(0,W.SU)(a).state.selected_node,Title:"Off Position",Description:"Off Position",Badge:"Position",BadgeMulti:1,BadgeUnit:""},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+3,"node-number":(0,W.SU)(a).state.selected_node,Title:"On Position",Description:"On Position",Badge:"Position",BadgeMulti:1,BadgeUnit:""},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+4,"node-number":(0,W.SU)(a).state.selected_node,Title:"Off to On Speed",Description:"Off to On Speed",Badge:"Speed",BadgeMulti:20,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+5,"node-number":(0,W.SU)(a).state.selected_node,Title:"On to Off Speed",Description:"On to Off Speed",Badge:"Speed",BadgeMulti:20,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"])])),_:1})])),_:1})):(0,l.kq)("",!0),3==d.value?((0,l.wg)(),(0,l.j4)(p,{key:3},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(pa),{Bit:0,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Trigger Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:1,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Cut Off"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:2,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Startup"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:5,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:6,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Event Inverted"},null,8,["VariableIndex","NodeNumber"]),(0,l.Wm)((0,W.SU)(pa),{Bit:7,VariableIndex:i(s.value)+1,NodeNumber:(0,W.SU)(a).state.selected_node,Name:"Action Expedited"},null,8,["VariableIndex","NodeNumber"])])),_:1}),(0,l.Wm)(c,{class:"q-pa-xs row"},{default:(0,l.w5)((()=>[(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+2,"node-number":(0,W.SU)(a).state.selected_node,Title:"Upper Position",Description:"Upper Position",Badge:"Position",BadgeMulti:1,BadgeUnit:""},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+3,"node-number":(0,W.SU)(a).state.selected_node,Title:"Lower Position",Description:"Lower Position",Badge:"Duration",BadgeMulti:1,BadgeUnit:"seconds"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+4,"node-number":(0,W.SU)(a).state.selected_node,Title:"Bounce Coefficient",Description:"Bounce Coefficient",Badge:"",BadgeMulti:1,BadgeUnit:"%"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+5,"node-number":(0,W.SU)(a).state.selected_node,Title:"Pull Speed",Description:"Pull Speed",Badge:"Speed",BadgeMulti:20,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"]),(0,l.Wm)((0,W.SU)(Pa),{"node-variable-index":i(s.value)+6,"node-number":(0,W.SU)(a).state.selected_node,Title:"Pull Pause",Description:"Pull Pause",Badge:"Duration",BadgeMulti:20,BadgeUnit:"ms"},null,8,["node-variable-index","node-number"])])),_:1})])),_:1})):(0,l.kq)("",!0)])])),_:1})])],64)}}},Er=Dr,Cr=Er;S()(Dr,"components",{QCard:Y.Z,QCardSection:$.Z,QSelect:ge.Z});const Br={name:"CanmioVariables",components:{NodeVariableNumber:st,NodeVariableSlider:Pa,NodeVariableBitArray:Na,canmioChannel:Cr},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],20,1)})),{store:e,NodeVariableNumber:st}}},Zr=(0,w.Z)(Br,[["render",Vr]]),Qr=Zr;S()(Br,"components",{QCard:Y.Z,QCardSection:$.Z});const Hr={class:"q-pa-md"};function Or(e,t,a,n,s,d){return(0,l.wg)(),(0,l.iD)("div",Hr,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.store.state.events_component)))])}const jr=(0,l._)("div",{class:"text-h6"},"Event Variables",-1),Lr=(0,l._)("div",{class:"text-subtitle2"},"CANMIO Variables",-1),zr={class:"q-pa-xs row"},Pr={__name:"canmioEventVariables",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)([]);(0,l.wF)((()=>{console.log("CanmioEventVariables"),t.methods.request_event_variable(t.state.selected_node,t.state.selected_event_index,0),t.methods.request_all_event_variables(t.state.selected_node,t.state.selected_event_index,10,t.state.nodes[t.state.selected_node].parameters[5]),n()}));const n=()=>{console.log("update_event_actions"),a.value=[];let e=1,l=8;a.value.push({value:0,label:"Do Nothing"}),a.value.push({value:1,label:"Start of Day"}),a.value.push({value:2,label:"Wait 0.5"}),a.value.push({value:3,label:"Wait 1"}),a.value.push({value:4,label:"Wait 2"}),a.value.push({value:5,label:"Wait 5"});for(let n=16;n<=121;n+=7)1==t.state.nodes[t.state.selected_node].nodeVariables[n]?(a.value.push({value:l,label:`Ch-${e} Change`}),a.value.push({value:l+1,label:`Ch-${e} ON`}),a.value.push({value:l+2,label:`Ch-${e} OFF`}),a.value.push({value:l+3,label:`Ch-${e} Flash`}),a.value.push({value:l+4,label:`Ch-${e} !Changed`})):2==t.state.nodes[t.state.selected_node].nodeVariables[n]||3==t.state.nodes[t.state.selected_node].nodeVariables[n]?(a.value.push({value:l,label:`Ch-${e} Change`}),a.value.push({value:l+1,label:`Ch-${e} ON`}),a.value.push({value:l+2,label:`Ch-${e} OFF`})):4==t.state.nodes[t.state.selected_node].nodeVariables[n]&&(a.value.push({value:l,label:`Ch-${e} AT1`}),t.state.nodes[t.state.selected_node].nodeVariables[n+2]>1&&a.value.push({value:l+1,label:`Ch-${e} AT2`}),t.state.nodes[t.state.selected_node].nodeVariables[n+2]>2&&a.value.push({value:l+2,label:`Ch-${e} AT3`}),t.state.nodes[t.state.selected_node].nodeVariables[n+2]>3&&a.value.push({value:l+3,label:`Ch-${e} AT4`})),e+=1,l+=5};return(e,n)=>{const s=(0,l.up)("q-card-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,{class:"q-pa-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[jr,Lr])),_:1}),(0,l._)("div",null,[(0,l.Wm)(s,{class:"row items-start q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(pt,{name:"Number of Stored Variables",eventVariableIndex:0,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index]},null,8,["eventIndex","nodeNumber","eventName"]),(0,l.Wm)(pt,{name:"Happenning",eventVariableIndex:1,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index]},null,8,["eventIndex","nodeNumber","eventName"])])),_:1})]),(0,l._)("div",null,[(0,l.Wm)(s,{class:"row items-start q-gutter-md"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)(l.HY,null,(0,l.Ko)([2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],(e=>(0,l.Wm)((0,W.SU)(Rl),{Title:"Action "+(e-1),options:a.value,eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,key:e},null,8,["Title","options","eventVariableIndex","eventIndex","nodeNumber"]))),64))])),_:1})]),(0,l._)("div",zr,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].parameters[5],(e=>((0,l.wg)(),(0,l.j4)(pt,{eventVariableIndex:e,eventIndex:(0,W.SU)(t).state.selected_event_index,nodeNumber:(0,W.SU)(t).state.selected_node,eventName:(0,W.SU)(t).state.nodes[(0,W.SU)(t).state.selected_node].storedEvents[(0,W.SU)(t).state.selected_event_index],key:e},null,8,["eventVariableIndex","eventIndex","nodeNumber","eventName"])))),128))])])),_:1})}}},Mr=Pr,Yr=Mr;S()(Pr,"components",{QCard:Y.Z,QCardSection:$.Z});const Fr={class:"full-width"},$r={class:"q-pa-md row"},Ar={key:0,class:"q-pa-md row"},Kr={__name:"canmioEventsList",setup(e){const t=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"happening",field:"happening",required:!1,label:"Happening",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],a=(0,l.f3)("store"),s=(0,W.iH)([]),d=(0,W.iH)([]),o=(0,W.iH)({}),i=(0,l.Fl)((()=>Object.values(a.state.nodes[a.state.selected_node].storedEvents)));(0,l.YP)(i,(()=>{r()}));const r=()=>{console.log(`CanmioEventList Mounted ${a.state.selected_node}`),s.value=[],i.value.forEach((e=>{let t={};t["eventIdentifier"]=e.eventIdentifier,t["eventIndex"]=e.eventIndex,t["nodeNumber"]=parseInt(e.eventIdentifier.substr(0,4),16),t["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),t["happening"]=o.value[a.state.nodes[a.state.selected_node].storedEvents[e.eventIndex].variables[1]],s.value.push(t)}))};(0,l.wF)((()=>{console.log(`DefaultEventList Mounted ${a.state.selected_node}`),a.methods.clear_node_events(a.state.selected_node),c(),b(),a.methods.request_all_node_events(a.state.selected_node),r()}));const u=e=>{console.log(`editEvent ${e}`),a.state.selected_event_index=e,a.methods.update_event_component("CanmioEventVariables")},m=(e,t)=>{console.log("removeEvent"),a.methods.remove_event(e,t)},c=()=>{console.log("update_event_actions"),d.value=[];let e=1,t=8;d.value.push({value:0,label:"Do Nothing"}),d.value.push({value:1,label:"Start of Day"}),d.value.push({value:2,label:"Wait 0.5"}),d.value.push({value:3,label:"Wait 1"}),d.value.push({value:4,label:"Wait 2"}),d.value.push({value:5,label:"Wait 5"});for(let l=16;l<=121;l+=7)1==a.state.nodes[a.state.selected_node].nodeVariables[l]?(d.value.push({value:t,label:`Ch-${e} Change`}),d.value.push({value:t+1,label:`Ch-${e} ON`}),d.value.push({value:t+2,label:`Ch-${e} OFF`}),d.value.push({value:t+3,label:`Ch-${e} Flash`}),d.value.push({value:t+4,label:`Ch-${e} !Changed`})):2==a.state.nodes[a.state.selected_node].nodeVariables[l]||3==a.state.nodes[a.state.selected_node].nodeVariables[l]?(d.value.push({value:t,label:`Ch-${e} Change`}),d.value.push({value:t+1,label:`Ch-${e} ON`}),d.value.push({value:t+2,label:`Ch-${e} OFF`})):4==a.state.nodes[a.state.selected_node].nodeVariables[l]&&(d.value.push({value:t,label:`Ch-${e} AT1`}),a.state.nodes[a.state.selected_node].nodeVariables[l+2]>1&&d.value.push({value:t+1,label:`Ch-${e} AT2`}),a.state.nodes[a.state.selected_node].nodeVariables[l+2]>2&&d.value.push({value:t+2,label:`Ch-${e} AT3`}),a.state.nodes[a.state.selected_node].nodeVariables[l+2]>3&&d.value.push({value:t+3,label:`Ch-${e} AT4`})),e+=1,t+=5},b=()=>{console.log("update happenings"),o.value={};let e=1,t=8;o.value[0]="",o.value[1]="Produced Startup Event";for(let l=16;l<=121;l+=7)1==a.state.nodes[a.state.selected_node].nodeVariables[l]?o.value[t]=`Ch-${e} Changed`:0==a.state.nodes[a.state.selected_node].nodeVariables[l]?(o.value[t]=`Ch-${e} Changed`,o.value[t+1]=`Ch-${e} TWO_ON`):2==a.state.nodes[a.state.selected_node].nodeVariables[l]?(o.value[t]=`Ch-${e} Reached Off`,o.value[t+1]=`Ch-${e} Reached Mid`,o.value[t+2]=`Ch-${e} Reached On`):3==a.state.nodes[a.state.selected_node].nodeVariables[l]?o.value[t]=`Ch-${e} Changed`:4==a.state.nodes[a.state.selected_node].nodeVariables[l]&&(o.value[t]=`Ch-${e} AT1`,a.state.nodes[a.state.selected_node].nodeVariables[l+2]>1&&(o.value[t+1]=`Ch-${e} AT2`),a.state.nodes[a.state.selected_node].nodeVariables[l+2]>2&&(o.value[t+2]=`Ch-${e} AT3`),a.state.nodes[a.state.selected_node].nodeVariables[l+2]>3&&(o.value[t+3]=`Ch-${e} AT4`)),e+=1,t+=4};return(e,i)=>{const r=(0,l.up)("q-td"),c=(0,l.up)("q-btn"),b=(0,l.up)("q-tr"),p=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",Fr,[(0,l.Wm)(p,{title:"Consumed Events",rows:s.value,columns:t,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,l.w5)((e=>[(0,l.Wm)(b,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{key:"eventIdentifier",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"happening",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.happening),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"nodeNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"eventNumber",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"eventIndex",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,l.Wm)(r,{key:"edit",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:t=>u(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,l.Wm)(c,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:t=>m((0,W.SU)(a).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,l._)("div",$r,[(0,l._)("p",null," Event Actions"+(0,n.zw)(Object.values(d.value)),1),(0,l._)("p",null," Happenings"+(0,n.zw)(o.value),1)]),(0,W.SU)(a).state.debug?((0,l.wg)(),(0,l.iD)("div",Ar,[(0,l._)("p",null,(0,n.zw)(Object.values((0,W.SU)(a).state.events)),1)])):(0,l.kq)("",!0)],64)}}},Rr=Kr,Gr=Rr;S()(Kr,"components",{QTable:A.Z,QTr:le.Z,QTd:K.Z,QBtn:R.Z});const Jr={name:"CanmioEvents",components:{CanmioEventsList:Gr,CanmioEventVariables:Yr},setup(){const e=(0,l.f3)("store");return(0,l.wF)((()=>{console.log("CanmioEventsList"),e.methods.update_event_component("CanmioEventsList")})),{store:e}}},Xr=(0,w.Z)(Jr,[["render",Or]]),eu=Xr,tu={name:"canmio",components:{DefaultInfo:Je,CanmioVariables:Qr,CanmioEvents:eu,NodeDetails:Zt},setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},au=(0,w.Z)(tu,[["render",fr]]),lu=au;S()(tu,"components",{QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const nu={name:"node",components:{mergDefault:Pt,mergDefault2:vs,Canace8c:wd,Canpan:Kd,Canacc8:Wo,Canservo8c:si,Canled64:Bi,Cancmd:pr,Canmio:lu,mergLcbDefault:Rs},setup(){const e=(0,l.f3)("store"),t=e.state.nodes[e.state.selected_node].component;return{store:e,mergDefault:Pt,display_component:t}}},su=(0,w.Z)(nu,[["render",Be]]),du=su,ou=(0,l._)("div",{class:"text-h6"},"Nodes",-1),iu=(0,l._)("div",{class:"text-h6"},"Events",-1),ru=(0,l._)("div",{class:"text-h6"},"Layout",-1),uu=(0,l._)("div",{class:"text-h6"},"List of Layouts",-1),mu=(0,l._)("div",{class:"text-h6"},"Cbus Errors",-1);function cu(e,t,a,s,d,o){const i=(0,l.up)("q-tab"),r=(0,l.up)("q-tabs"),u=(0,l.up)("q-tab-panel"),m=(0,l.up)("q-tab-panels"),c=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:s.tab,"onUpdate:modelValue":t[0]||(t[0]=e=>s.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{name:"nodes",label:"Nodes"}),(0,l.Wm)(i,{name:"events",label:"Events"}),(0,l.Wm)(i,{name:"layout",label:"Layout"}),(0,l.Wm)(i,{name:"layouts",label:"Layouts"}),(0,l.Wm)(i,{name:"cbusErrors",label:"Cbus Errors"})])),_:1},8,["modelValue"]),(0,l.Wm)(m,{modelValue:s.tab,"onUpdate:modelValue":t[1]||(t[1]=e=>s.tab=e),animated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{name:"nodes"},{default:(0,l.w5)((()=>[ou,(0,l._)("pre",null,"              "+(0,n.zw)(s.store.state.nodes)+"\n            ",1)])),_:1}),(0,l.Wm)(u,{name:"events"},{default:(0,l.w5)((()=>[iu,(0,l._)("pre",null,"              "+(0,n.zw)(s.store.state.events)+"\n            ",1)])),_:1}),(0,l.Wm)(u,{name:"layout"},{default:(0,l.w5)((()=>[ru,(0,l._)("pre",null,"            "+(0,n.zw)(s.store.state.layout)+"\n            ",1)])),_:1}),(0,l.Wm)(u,{name:"layouts"},{default:(0,l.w5)((()=>[uu,(0,l._)("pre",null,"            "+(0,n.zw)(s.store.state.layouts_list)+"\n            ",1)])),_:1}),(0,l.Wm)(u,{name:"cbusErrors"},{default:(0,l.w5)((()=>[mu,(0,l._)("pre",null,"            "+(0,n.zw)(s.store.state.cbus_errors)+"\n            ",1)])),_:1})])),_:1},8,["modelValue"])])),_:1})])])}a(6061);const bu={name:"JSON",setup(){const e=(0,l.f3)("store");return{tab:(0,W.iH)("nodes"),store:e}}},pu=(0,w.Z)(bu,[["render",cu]]),vu=pu;S()(bu,"components",{QCard:Y.Z,QTabs:Ht.Z,QTab:Ot.Z,QTabPanels:jt.Z,QTabPanel:Lt.Z});const _u=(0,l._)("div",{class:"col-4 q-table__title text-h4"},"CBUS Errors",-1),fu={key:0},wu={__name:"CbusErrors",setup(e){const t=(0,l.f3)("store"),a=(0,W.iH)(""),s=[{name:"id",field:"id",required:!0,label:"Error Id",align:"left",sortable:!0},{name:"Error",field:"Error",required:!0,label:"Error",align:"left",sortable:!0},{name:"Message",field:"Message",required:!0,label:"Message",align:"left",sortable:!0},{name:"node",field:"node",required:!0,label:"Node",align:"left",sortable:!0},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],d=()=>{t.methods.clear_cbus_errors()};return(e,o)=>{const i=(0,l.up)("q-space"),r=(0,l.up)("q-icon"),u=(0,l.up)("q-input"),m=(0,l.up)("q-btn"),c=(0,l.up)("q-td"),b=(0,l.up)("q-tr"),p=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l.Wm)(p,{title:"Nodes",rows:Object.values((0,W.SU)(t).state.cbus_errors),columns:s,filter:a.value,"row-key":"id","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,l.w5)((()=>[_u,(0,l.Wm)(i),(0,l.Wm)(u,{outlined:"",dense:"",debounce:"300",modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),placeholder:"Search"},{append:(0,l.w5)((()=>[(0,l.Wm)(r,{name:"search"})])),_:1},8,["modelValue"]),(0,l.Wm)(i),(0,l.Wm)(m,{color:"negative",label:"Clear Errors",onClick:d,"no-caps":""})])),body:(0,l.w5)((e=>[(0,l.Wm)(b,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{key:"id",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,l.Wm)(c,{key:"type",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props"]),(0,l.Wm)(c,{key:"Error",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.Error),1)])),_:2},1032,["props"]),(0,l.Wm)(c,{key:"Message",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.Message),1)])),_:2},1032,["props"]),(0,l.Wm)(c,{key:"node",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.node),1)])),_:2},1032,["props"]),(0,l.Wm)(c,{key:"count",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,W.SU)(t).state.debug?((0,l.wg)(),(0,l.iD)("p",fu,(0,n.zw)(Object.values((0,W.SU)(t).state.cbus_errors)),1)):(0,l.kq)("",!0)])])}}},yu=wu,gu=yu;S()(wu,"components",{QBtn:R.Z,QTable:A.Z,QSpace:ae.Z,QInput:F.Z,QIcon:x.Z,QTr:le.Z,QTd:K.Z});const xu={class:"bg-primary q-pa-md"},Nu={class:"q-pa-md q-mr-sm rounded-borders"},Vu=(0,l._)("div",{class:"text-h4 text-white"},"Elements Page",-1),Su={class:"q-pa-md row"},Iu={class:"q-pa-md row"},qu={__name:"Elements",setup(e){(0,l.f3)("store"),(0,W.iH)("Variable"),(0,W.iH)(!1),(0,W.iH)("Error Message");const t=(0,W.iH)(256),a=(0,W.iH)(1),n=(0,W.iH)("Variable");return(e,s)=>{const d=(0,l.up)("q-input"),o=(0,l.up)("node-variable"),i=(0,l.up)("q-card");return(0,l.wg)(),(0,l.iD)("div",xu,[(0,l._)("div",Nu,[Vu,(0,l.Wm)(i,null,{default:(0,l.w5)((()=>[(0,l._)("div",Su,[(0,l.Wm)(d,{class:"q-pa-md",modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),label:"Name"},null,8,["modelValue"]),(0,l.Wm)(d,{class:"q-pa-md",modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e),label:"Node Number"},null,8,["modelValue"]),(0,l.Wm)(d,{class:"q-pa-md",modelValue:a.value,"onUpdate:modelValue":s[2]||(s[2]=e=>a.value=e),label:"Variable Number"},null,8,["modelValue"])]),(0,l._)("div",Iu,[(0,l.Wm)(o,{"node-variable-index":a.value,"node-number":t.value,name:n.value},null,8,["node-variable-index","node-number","name"])])])),_:1})])])}}},Wu=qu,Uu=Wu;S()(qu,"components",{QCard:Y.Z,QInput:F.Z});const hu=JSON.parse('{"name":"MMC-CLIENT","version":"0.0.8","description":"Module Management Console Client","productName":"MMC","author":"David Ellis","private":true,"scripts":{"lint":"eslint --ext .js,.vue ./","format":"prettier --write \\"**/*.{js,vue,scss,html,md,json}\\" --ignore-path .gitignore","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@quasar/extras":"^1.0.0","core-js":"^3.6.5","quasar":"^2.0.0","sass":"^1.69.5","socket.io-client":"^4.4.1","vue":"^3.0.0","vue-json-pretty":"^1.8.2","vue-router":"^4.0.0"},"devDependencies":{"@babel/eslint-parser":"^7.13.14","@quasar/app":"^3.0.0","eslint":"^7.14.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.0.0","eslint-webpack-plugin":"^2.4.0","prettier":"^2.5.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 12.22.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}'),ku={class:"bg-primary q-pa-md"},Tu={class:"q-pa-md bg-white rounded-borders"},Du=(0,l._)("div",{class:"text-h4"},"System",-1),Eu=(0,l._)("div",{class:"text-h6"},"Backend",-1),Cu=(0,l._)("div",{class:"text-h6"},"Frontend",-1),Bu={__name:"System",setup(e){const t=(0,l.f3)("store"),a=()=>{t.methods.STOP_SERVER()};return(e,s)=>{const d=(0,l.up)("q-card"),o=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",ku,[(0,l._)("div",Tu,[Du,(0,l.Wm)(d,{class:"q-pa-md",flat:"",bordered:""},{default:(0,l.w5)((()=>[Eu,(0,l._)("div",null,"Backend App version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.App)),1),(0,l._)("div",null,"API version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.API)),1),(0,l._)("div",null,"node version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.node)),1)])),_:1}),(0,l.Wm)(d,{class:"q-pa-md",flat:"",bordered:""},{default:(0,l.w5)((()=>[Cu,(0,l._)("div",null,"Frontend App version "+(0,n.zw)((0,W.SU)(hu).version),1),(0,l._)("div",null,"Quasar framework "+(0,n.zw)(e.$q.version),1),(0,l._)("div",null,"Vue version "+(0,n.zw)(l.i8))])),_:1}),(0,l.Wm)(d,{class:"q-pa-md",flat:""},{default:(0,l.w5)((()=>[(0,l.Wm)(o,{color:"negative",label:"stop Server",onClick:s[0]||(s[0]=e=>a()),"no-caps":""}),(0,l.Uk)(" This will signal the server to stop and close the page ")])),_:1})])])}}},Zu=Bu,Qu=Zu;S()(Bu,"components",{QCard:Y.Z,QBtn:R.Z});const Hu=[{title:"Layout",caption:"Layout Page",icon:"home",component:"Layout"},{title:"Nodes",caption:"MERG Modules",icon:"mdi-timeline-outline",component:"Nodes"},{title:"Events",caption:"Captured Events",icon:"mdi-gesture-double-tap",component:"events"},{title:"Settings",caption:"MMC Settings",icon:"mdi-cog-outline",component:"settings"},{title:"JSON",caption:"Store Details",icon:"mdi-database",component:"JSON"},{title:"Cbus Errors",caption:"Cbus Errors",icon:"mdi-alert",component:"CbusErrors"},{title:"System",caption:"System",icon:"mdi-cog-outline",component:"system"}],Ou=(0,l.aZ)({name:"MainLayout",components:{EssentialLink:q,Home:C,Layout:J,Nodes:de,JSON:vu,events:We,settings:Ce,node:du,Elements:Uu,CbusErrors:gu,system:Qu},setup(){const e=(0,W.iH)(!1),t=(0,l.f3)("store");return{store:t,essentialLinks:Hu,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}}});var ju=a(4267),Lu=a(3812),zu=a(9570),Pu=a(3747),Mu=a(2901),Yu=a(7011),Fu=a(2652),$u=a(4379);const Au=(0,w.Z)(Ou,[["render",v],["__scopeId","data-v-080d18b7"]]),Ku=Au;S()(Ou,"components",{QLayout:ju.Z,QHeader:Lu.Z,QToolbar:zu.Z,QBtn:R.Z,QToolbarTitle:Pu.Z,QDrawer:Mu.Z,QList:Yu.Z,QPageContainer:Fu.Z,QPage:$u.Z})}}]);