"use strict";(globalThis["webpackChunkMMC_CLIENT"]=globalThis["webpackChunkMMC_CLIENT"]||[]).push([[763],{5763:(e,l,t)=>{t.r(l),t.d(l,{default:()=>lr});var a=t(3673),n=t(2323);const o=e=>((0,a.dD)("data-v-e9fd4424"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("span",{style:{"min-height":"0"},class:"page-title no-margin no-padding text-h6"}," Module Management Console ",-1))),i={class:"text-h5"},d=o((()=>(0,a._)("div",{class:"text-h6"}," Bus traffic ",-1))),r={key:0},u=o((()=>(0,a._)("br",null,null,-1))),p=o((()=>(0,a._)("br",null,null,-1))),m=o((()=>(0,a._)("br",null,null,-1))),c=o((()=>(0,a._)("br",null,null,-1))),b=o((()=>(0,a._)("br",null,null,-1))),v=o((()=>(0,a._)("br",null,null,-1)));function y(e,l,t,o,y,f){const w=(0,a.up)("q-item-section"),g=(0,a.up)("q-item"),_=(0,a.up)("q-list"),V=(0,a.up)("q-menu"),N=(0,a.up)("q-btn"),x=(0,a.up)("q-toolbar-title"),S=(0,a.up)("q-toolbar"),q=(0,a.up)("q-header"),h=(0,a.up)("q-banner"),k=(0,a.up)("q-item-label"),W=(0,a.up)("q-card"),I=(0,a.up)("q-drawer"),U=(0,a.up)("q-page"),T=(0,a.up)("q-page-container"),D=(0,a.up)("q-layout"),C=(0,a.up)("busEventsDialog"),E=(0,a.up)("cbusErrorsDialog"),Z=(0,a.up)("jsonDialog"),B=(0,a.up)("layoutDialog"),Q=(0,a.up)("systemDialog"),H=(0,a.Q2)("ripple");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(D,{view:"hHh lpR fFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{style:{"min-height":"0"},class:"bg-primary text-white no-margin no-padding"},{default:(0,a.w5)((()=>[(0,a.Wm)(S,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N,{flat:"",dense:"",icon:"menu"},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{"auto-close":""},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{style:{"min-width":"100px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{clickable:"",onClick:l[0]||(l[0]=l=>e.clickLayout())},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Layout")])),_:1})])),_:1}),(0,a.Wm)(g,{clickable:"",onClick:l[1]||(l[1]=l=>e.clickBusEvents())},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Bus events")])),_:1})])),_:1}),(0,a.Wm)(g,{clickable:"",onClick:l[2]||(l[2]=l=>e.clickJson())},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)("JSON")])),_:1})])),_:1}),(0,a.Wm)(g,{clickable:"",onClick:l[3]||(l[3]=l=>e.clickCbusErrors())},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)("CBUS errors")])),_:1})])),_:1}),(0,a.Wm)(g,{clickable:"",onClick:l[4]||(l[4]=l=>e.clickSystem())},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Uk)("System")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(x,{style:{"min-height":"0"},class:"no-margin no-padding text-h6"},{default:(0,a.w5)((()=>[s])),_:1}),(0,a._)("div",i,(0,n.zw)(e.store.state.layout.layoutDetails.title),1)])),_:1})])),_:1}),(0,a.Wm)(I,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":l[5]||(l[5]=l=>e.leftDrawerOpen=l),"show-if-above":"",side:"left",width:200,bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(W,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(_,{bordered:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.traffic,(e=>(0,a.wy)(((0,a.wg)(),(0,a.j4)(g,{key:e,clickable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"q-pa-none q-ma-none text-caption"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.direction+" "+e.json.encoded+" "+e.json.mnemonic),1)])),_:2},1024)])),_:2},1024)),[[H]]))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(T,{class:"main-page no-shadow"},{default:(0,a.w5)((()=>[(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[e.store.state.debug?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Uk)(" display_component : "+(0,n.zw)(e.store.state.display_component),1),u,(0,a.Uk)(" events_component : "+(0,n.zw)(e.store.state.events_component),1),p,(0,a.Uk)(" services_component : "+(0,n.zw)(e.store.state.services_component),1),m,(0,a.Uk)(" selected_node : "+(0,n.zw)(e.store.state.selected_node),1),c,(0,a.Uk)(" selected_events_index : "+(0,n.zw)(e.store.state.selected_event_index),1),b,(0,a.Uk)(" selected_service_index : "+(0,n.zw)(e.store.state.selected_service_index),1),v])):(0,a.kq)("",!0),((0,a.wg)(),(0,a.j4)((0,a.LL)(e.store.state.display_component)))])),_:1})])),_:1})])),_:1}),(0,a.Wm)(C,{modelValue:e.showBusEventsDialog,"onUpdate:modelValue":l[6]||(l[6]=l=>e.showBusEventsDialog=l)},null,8,["modelValue"]),(0,a.Wm)(E,{modelValue:e.showCbusErrorsDialog,"onUpdate:modelValue":l[7]||(l[7]=l=>e.showCbusErrorsDialog=l)},null,8,["modelValue"]),(0,a.Wm)(Z,{modelValue:e.showJsonDialog,"onUpdate:modelValue":l[8]||(l[8]=l=>e.showJsonDialog=l)},null,8,["modelValue"]),(0,a.Wm)(B,{modelValue:e.showLayoutDialog,"onUpdate:modelValue":l[9]||(l[9]=l=>e.showLayoutDialog=l)},null,8,["modelValue"]),(0,a.Wm)(Q,{modelValue:e.showSystemDialog,"onUpdate:modelValue":l[10]||(l[10]=l=>e.showSystemDialog=l)},null,8,["modelValue"])],64)}function f(e,l,t,o,s,i){const d=(0,a.up)("q-icon"),r=(0,a.up)("q-item-section"),u=(0,a.up)("q-item-label"),p=(0,a.up)("q-item");return(0,a.wg)(),(0,a.j4)(p,{clickable:"",tag:"a",target:"_blank",onClick:l[0]||(l[0]=l=>e.store.methods.update_display_component(e.component))},{default:(0,a.w5)((()=>[e.icon?((0,a.wg)(),(0,a.j4)(r,{key:0,avatar:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:e.icon},null,8,["name"])])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.title),1)])),_:1}),(0,a.Wm)(u,{caption:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.caption),1)])),_:1})])),_:1})])),_:1})}const w=(0,a.aZ)({name:"EssentialLink",setup(){const e=(0,a.f3)("store");return{store:e}},props:{title:{type:String,required:!0},caption:{type:String,default:""},component:{type:String,default:"layout"},icon:{type:String,default:""}}});var g=t(4260),_=t(3414),V=t(2035),N=t(4554),x=t(2350),S=t(7518),q=t.n(S);const h=(0,g.Z)(w,[["render",f]]),k=h;q()(w,"components",{QItem:_.Z,QItemSection:V.Z,QIcon:N.Z,QItemLabel:x.Z});var W=t(1959);const I={class:"q-pa-md"},U={class:"q-pa-md q-mr-sm rounded-borders"},T=(0,a._)("div",{class:"text-h4 text-black"},"Home Page",-1),D={class:"text-h5 text-black"},C={__name:"Home",setup(e){const l=(0,a.f3)("store");window.location.hostname;return(e,t)=>((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("div",U,[T,(0,a._)("div",D,(0,n.zw)((0,W.SU)(l).state.layout.layoutDetails.title),1)])]))}},E=C,Z=E;t(4564);const B={class:"q-pa-md q-mr-sm rounded-borders"},Q={class:"text-h5 text-black"},H={class:"text-h6 text-black"},z={class:"q-pa-md row"},j=(0,a._)("div",{class:"text-h6"},"Change layout",-1),O=(0,a._)("p",null,"Click on the list of layouts to select an existing layout, or enter a name for a new layout, then click change",-1),F=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),P=(0,a._)("div",{class:"text-h6 text-black"},"Edit layout details",-1),M={__name:"Layout",setup(e){const l=(0,W.iH)(""),t=(0,W.iH)([]),o=[{name:"layout",field:"layout",required:!0,label:"Layout",align:"left",sortable:!0}],s=(0,a.f3)("store"),i=(window.location.hostname,(0,a.Fl)((()=>Object.values(s.state.layouts_list))));(0,a.YP)(i,(()=>{console.log("WATCH layoutList"),d()}));const d=()=>{t.value=[],i.value.forEach((e=>{console.log("update "+e),t.value.push({layout:e})}))};(0,a.wF)((()=>{s.methods.request_layout_list()}));const r=e=>{console.log("clicked on",e),l.value=e},u=()=>{console.log("Change layout"),s.methods.change_layout(l.value),s.methods.request_layout_list(),l.value=""};return(e,i)=>{const d=(0,a.up)("q-input"),p=(0,a.up)("q-btn"),m=(0,a.up)("q-card-section"),c=(0,a.up)("q-card"),b=(0,a.up)("q-td"),v=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",B,[(0,a._)("div",Q,(0,n.zw)((0,W.SU)(s).state.layout.layoutDetails.title),1),(0,a._)("div",H,(0,n.zw)((0,W.SU)(s).state.layout.layoutDetails.subTitle),1)]),(0,a._)("div",z,[(0,a.Wm)(c,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[j,(0,a.Wm)(d,{class:"q-pa-sm",outlined:"",modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=e=>l.value=e),label:"layout name",maxlength:"30"},null,8,["modelValue"]),O,(0,a.Wm)(p,{color:"negative",label:"change",onClick:i[1]||(i[1]=e=>u()),"no-caps":""})])),_:1})])),_:1}),(0,a.Wm)(c,{inline:"",class:"q-pa-xs",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[F,(0,a.Wm)(v,{flat:"",bordered:"",dense:"",rows:t.value,columns:o,"row-key":"name","hide-header":"",pagination:{rowsPerPage:10}},{"body-cell":(0,a.w5)((e=>[(0,a.Wm)(b,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{flat:"",color:"primary",label:e.value,onClick:l=>r(e.value)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(c,{inline:"",class:"q-pa-md",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[P,(0,a.Wm)(d,{label:"Sub Title",outlined:"",modelValue:(0,W.SU)(s).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":i[2]||(i[2]=e=>(0,W.SU)(s).state.layout.layoutDetails.subTitle=e),onChange:i[3]||(i[3]=e=>(0,W.SU)(s).methods.update_layout())},null,8,["modelValue"])])),_:1})])],64)}}};var L=t(151),A=t(5589),Y=t(4689),$=t(8240),J=t(9178),R=t(3884);const G=M,K=G;q()(M,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z,QBtn:$.Z,QTable:J.Z,QTd:R.Z});const X=(0,a._)("div",{class:"col-2 q-table__title text-h4"},"Nodes",-1),ee={key:0},le={__name:"Nodes",setup(e){const l=[{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!0},{name:"nodeName",field:"nodeName",required:!0,label:"Node Name",align:"left",sortable:!0},{name:"moduleName",field:"moduleName",required:!0,label:"Module Name",align:"left",sortable:!0},{name:"mode",field:"mode",required:!0,label:"Mode",align:"left",sortable:!0},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],t=(0,a.f3)("store"),o=(0,W.iH)(""),s=(0,W.iH)([]),i=(0,a.Fl)((()=>Object.values(t.state.nodes)));(0,a.YP)(i,(()=>{d()}));const d=()=>{s.value=[],i.value.forEach((e=>{let l={};l["nodeNumber"]=e.nodeNumber,l["nodeName"]=m(e.nodeNumber),l["moduleName"]=e.moduleName,l["component"]=e.component,l["status"]=e.status,l["mode"]=e.flim,s.value.push(l)}))},r=()=>{t.methods.query_all_nodes()},u=(e,l)=>{t.state.selected_node=e,t.methods.request_all_node_parameters(t.state.selected_node,20,100),t.state.display_component="node"},p=e=>{t.methods.remove_node(e)},m=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].name:e.toString()+" - "+t.state.nodes[e].moduleName,c=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].colour:"blue";return(0,a.wF)((()=>{t.methods.query_all_nodes()})),(e,i)=>{const d=(0,a.up)("q-space"),m=(0,a.up)("q-icon"),b=(0,a.up)("q-input"),v=(0,a.up)("q-btn"),y=(0,a.up)("q-td"),f=(0,a.up)("q-chip"),w=(0,a.up)("q-tr"),g=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[(0,a.Wm)(g,{title:"Nodes",rows:s.value,columns:l,filter:o.value,"row-key":"nodeNumber","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[X,(0,a.Wm)(d),(0,a.Wm)(b,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(d),(0,a.Wm)(v,{color:"negative",label:"Check Nodes",onClick:i[1]||(i[1]=e=>r()),"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(w,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{key:"nodeNumber",class:(0,n.C_)("text-"+c(e.row.nodeNumber)),props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["class","props"]),(0,a.Wm)(y,{key:"nodeName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeName),1)])),_:2},1032,["props"]),(0,a.Wm)(y,{key:"moduleName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.moduleName),1)])),_:2},1032,["props"]),(0,a.Wm)(y,{key:"mode",props:e},{default:(0,a.w5)((()=>[e.row.mode?((0,a.wg)(),(0,a.j4)(f,{key:0,color:"white","text-color":"amber"},{default:(0,a.w5)((()=>[(0,a.Uk)("Flim")])),_:1})):((0,a.wg)(),(0,a.j4)(f,{key:1,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("Slim")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(y,{key:"status",props:e},{default:(0,a.w5)((()=>[e.row.status?((0,a.wg)(),(0,a.j4)(f,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("OK")])),_:1})):((0,a.wg)(),(0,a.j4)(f,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("Error")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(y,{key:"actions",props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{color:"primary",flat:"",rounded:"",label:"Edit",onClick:l=>u(e.row.nodeNumber,e.row.component),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(v,{color:"negative",flat:"",rounded:"",label:"Delete",onClick:l=>p(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",ee,(0,n.zw)(Object.values((0,W.SU)(t).state.nodes)),1)):(0,a.kq)("",!0)])])}}};var te=t(2025),ae=t(8186),ne=t(7030);const oe=le,se=oe;q()(le,"components",{QBtn:$.Z,QTable:J.Z,QSpace:te.Z,QInput:Y.Z,QIcon:N.Z,QTr:ae.Z,QTd:R.Z,QChip:ne.Z});var ie=t(8880);const de={class:"q-pa-md row items-start q-gutter-md"},re=(0,a._)("div",{class:"text-h6"},"Event Details",-1),ue=(0,a._)("div",{class:"text-subtitle2"},"Details to help identify the Event",-1),pe=(0,a._)("div",{class:"text-h6"},"Teach Event",-1),me=(0,a._)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),ce={class:"q-pa-xs q-gutter-sm"},be=(0,a._)("div",{class:"text-h6"},"Taught Events",-1),ve=(0,a._)("div",{class:"text-subtitle2"},"Nodes using this event",-1),ye=(0,a._)("div",{class:"text-h6"},"Generate event",-1),fe=(0,a._)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),we={class:"q-pa-md q-gutter-sm"},ge={__name:"EventDetails",props:{eventIdentifier:{type:String,required:!0},nodeNumber:{type:Number,required:!0},eventNumber:{type:Number,required:!0},type:{type:String,required:!0}},setup(e){const l=e,t=(0,W.iH)(""),n=(0,W.iH)(""),o=(0,W.iH)(""),s=(0,W.iH)(),i=(0,W.iH)([]),d=(0,W.iH)([]),r=(0,W.iH)([]),u=(0,W.iH)([]),p=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],m=(0,a.f3)("store"),c=(0,a.Fl)((()=>Object.values(m.state.layout.eventDetails)));(0,a.YP)(c,(()=>{console.log("WATCH Node Details"),y(),b()}));const b=()=>{r.value=[],c.value.forEach((e=>{r.value.includes(e.group)||r.value.push(e.group)}))},v=(0,a.Fl)((()=>Object.values(m.state.nodes)));(0,a.YP)(v,(()=>{y(),b()}));const y=()=>{u.value=[],d.value=[],v.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let t=Object.values(e.storedEvents);t.forEach((t=>{if(t.eventIdentifier==l.eventIdentifier){d.value.push(t.node);var a=m.state.layout.nodeDetails[e.nodeNumber].name;u.value.push({number:e.nodeNumber,name:a})}}))}})),f()},f=()=>{i.value=[];var e=m.state.nodes;for(var l in e){var t=!0;for(var a in d.value)d.value[a]==l&&(t=!1);if(t&&e[l].consumer){var n=l+": ";m.state.layout.nodeDetails[l]&&(n+=m.state.layout.nodeDetails[l].name),i.value.push(n)}}};(0,a.bv)((()=>{l.eventIdentifier in m.state.layout.eventDetails?(t.value=m.state.layout.eventDetails[l.eventIdentifier].name,n.value=m.state.layout.eventDetails[l.eventIdentifier].colour,o.value=m.state.layout.eventDetails[l.eventIdentifier].group):(t.value=l.eventIdentifier,n.value="black",o.value=""),y(),b()}));const w=()=>{if(console.log(`teach_event : ${s.value} : ${l.eventIdentifier}`),""!=s.value){var e=s.value.split(":");console.log(`teach_event : ${e[0]} : ${l.eventIdentifier}`),m.methods.teach_event(e[0],l.eventIdentifier,l.eventIndex),s.value=void 0}},g=()=>{l.eventIdentifier in m.state.layout.eventDetails===!1&&(m.state.layout.eventDetails[l.eventIdentifier]={}),m.state.layout.eventDetails[l.eventIdentifier].name=t.value,m.state.layout.eventDetails[l.eventIdentifier].colour=n.value,m.state.layout.eventDetails[l.eventIdentifier].group=o.value,m.methods.update_layout()},_=()=>{"long"==l.type?m.methods.long_on_event(l.nodeNumber,l.eventNumber):m.methods.short_on_event(l.nodeNumber,l.eventNumber)},V=()=>{"long"==l.type?m.methods.long_off_event(l.nodeNumber,l.eventNumber):m.methods.short_off_event(l.nodeNumber,l.eventNumber)};return(e,l)=>{const n=(0,a.up)("q-input"),o=(0,a.up)("q-card-section"),d=(0,a.up)("q-card"),r=(0,a.up)("q-select"),m=(0,a.up)("q-btn"),c=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",de,[(0,a.Wm)(d,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[re,ue,(0,a.Wm)(n,{class:"q-pa-sm",outlined:"",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),label:"Event Name",maxlength:"30",onChange:g},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(d,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[pe,me,(0,a.Wm)(r,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),options:i.value},null,8,["modelValue","options"]),(0,a._)("div",ce,[(0,a.Wm)(m,{color:"negative",label:"Teach",onClick:l[2]||(l[2]=e=>w()),"no-caps":""})])])),_:1})])),_:1}),(0,a.Wm)(d,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[be,ve,(0,a.Wm)(c,{flat:"",bordered:"",dense:"",rows:u.value,columns:p,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(d,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[ye,fe,(0,a._)("div",we,[(0,a.Wm)(m,{color:"green",label:"ON",onClick:l[3]||(l[3]=e=>_())}),(0,a.Wm)(m,{color:"negative",label:"OFF",onClick:l[4]||(l[4]=e=>V())})])])),_:1})])),_:1})])}}};var _e=t(3314);const Ve=ge,Ne=Ve;q()(ge,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z,QSelect:_e.Z,QBtn:$.Z,QTable:J.Z});const xe=(0,a._)("div",{class:"col-2 q-table__title text-h4"},"Bus Events",-1),Se={key:0},qe={__name:"Events",setup(e){const l=[{name:"expand",field:"expand",required:!0,label:"Expand",align:"left",sortable:!1},{name:"eventName",field:"name",required:!0,label:"Event Name",align:"left",sortable:!1},{name:"eventIdentifier",field:"id",required:!0,label:"Event Identifier",align:"left",sortable:!1},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!1},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event Number",align:"left",sortable:!1},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!1},{name:"type",field:"type",required:!0,label:"Type",align:"left",sortable:!1},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],t=(0,a.f3)("store"),o=(0,W.iH)(""),s={rowsPerPage:0};let i=(0,W.iH)();const d=(0,a.Fl)((()=>Object.values(t.state.events))),r=(0,a.Fl)((()=>t.state.layout));(0,a.YP)(d,(()=>{u()})),(0,a.YP)(r,(()=>{u()}));const u=()=>{let e=[],l=t.state.events;for(let t of Object.keys(l).sort()){let a={};a["id"]=l[t].id,a["nodeNumber"]=l[t].nodeNumber,a["eventNumber"]=l[t].eventNumber,a["status"]=l[t].status,a["type"]=l[t].type,a["count"]=l[t].count,a["name"]=p(l[t].id),a["colour"]=m(l[t].id),a["group"]=c(l[t].id),e.push(a)}i.value=e},p=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].name:JSON.stringify(e),m=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].colour:"blue",c=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].group:"";return(0,a.wF)((()=>{t.methods.query_all_nodes()})),(0,a.bv)((()=>{for(var e in t.methods.refresh_events(),t.state.nodes)console.log("request Events for node "+e),t.methods.request_all_node_events(e)})),(e,d)=>{const r=(0,a.up)("q-space"),u=(0,a.up)("q-icon"),p=(0,a.up)("q-input"),c=(0,a.up)("q-btn"),b=(0,a.up)("q-td"),v=(0,a.up)("q-chip"),y=(0,a.up)("q-tr"),f=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(f,{title:"Events",rows:(0,W.SU)(i),columns:l,filter:o.value,"row-key":"id","virtual-scroll":"",pagnation:s,"onUpdate:pagnation":d[3]||(d[3]=e=>s=e),"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[xe,(0,a.Wm)(r),(0,a.Wm)(p,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(r),(0,a.Wm)(c,{color:"negative",label:"Refresh Events",onClick:d[1]||(d[1]=e=>(0,W.SU)(t).methods.refresh_events()),"no-caps":""}),(0,a.Wm)(r),(0,a.Wm)(c,{color:"negative",label:"Clear Events",onClick:d[2]||(d[2]=e=>(0,W.SU)(t).methods.clear_events()),"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(y,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{key:"expand","auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{size:"sm",color:"accent",round:"",dense:"",onClick:l=>e.expand=!e.expand,icon:e.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,a.Wm)(b,{key:"eventName",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.name),1)])),_:2},1032,["props","class"]),(0,a.Wm)(b,{key:"eventIdentifier",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props","class"]),(0,a.Wm)(b,{key:"nodeNumber",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(b,{key:"eventNumber",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(b,{key:"status",props:e},{default:(0,a.w5)((()=>["on"==e.row.status?((0,a.wg)(),(0,a.j4)(v,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("ON")])),_:1})):((0,a.wg)(),(0,a.j4)(v,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("OFF")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"type",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props","class"]),(0,a.Wm)(b,{key:"count",props:e,class:(0,n.C_)("text-"+m(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props","class"])])),_:2},1032,["props"]),(0,a.wy)((0,a.Wm)(y,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{colspan:"100%"},{default:(0,a.w5)((()=>[(0,a.Wm)(Ne,{eventIdentifier:e.row.id,nodeNumber:e.row.nodeNumber,eventNumber:e.row.eventNumber,type:e.row.type},null,8,["eventIdentifier","nodeNumber","eventNumber","type"])])),_:2},1024)])),_:2},1032,["props"]),[[ie.F8,e.expand]])])),_:1},8,["rows","filter"])]),(0,a._)("div",null,[(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",Se,(0,n.zw)(Object.values((0,W.SU)(t).state.events)),1)):(0,a.kq)("",!0)])],64)}}},he=qe,ke=he;q()(qe,"components",{QTable:J.Z,QSpace:te.Z,QInput:Y.Z,QIcon:N.Z,QBtn:$.Z,QTr:ae.Z,QTd:R.Z,QChip:ne.Z});const We={class:"bg-primary q-pa-md"},Ie={class:"q-pa-md bg-white rounded-borders"},Ue=(0,a._)("div",{class:"text-h4"},"Settings",-1),Te={__name:"Settings",setup(e){const l=(0,a.f3)("store");return(e,t)=>{const n=(0,a.up)("q-input"),o=(0,a.up)("q-checkbox"),s=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",We,[(0,a._)("div",Ie,[Ue,(0,a.wy)((0,a.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{label:"Next Assigned Node ID",hint:"hint",outlined:"",modelValue:(0,W.SU)(l).state.layout.layoutDetails.nextNodeId,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,W.SU)(l).state.layout.layoutDetails.nextNodeId=e),onChange:t[1]||(t[1]=e=>(0,W.SU)(l).methods.update_layout())},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,W.SU)(l).state.layout.layoutDetails.assignId,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,W.SU)(l).state.layout.layoutDetails.assignId=e),label:"Assign Id"},null,8,["modelValue"])])),_:1},512),[[ie.F8,(0,W.SU)(l).state.advanced]]),(0,a.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{modelValue:(0,W.SU)(l).state.debug,"onUpdate:modelValue":t[3]||(t[3]=e=>(0,W.SU)(l).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,W.SU)(l).state.advanced,"onUpdate:modelValue":t[4]||(t[4]=e=>(0,W.SU)(l).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,a.Wm)(o,{modelValue:(0,W.SU)(l).state.develop,"onUpdate:modelValue":t[5]||(t[5]=e=>(0,W.SU)(l).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1})])])}}};var De=t(6271);const Ce=Te,Ee=Ce;function Ze(e,l){var t=null;if(e.nv){var a=l.state.nodes[l.state.selected_node].nodeVariables[e.nv];for(var n in e.labels)a==e.labels[n].value&&(t=e.labels[n].label)}return console.log("overloadedLabel: element "+JSON.stringify(e)+" result = "+t),t}function Be(e,l,t){var a=!0;if(void 0!=e.evBit)if(void 0!=t){var n=l.state.nodes[l.state.selected_node].storedEvents[t],o=n.variables[e.evBit.index];o=(o&2**e.evBit.bit)>>e.evBit.bit,a=Qe(o,e),console.log("parseLogicElement: evBit result = "+a)}else console.log("parseLogicElement: ERROR: evBit - event index (argument3) not defined ");if(void 0!=e.nvBit){o=l.state.nodes[l.state.selected_node].nodeVariables[e.nvBit.index];o=(o&2**e.nvBit.bit)>>e.nvBit.bit,a=Qe(o,e),console.log("parseLogicElement: nvBit result = "+a)}if(void 0!=e.nv){o=l.state.nodes[l.state.selected_node].nodeVariables[e.nv];a=Qe(o,e),console.log("parseLogicElement: nv result = "+a)}return a}function Qe(e,l){var t=!0;return void 0!=l.equals&&l.equals!=e&&(t=!1),void 0!=l.in&&(t=!1,l.in.forEach((function(l){e==l&&(t=!0)}))),void 0!=l.notEqual&&l.notEqual==e&&(t=!1),t}q()(Te,"components",{QCard:L.Z,QInput:Y.Z,QCheckbox:De.Z});const He={class:"text-h6"},ze={class:"text-h6"},je=(0,a._)("div",{class:"text-h6"},"Generate event",-1),Oe=(0,a._)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),Fe={class:"q-pa-md q-gutter-sm"},Pe="SendEventDialog",Me={__name:"SendEventDialog",props:{modelValue:{type:Boolean,required:!0},eventNumber:{type:Number,required:!0},nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}});(0,a.YP)(i,(()=>{console.log(Pe+": WATCH model")})),(0,a.wF)((()=>{console.log("SendEventDialog onBeforeMount")})),(0,a.bv)((()=>{console.log("SendEventDialog onMounted")}));const d=()=>{console.log("send on "+o.nodeNumber+" "+o.eventNumber),0==o.nodeNumber?t.methods.short_on_event(o.nodeNumber,o.eventNumber):t.methods.long_on_event(o.nodeNumber,o.eventNumber)},r=()=>{console.log("send off "+o.nodeNumber+" "+o.eventNumber),0==o.nodeNumber?t.methods.short_off_event(o.nodeNumber,o.eventNumber):t.methods.long_off_event(o.nodeNumber,o.eventNumber)};return(e,l)=>{const s=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),p=(0,a.up)("q-card-section"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[(0,a._)("div",He," Test event : "+(0,n.zw)((0,W.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",ze,"Event "+(0,n.zw)(o.nodeNumber)+":"+(0,n.zw)(o.eventNumber),1)])),_:1}),(0,a.Wm)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[je,Oe,(0,a._)("div",Fe,[(0,a.wy)((0,a.Wm)(s,{color:"green",label:"ON",onClick:l[0]||(l[0]=e=>d())},null,512),[[v]]),(0,a.wy)((0,a.Wm)(s,{color:"negative",label:"OFF",onClick:l[1]||(l[1]=e=>r())},null,512),[[v]])])])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var Le=t(6778),Ae=t(5607),Ye=t(9367),$e=t(677);const Je=Me,Re=Je;q()(Me,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()(Me,"directives",{ClosePopup:$e.Z});const Ge={class:"text-h6"},Ke=(0,a._)("div",{class:"text-h6"},"Are you sure you want to delete this event?",-1),Xe={__name:"DeleteEventDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),d=()=>{console.log("removeEvent "+o.nodeNumber+" "+o.eventIdentifier),t.methods.remove_event(o.nodeNumber,o.eventIdentifier)};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),r=(0,a.up)("q-banner"),u=(0,a.up)("q-card-section"),p=(0,a.up)("q-card-actions"),m=(0,a.up)("q-card"),c=(0,a.up)("q-dialog"),b=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(c,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[b]])])),default:(0,a.w5)((()=>[(0,a._)("div",Ge," Delete event : "+(0,n.zw)((0,W.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[Ke])),_:1}),(0,a.Wm)(p,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Yes",onClick:l[0]||(l[0]=e=>d())},null,512),[[b]]),(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},el=Xe,ll=el;q()(Xe,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()(Xe,"directives",{ClosePopup:$e.Z});const tl={class:"text-h6"},al=(0,a._)("div",{class:"text-h6"},"Event name",-1),nl={__name:"NameEventDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(""),s=e,i=l,d=(0,a.Fl)({get(){return s.modelValue},set(e){i("update:modelValue",e)}}),r=()=>{console.log("new event name: "+s.eventIdentifier+" "+o.value),t.setters.event_name(s.eventIdentifier,o.value),o.value=""};return(0,a.ic)((()=>{console.log("NameEventDialog onUpdated "+s.eventIdentifier),t.state.layout.eventDetails[s.eventIdentifier]&&(o.value=t.state.layout.eventDetails[s.eventIdentifier].name)})),(e,l)=>{const i=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),p=(0,a.up)("q-input"),m=(0,a.up)("q-card-section"),c=(0,a.up)("q-card-actions"),b=(0,a.up)("q-card"),v=(0,a.up)("q-dialog"),y=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(v,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[y]])])),default:(0,a.w5)((()=>[(0,a._)("div",tl," Edit name for event : "+(0,n.zw)((0,W.SU)(t).getters.event_name(s.eventIdentifier)),1)])),_:1}),(0,a.Wm)(m,{class:"q-pt-none"},{default:(0,a.w5)((()=>[al,(0,a.Wm)(p,{dense:"",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",label:"Accept",onClick:l[1]||(l[1]=e=>r())},null,512),[[y]]),(0,a.wy)((0,a.Wm)(i,{flat:"",label:"Cancel"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},ol=nl,sl=ol;q()(nl,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QInput:Y.Z,QCardActions:Ye.Z}),q()(nl,"directives",{ClosePopup:$e.Z});const il={class:"text-h6"},dl={class:"q-pa-md row items-start q-gutter-md"},rl=(0,a._)("div",{class:"text-h6"},"Teach Event",-1),ul=(0,a._)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),pl={class:"q-pa-xs q-gutter-sm"},ml=(0,a._)("div",{class:"text-h6"},"Taught Events",-1),cl=(0,a._)("div",{class:"text-subtitle2"},"Nodes using this event",-1),bl={__name:"EventTeachDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),d=(0,W.iH)(),r=(0,W.iH)([]),u=(0,W.iH)([]),p=(0,W.iH)([]),m=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],c=(0,a.Fl)((()=>Object.values(t.state.nodes)));(0,a.YP)(c,(()=>{b()}));const b=()=>{p.value=[],u.value=[],c.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let l=Object.values(e.storedEvents);l.forEach((l=>{if(l.eventIdentifier==o.eventIdentifier){u.value.push(l.node);var a=t.state.layout.nodeDetails[e.nodeNumber].name;p.value.push({number:e.nodeNumber,name:a})}}))}})),v()},v=()=>{r.value=[];var e=t.state.nodes;for(var l in e){var a=!0;for(var n in u.value)u.value[n]==l&&(a=!1);if(a&&e[l].consumer){var o=l+": ";t.state.layout.nodeDetails[l]&&(o+=t.state.layout.nodeDetails[l].name),r.value.push(o)}}},y=()=>{if(console.log(`teach_event : ${d.value} : ${o.eventIdentifier}`),""!=d.value){var e=d.value.split(":");console.log(`teach_event : ${e[0]} : ${o.eventIdentifier}`),t.methods.teach_event(e[0],o.eventIdentifier,o.eventIndex),d.value=void 0}};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log("EventTeachDialog onUpdated"),o.eventIdentifier&&b()})),(e,l)=>{const s=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),c=(0,a.up)("q-select"),b=(0,a.up)("q-card-section"),v=(0,a.up)("q-card"),f=(0,a.up)("q-table"),w=(0,a.up)("q-card-actions"),g=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(g,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[(0,a._)("div",il," Teach event : "+(0,n.zw)((0,W.SU)(t).getters.event_name(o.eventIdentifier)),1)])),_:1}),(0,a._)("div",dl,[(0,a.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[rl,ul,(0,a.Wm)(c,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),options:r.value},null,8,["modelValue","options"]),(0,a._)("div",pl,[(0,a.Wm)(s,{color:"negative",label:"Teach",onClick:l[1]||(l[1]=e=>y()),"no-caps":""})])])),_:1})])),_:1}),(0,a.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[ml,cl,(0,a.Wm)(f,{flat:"",bordered:"",dense:"",rows:p.value,columns:m,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1})]),(0,a.Wm)(w,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},vl=bl,yl=vl;q()(bl,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QSelect:_e.Z,QTable:J.Z,QCardActions:Ye.Z}),q()(bl,"directives",{ClosePopup:$e.Z});var fl=t(8825);const wl={__name:"EventVariableBit",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bit:{type:Number,required:!0},name:{type:String,required:!1},hint:{type:String,default:""}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),n={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},o=(0,W.iH)(!1);let s=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;const i=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(i,(()=>{o.value=!!(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&n[l.bit])}));const d=()=>{let e=i.value;console.log(`EventVariableBit update_checked ${o.value} ${e}`),o.value?e|=n[l.bit]:e&=~n[l.bit],console.log(`EventVariableBit update_checked-2 ${o.value} ${e}`),t.methods.update_event_variable(l.nodeNumber,s,l.eventIndex,l.eventVariableIndex,e)};return(0,a.bv)((()=>{const e=!!(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&n[l.bit]);o.value=e})),(l,t)=>{const n=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.j4)(n,{"min-width":"100",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:e.name,onClick:d,"left-label":""},null,8,["modelValue","label"])}}},gl=wl,_l=gl;q()(wl,"components",{QCheckbox:De.Z});const Vl={class:"text-h6"},Nl={class:"text-subtitle2"},xl={__name:"EventVariableBitArray",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){(0,a.f3)("store");return(0,a.bv)((()=>{})),(l,t)=>{const o=(0,a.up)("q-card-section"),s=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(s,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(o,null,{default:(0,a.w5)((()=>[(0,a._)("div",Vl,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Nl,(0,n.zw)(e.displaySubTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.bitCollection,(l=>((0,a.wg)(),(0,a.iD)("div",{key:l},[(0,a.Wm)((0,W.SU)(_l),{nodeNumber:e.nodeNumber,eventVariableIndex:e.eventVariableIndex,eventIndex:e.eventIndex,bit:l.bitPosition,name:l.label},null,8,["nodeNumber","eventVariableIndex","eventIndex","bit","name"])])))),128))])),_:1})])),_:1})}}},Sl=xl,ql=Sl;q()(xl,"components",{QCard:L.Z,QCardSection:A.Z});const hl={class:"text-h6"},kl={class:"text-subtitle2"},Wl={__name:"EventVariableBitSingle",props:{eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},bit:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=(0,a.f3)("store");return(0,a.bv)((()=>{})),(t,o)=>{const s=(0,a.up)("q-card-section"),i=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(i,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",hl,(0,n.zw)(e.displayTitle),1),(0,a._)("div",kl,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)((0,W.SU)(_l),{nodeNumber:(0,W.SU)(l).state.selected_node,eventIndex:e.eventIndex,eventVariableIndex:e.eventVariableIndex,bit:e.bit,name:e.name},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","name"])])),_:1})])),_:1})}}},Il=Wl,Ul=Il;q()(Wl,"components",{QCard:L.Z,QCardSection:A.Z});const Tl={style:{border:"2px solid grey"}},Dl={class:"GroupTitle"},Cl={class:"q-pa-xs row"};function El(e,l,t,o,s,i){const d=(0,a.up)("EventVariableBitArray"),r=(0,a.up)("EventVariableBitSingle"),u=(0,a.up)("EventVariableNumber"),p=(0,a.up)("EventVariableSelect"),m=(0,a.up)("EventVariableSlider"),c=(0,a.up)("EventVariableTabs");return(0,a.wg)(),(0,a.iD)("div",Tl,[(0,a._)("div",Dl,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",Cl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableTabs"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])}const Zl={class:"text-h6"},Bl={class:"text-subtitle2"},Ql={__name:"EventVariableNumber",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},name:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7},displayOffset:{type:Number,default:0}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,W.iH)();let d=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;console.log(`EventVariableNumber: Props : ${JSON.stringify(l)}`);const r=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableNumber: bitMask2 : ${r.value}`);const u=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(u,(()=>{i.value=((u.value&r.value)>>l.startBit)+l.displayOffset}));const p=e=>{let a=u.value,n=e;n-=l.displayOffset,n<l.min||n>l.max||""==e?(o.value=!0,s.value="Invalid Value "+e+" : Valid Range "+(l.min+l.displayOffset)+" - "+(l.max+l.displayOffset)):(n<<=l.startBit,a|=n&r.value,a&=n|~r.value,s.value="",o.value=!1,t.methods.update_event_variable(l.nodeNumber,d,l.eventIndex,l.eventVariableIndex,a))};return(0,a.bv)((()=>{console.log("EventVariableNumber: onMounted");let e=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex];i.value=((e&r.value)>>l.startBit)+l.displayOffset})),(l,t)=>{const d=(0,a.up)("q-input"),r=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("div",Zl,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Bl,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(d,{mask:"###",debounce:"1000",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),outlined:"","error-message":s.value,error:o.value,onChange:p},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},Hl=Ql,zl=Hl;q()(Ql,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z});const jl={class:"text-h6"},Ol={class:"text-subtitle2"},Fl={__name:"EventVariableSelect",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),o=(0,W.iH)();let s=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;var i=(0,W.iH)();const d=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(d,(()=>{o.value=d.value&l.bitMask}));const r=e=>{console.log(`EventVariableSelect: newValue ${e.value}`);let a=d.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`EventVariableSelect: byteValue ${a}`),t.methods.update_event_variable(l.nodeNumber,s,l.eventIndex,l.eventVariableIndex,a)};return(0,a.bv)((()=>{for(var e in console.log("EventVariableSelect: onMounted"),o.value=d.value&l.bitMask,console.log(`EventVariableSelect: props: ${JSON.stringify(l)}`),i.value=[],l.options)if(console.log(`EventVariableComplexSelect: item: ${e}`),void 0!=l.options[e].overload){var a=Ze(l.options[e].overload,t);if(a){var n={value:l.options[e].value,label:a};i.value.push(n)}}else void 0!=l.options[e].label&&i.value.push(l.options[e]);console.log(`EventVariableSelect: items: ${JSON.stringify(i.value)}`)})),(l,t)=>{const s=(0,a.up)("q-select"),d=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",jl,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Ol,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(s,{modelValue:o.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.value=e),r],options:(0,W.SU)(i),"popup-content-class":"q-pm-none","map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},Pl=Fl,Ml=Pl;q()(Fl,"components",{QCard:L.Z,QCardSection:A.Z,QSelect:_e.Z});const Ll={class:"text-h6"},Al={class:"text-subtitle2"},Yl={__name:"EventVariableSlider",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.f3)("store")),o=(0,W.iH)(!1),s=(0,W.iH)("");let i=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;console.log(`EventVariableSlider Props : ${JSON.stringify(l)}`);const d=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableSlider: bitMask : ${d.value}`);const r=(0,a.Fl)({get(){return(t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]&d.value)>>l.startBit},set(e){let a=t.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex];if(console.log(`OldByteValue : ${a}`),console.log(`NewValue : ${e}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let n=e;n<<=l.startBit,a|=n&d.value,a&=n|~d.value,o.value=!1,s.value="",t.methods.update_event_variable(l.nodeNumber,i,l.eventIndex,l.eventVariableIndex,a)}else console.log(`Invalid Value : ${e}`),s.value="Invalid Value",o.value=!0}}),u=e=>{o.value?console.log(`Invalid Value : ${e}`):console.log(`update slider value : ${e}`)};return(0,a.bv)((()=>{console.log("EventVariableSlider onMounted")})),(l,t)=>{const o=(0,a.up)("q-badge"),s=(0,a.up)("q-slider"),i=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a._)("div",Ll,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Al,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(o,{color:"secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(r.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,a.Wm)(s,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),max:e.max,min:e.min,onChange:u},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}};var $l=t(9721),Jl=t(2064);const Rl=Yl,Gl=Rl;q()(Yl,"components",{QCard:L.Z,QCardSection:A.Z,QBadge:$l.Z,QSlider:Jl.Z});const Kl={class:"q-pa-xs"},Xl={class:"q-pa-md row",style:{border:"1px solid grey"}};function et(e,l,t,n,o,s){const i=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),r=(0,a.up)("EventVariableBitArray"),u=(0,a.up)("EventVariableBitSingle"),p=(0,a.up)("EventVariableNumber"),m=(0,a.up)("EventVariableSelect"),c=(0,a.up)("EventVariableSlider"),b=(0,a.up)("EventVariableTabGroup"),v=(0,a.up)("q-tab-panel"),y=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",Kl,[(0,a.Wm)(d,{modelValue:n.selectedTab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(i,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(y,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":l[1]||(l[1]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(v,{key:e.displayTitle,name:e.displayTitle},{default:(0,a.w5)((()=>[(0,a._)("div",Xl,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.items,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:0,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:2,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:3,nodeNumber:n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:4,"node-number":n.store.state.selected_node,eventIndex:n.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableGroup"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:5,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const lt={style:{border:"2px solid grey"}},tt={class:"GroupTitle"},at={class:"q-pa-xs row"};function nt(e,l,t,o,s,i){const d=(0,a.up)("EventVariableBitArray"),r=(0,a.up)("EventVariableBitSingle"),u=(0,a.up)("EventVariableNumber"),p=(0,a.up)("EventVariableSelect"),m=(0,a.up)("EventVariableSlider");return(0,a.wg)(),(0,a.iD)("div",lt,[(0,a._)("div",tt,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",at,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,min:e.min,max:e.max},null,8,["node-number","eventIndex","eventVariableIndex","startBit","endBit","displayOffset","displayTitle","displaySubTitle","min","max"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0)])))),128))])])}const ot={components:{EventVariableBitArray:ql,EventVariableBitSingle:Ul,EventVariableNumber:zl,EventVariableSelect:Ml,EventVariableSlider:Gl},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=Be(e.visibilityLogic,l,l.state.selected_event_index)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:l,isVisible:t}}},st=(0,g.Z)(ot,[["render",nt],["__scopeId","data-v-53f68772"]]),it=st,dt={props:{configuration:Object},components:{EventVariableBitArray:ql,EventVariableBitSingle:Ul,EventVariableNumber:zl,EventVariableSelect:Ml,EventVariableSlider:Gl,EventVariableTabGroup:it},setup(e){const l=(0,W.iH)(),t=(0,W.iH)(),n=(0,a.f3)("store");function o(e){var l=!0;return e.visibilityLogic&&(l=Be(e.visibilityLogic,n,n.state.selected_event_index)),console.log("isVisible: "+l+" "+e.type),l}return(0,a.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),l.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(l.value)),t.value=l.value[0].displayTitle})),{store:n,selectedTab:t,tabPanels:l,isVisible:o}}};var rt=t(7547),ut=t(3269),pt=t(5906),mt=t(6602);const ct=(0,g.Z)(dt,[["render",et]]),bt=ct;q()(dt,"components",{QTabs:rt.Z,QTab:ut.Z,QTabPanels:pt.Z,QTabPanel:mt.Z});const vt={components:{EventVariableBitArray:ql,EventVariableBitSingle:Ul,EventVariableNumber:zl,EventVariableSelect:Ml,EventVariableSlider:Gl,EventVariableTabs:bt},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=Be(e.visibilityLogic,l,l.state.selected_event_index)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Event Group onMounted"),console.log("Event Group props: "+JSON.stringify(e))})),{store:l,isVisible:t}}},yt=(0,g.Z)(vt,[["render",El],["__scopeId","data-v-ffea7b78"]]),ft=yt,wt={__name:"EventVariableRaw",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Event Variable "+l.eventVariableIndex,n=(0,a.f3)("store"),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,W.iH)();let d=n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].eventIdentifier;const r=(0,a.Fl)((()=>n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]));(0,a.YP)(r,(()=>{i.value=r.value}));const u=e=>{e<0||e>255||""==e?(o.value=!0,s.value="Invalid Value"):(s.value="",o.value=!1,n.methods.update_event_variable(l.nodeNumber,d,l.eventIndex,l.eventVariableIndex,e))};return(0,a.bv)((()=>{i.value=n.state.nodes[l.nodeNumber].storedEvents[l.eventIndex].variables[l.eventVariableIndex]})),(e,l)=>{const n=(0,a.up)("q-input"),d=(0,a.up)("q-card-section"),r=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(r,{class:"q-pa-none",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n,{mask:"###",label:(0,W.SU)(t),debounce:"1000",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),outlined:"","error-message":s.value,error:o.value,onChange:u},null,8,["label","modelValue","error-message","error"])])),_:1})])),_:1})}}},gt=wt,_t=gt;q()(wt,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z});const Vt=(0,a._)("div",{class:"text-h6"}," Module Descriptor ",-1),Nt={class:"row items-start q-gutter-md"},xt={key:0,class:"text-subtitle2"},St=(0,a._)("p",{class:"text-negative"},"Module Descriptor not found",-1),qt=[St],ht=(0,a._)("div",{class:"text-h4"},"Module Descriptor Data",-1),kt={class:"text-h6"},Wt=(0,a._)("div",{class:"text-h6"},"File upload ",-1),It=(0,a._)("div",{class:"text-subtitle2"},"Select a file to upload for this type of module",-1),Ut={class:"text-subtitle2"},Tt=(0,a._)("div",{class:"text-subtitle2"},"If this module descriptor already exists on the server, it will be overwritten ",-1),Dt="ManageModuleDescriptorsDialog",Ct={__name:"ManageModuleDescriptorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(!1),s=(0,W.iH)(!1),i=(0,W.iH)(!1),d=(0,W.iH)(!1),r=(0,W.iH)(),u=e,p=l,m=(0,a.Fl)({get(){return u.modelValue},set(e){p("update:modelValue",e)}});(0,a.YP)(m,(()=>{console.log(Dt+": WATCH model")}));const c=(0,a.Fl)((()=>t.state.nodes[t.state.selected_node].moduleDescriptorFilename)),b=(0,a.Fl)((()=>{var e="";return t.state.nodes[t.state.selected_node].moduleDescriptorFilename&&(e=t.state.nodes[t.state.selected_node].moduleDescriptorFilename.split(".",1)[0],v()),e}));(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const v=()=>{console.log("checkFileLoad"),t.state.nodeDescriptors[t.state.selected_node]?(d.value=!0,console.log("WATCH moduleDescriptorFilename "+d.value)):console.log("checkFileLoad failed for node "+t.state.selected_node)},y=()=>{let e=JSON.stringify(t.state.nodeDescriptors[t.state.selected_node],null,"  "),l=document.createElement("a");l.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),l.setAttribute("download",t.state.nodes[t.state.selected_node].moduleDescriptorFilename),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},f=()=>{var e={};if(r.value){let l=new FileReader;l.readAsText(r.value),l.onload=function(){try{e=JSON.parse(l.result),e["moduleDescriptorName"]=b.value,console.log("actionUpload: "+e.moduleDescriptorName),t.methods.import_module_descriptor(e)}catch(a){console.log("actionUpload: failed JSON parse")}},r.value=null}else console.log("actionUpload: uploadFile no value ")},w=()=>{console.log(Dt+": clickDownload"),o.value=!0},g=()=>{console.log(Dt+": clickUpload"),s.value=!0},_=()=>{console.log(Dt+": clickView"),i.value=!0};return(e,l)=>{const u=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),v=(0,a.up)("q-card-section"),V=(0,a.up)("q-card-actions"),N=(0,a.up)("q-card"),x=(0,a.up)("q-dialog"),S=(0,a.up)("q-file"),q=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(x,{modelValue:m.value,"onUpdate:modelValue":l[9]||(l[9]=e=>m.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{style:{"min-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[q]])])),default:(0,a.w5)((()=>[Vt])),_:1}),(0,a._)("div",Nt,[(0,a.Wm)(N,{class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(b.value)+" ",1),d.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",xt,qt))])),_:1}),(0,a.Wm)(V,{align:"evenly",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{color:"positive",disabled:!d.value,label:"View",onClick:l[0]||(l[0]=e=>_()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(u,{color:"positive",disabled:!d.value,label:"Download",onClick:l[1]||(l[1]=e=>w()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(u,{color:"positive",label:"Upload",onClick:l[2]||(l[2]=e=>g()),"no-caps":""})])),_:1})])),_:1})]),(0,a.Wm)(x,{modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[ht,(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[q]])])),_:1}),(0,a._)("p",null,(0,n.zw)(JSON.stringify((0,W.SU)(t).state.nodeDescriptors[(0,W.SU)(t).state.selected_node],null,"  ")),1)])),_:1}),(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(x,{modelValue:o.value,"onUpdate:modelValue":l[5]||(l[5]=e=>o.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a._)("div",kt,"Download "+(0,n.zw)(c.value),1)])),_:1}),(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Download",onClick:l[4]||(l[4]=e=>y(c.value))},null,512),[[q]]),(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(x,{modelValue:s.value,"onUpdate:modelValue":l[8]||(l[8]=e=>s.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(N,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[Wt,It,(0,a._)("div",Ut,"The filename can be anything, as it will be stored as "+(0,n.zw)(c.value),1)])),_:1}),(0,a.Wm)(S,{modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e),label:"Pick one file",filled:"",style:{"max-width":"300px"}},null,8,["modelValue"]),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[Tt])),_:1}),(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Upload",onClick:l[7]||(l[7]=e=>f())},null,512),[[q]]),(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[q]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(N,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(V,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{flat:"",label:"Cancel"},null,512),[[q]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var Et=t(4974);const Zt=Ct,Bt=Zt;q()(Ct,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z,QFile:Et.Z}),q()(Ct,"directives",{ClosePopup:$e.Z});const Qt={class:"text-h6"},Ht={key:0,class:"text-h6"},zt={class:"q-pa-none row"},jt={key:0,class:"q-pa-none row"},Ot={class:"q-pa-xs row"},Ft={key:0},Pt=(0,a._)("br",null,null,-1),Mt={class:"q-pa-xs row"},Lt=(0,a._)("div",{class:"text-body1"},[(0,a.Uk)("Variables descriptor"),(0,a._)("br")],-1),At={class:"text-body2"},Yt="EventVariablesdialog",$t={__name:"EventVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,fl.Z)(),o=(0,a.f3)("store"),s=(0,W.iH)(),i=(0,W.iH)(!1),d=(0,W.iH)(!1),r=(0,W.iH)(!1),u=(0,W.iH)(!1);var p=!1;const m=e,c=l,b=(0,a.Fl)({get(){return m.modelValue},set(e){c("update:modelValue",e)}});(0,a.YP)(b,(()=>{console.log(Yt+": WATCH model"),i.value=!1,u.value=!1})),(0,a.YP)(m.nodeNumber,(()=>{console.log(Yt+": - watch nodeNumber")}));const v=e=>{var l=!0;return e.visibilityLogic&&(l=Be(e.visibilityLogic,o)),console.log(Yt+": isVisible: "+l+" "+e.type),l};(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(Yt+": onUpdated"),m.nodeNumber&&m.eventIndex&&(console.log(Yt+": onUpdated - nodeNumber "+m.nodeNumber),void 0!=o.state.nodeDescriptors[m.nodeNumber]?(s.value=o.state.nodeDescriptors[m.nodeNumber].eventVariables,d.value=!1):(s.value={},i.value=!0,d.value=!0),y())}));const y=()=>{console.log(Yt+": checkFileLoad"),1!=p&&("Unknown"==o.state.nodes[m.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),p=!0):void 0!=o.state.nodes[m.nodeNumber].moduleDescriptorFilename&&void 0==o.state.nodeDescriptors[m.nodeNumber]&&(t.notify({message:"Failed to load module file "+o.state.nodes[m.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),p=!0),p&&console.log(Yt+": checkLoadFile notification raised"))},f=()=>{console.log(Yt+": clickClose"),i.value=!1,s.value={}},w=()=>{console.log(Yt+": clickToggleVariablesDescriptor"),u.value?u.value=!1:u.value=!0},g=()=>{console.log(Yt+": clickToggleRaw"),i.value?i.value=!1:i.value=!0},_=()=>{console.log(Yt+": clickUpdateModuleDescriptor"),r.value=!0};return(e,l)=>{const t=(0,a.up)("q-btn"),p=(0,a.up)("q-banner"),c=(0,a.up)("q-card-section"),y=(0,a.up)("q-card-actions"),V=(0,a.up)("q-card"),N=(0,a.up)("q-dialog"),x=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(N,{modelValue:b.value,"onUpdate:modelValue":l[5]||(l[5]=e=>b.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>_())}),(0,a.wy)((0,a.Wm)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[x]])])),default:(0,a.w5)((()=>[(0,a._)("div",Qt," Event Variables for event : "+(0,n.zw)((0,W.SU)(o).getters.event_name(m.eventIdentifier)),1)])),_:1}),(0,a.Wm)(c,null,{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[1]||(l[1]=e=>_())})])),default:(0,a.w5)((()=>[d.value?((0,a.wg)(),(0,a.iD)("div",Ht," *** Descriptor not loaded for this node *** ")):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",zt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(ql),{key:0,nodeNumber:m.nodeNumber,eventIndex:m.eventIndex,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Ul),{key:1,nodeNumber:m.nodeNumber,eventIndex:m.eventIndex,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableGroup"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(ft),{key:2,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(zl),{key:3,"node-number":m.nodeNumber,eventIndex:m.eventIndex,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,min:e.min,max:e.max,configuration:e},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","startBit","endBit","displayOffset","min","max","configuration"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Ml),{key:4,nodeNumber:m.nodeNumber,eventIndex:m.eventIndex,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Gl),{key:5,"node-number":m.nodeNumber,eventIndex:m.eventIndex,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableTabs"==e.type&&v(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(bt),{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))]),(0,a.Wm)(y,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{flat:"",label:"Toggle variable descriptor view",onClick:l[2]||(l[2]=e=>w())}),(0,a.Wm)(t,{flat:"",label:"Toggle raw view",onClick:l[3]||(l[3]=e=>g())}),(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Close",onClick:l[4]||(l[4]=e=>f())},null,512),[[x]])])),_:1}),i.value?((0,a.wg)(),(0,a.iD)("div",jt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,W.SU)(o).state.nodes[m.nodeNumber].parameters[5],(e=>((0,a.wg)(),(0,a.j4)((0,W.SU)(_t),{eventVariableIndex:e,nodeNumber:m.nodeNumber,eventIndex:m.eventIndex,key:e},null,8,["eventVariableIndex","nodeNumber","eventIndex"])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Ot,[(0,W.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("p",Ft,[(0,a.Uk)(" Debug: event variables"),Pt,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(o).state.nodes[m.nodeNumber].storedEvents[m.eventIndex])+"\n          ",1)])):(0,a.kq)("",!0)]),u.value?((0,a.wg)(),(0,a.j4)(c,{key:1,class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",Mt,[Lt,(0,a._)("div",At,[(0,a._)("pre",null,(0,n.zw)(s.value),1)])])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)((0,W.SU)(Bt),{modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e)},null,8,["modelValue"])],64)}}},Jt=$t,Rt=Jt;q()($t,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()($t,"directives",{ClosePopup:$e.Z});const Gt={class:"text-h6"},Kt={class:"full-width"},Xt="EventsListByNode",ea={__name:"EventsListByNode",props:{nodeNumber:{type:Number,required:!0}},setup(e){const l=(0,a.f3)("store"),t=(0,W.iH)([]),o=(0,W.iH)(!1),s=(0,W.iH)(!1),i=(0,W.iH)(!1),d=(0,W.iH)(!1),r=(0,W.iH)(!1),u=(0,W.iH)(),p=(0,W.iH)(""),m=(0,W.iH)(0),c=(0,W.iH)(0),b=(0,W.iH)(0);(0,W.iH)();const v=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"Identifier",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Event node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event number",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event index",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!0}],y=(0,a.Fl)((()=>l.state.selected_node));(0,a.YP)(y,(()=>{console.log(Xt+": WATCH selected_node"),_()}));const f=(0,a.Fl)((()=>Object.values(l.state.nodes[l.state.selected_node].storedEvents)));(0,a.YP)(f,(()=>{console.log(Xt+": WATCH nodeEvents"),_()}));const w=(0,a.Fl)((()=>Object.values(l.state.events)));(0,a.YP)(w,(()=>{console.log(Xt+": WATCH busEvents"),_()}));const g=(0,a.Fl)((()=>l.state.layout.eventDetails));(0,a.YP)(g,(()=>{console.log(Xt+": WATCH eventDetails"),_()}));const _=()=>{console.log(Xt+": update_rows "+l.state.selected_node),t.value=[];var e=Object.values(l.state.nodes[l.state.selected_node].storedEvents);e.forEach((e=>{var a=parseInt(e.eventIdentifier.substr(0,4),16);let n={};n["eventIdentifier"]=e.eventIdentifier,n["eventName"]=l.getters.event_name(e.eventIdentifier),n["eventIndex"]=e.eventIndex,n["nodeNumber"]=a,n["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),n["eventType"]=V(e.eventIndex),n["storedEvent"]=!0,t.value.push(n)}));var a=Object.values(l.state.events);a.forEach((a=>{if(a.nodeNumber==l.state.selected_node){var n=!1;if(e.forEach((e=>{a.id==e.eventIdentifier&&(n=!0)})),0==n){let e={};e["eventIdentifier"]=a.id,e["eventName"]=l.getters.event_name(a.id),e["nodeNumber"]=a.nodeNumber,e["eventNumber"]=a.eventNumber,e["storedEvent"]=!1,t.value.push(e)}}})),t.value.sort((function(e,l){return e.eventIdentifier<l.eventIdentifier?-1:1}))},V=e=>{if(l.state.nodeDescriptors[l.state.selected_node]){var t=l.state.nodeDescriptors[l.state.selected_node].producedEventLogic;if(void 0==t)return"";var a=Be(t,l,e);return a?"produced":"consumed"}},N=e=>{console.log(Xt+": readEventVariables - eventIndex "+e),l.methods.request_all_event_variables(l.state.selected_node,e,100,l.state.nodes[l.state.selected_node].parameters[5])};(0,a.wF)((()=>{console.log(Xt+": onBeforeMount"),_()})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{}));const x=e=>{console.log(Xt+": clickEventName "+e),p.value=e,u.value=l.getters.event_name(e),o.value=!0},S=e=>{console.log(Xt+": clickDelete"),i.value=!0,p.value=e},q=()=>{console.log(Xt+": clickRefresh"),_()},h=(e,l,t)=>{m.value=e,c.value=l,b.value=t,console.log(Xt+": clickTest: eventIdentifier "+m.value+" "+c.value),s.value=!0},k=(e,t)=>{N(e),b.value=e,p.value=t,console.log(Xt+": clickVariables: node, index "+l.state.selected_node+" "+b.value),r.value=!0},I=e=>{console.log(Xt+": clickTeach"),p.value=e,d.value=!0};return(e,u)=>{const y=(0,a.up)("q-btn"),f=(0,a.up)("q-banner"),w=(0,a.up)("q-td"),g=(0,a.up)("q-tr"),_=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(f,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(y,{flat:"",color:"white",size:"sm",label:"Refresh",onClick:u[0]||(u[0]=e=>q())})])),default:(0,a.w5)((()=>[(0,a._)("div",Gt," Events for node : "+(0,n.zw)((0,W.SU)(l).getters.node_name((0,W.SU)(l).state.selected_node)),1)])),_:1}),(0,a._)("div",Kt,[(0,a.Wm)(_,{style:{height:"350px"},bordered:"",dense:"",rows:t.value,columns:v,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(g,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{key:"eventIdentifier",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"nodeNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"eventIndex",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"actions",props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{flat:"",size:"md",color:"primary",label:"Name",onClick:l=>x(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{disabled:!e.row.storedEvent,color:"primary",size:"md",flat:"",label:"Variables",onClick:l=>k(e.row.eventIndex,e.row.eventIdentifier),"no-caps":""},null,8,["disabled","onClick"]),(0,a.Wm)(y,{flat:"",size:"md",color:"primary",label:"Teach",onClick:l=>I(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{flat:"",size:"md",color:"primary",label:"Test",onClick:l=>h(e.row.nodeNumber,e.row.eventNumber,e.row.eventindex),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{flat:"",size:"md",color:"negative",label:"Delete",onClick:l=>S(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,a.Wm)((0,W.SU)(sl),{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=e=>o.value=e),eventIdentifier:p.value},null,8,["modelValue","eventIdentifier"]),(0,a.Wm)((0,W.SU)(yl),{modelValue:d.value,"onUpdate:modelValue":u[2]||(u[2]=e=>d.value=e),eventIdentifier:p.value},null,8,["modelValue","eventIdentifier"]),(0,a.Wm)((0,W.SU)(Re),{modelValue:s.value,"onUpdate:modelValue":u[3]||(u[3]=e=>s.value=e),nodeNumber:m.value,eventNumber:c.value,eventIdentifier:p.value},null,8,["modelValue","nodeNumber","eventNumber","eventIdentifier"]),(0,a.Wm)((0,W.SU)(ll),{modelValue:i.value,"onUpdate:modelValue":u[4]||(u[4]=e=>i.value=e),nodeNumber:(0,W.SU)(l).state.selected_node,eventIdentifier:p.value},null,8,["modelValue","nodeNumber","eventIdentifier"]),(0,a.Wm)((0,W.SU)(Rt),{modelValue:r.value,"onUpdate:modelValue":u[5]||(u[5]=e=>r.value=e),nodeNumber:(0,W.SU)(l).state.selected_node,eventIndex:b.value,eventIdentifier:p.value},null,8,["modelValue","nodeNumber","eventIndex","eventIdentifier"])])}}},la=ea,ta=la;q()(ea,"components",{QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QTr:ae.Z,QTd:R.Z});const aa={class:"text-h6"},na={key:0,class:"text-h6"},oa={key:0},sa={class:"q-gutter-sm"},ia={key:0},da=(0,a._)("div",{class:"text-h4"},"Node Number",-1),ra=(0,a._)("div",{class:"text-h6"},"Consumed events will need the number of the node that produces the event",-1),ua=(0,a._)("div",{class:"text-h6"},"Events produced by this node will need the number of this node, as well as editing the event variables",-1),pa=(0,a._)("div",{class:"text-h4"},"Event Number",-1),ma={key:1},ca=(0,a._)("div",{class:"text-h4"},"Device Number",-1),ba={key:2},va=(0,a._)("div",{class:"text-h6"},"Once event is added, select edit for the event from the event list to modify event variables",-1),ya="AddEventDialog",fa={__name:"AddEventDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(),s=(0,W.iH)(),i=(0,W.iH)(!0);var d=(0,W.iH)();const r=e,u=l,p=(0,a.Fl)({get(){return r.modelValue},set(e){u("update:modelValue",e)}});(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(ya+" OnUpdated"),0==t.state.nodes[t.state.selected_node].parameters[4]&&i.value,o.value=null,s.value=null,d.value=null,0==t.state.nodes[t.state.selected_node].parameters[4]&&(i.value=!1,console.log(ya+" OnUpdated - addEvent disabled "))}));const m=()=>{var e=c();"short"==d.value&&(o.value=0);var l=parseInt(o.value).toString(16).toUpperCase().padStart(4,0)+parseInt(s.value).toString(16).toUpperCase().padStart(4,0);console.log("createEvent - index "+e+" eventID "+l),t.methods.teach_event(t.state.selected_node,l,e)},c=()=>{for(var e=t.state.nodes[t.state.selected_node].parameters[4],l=null,a=1;a<e;a++)if(console.log("i "+a),!t.state.nodes[t.state.selected_node].storedEvents[a]){l=a+1;break}return l};return(e,l)=>{const r=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),c=(0,a.up)("q-card-section"),b=(0,a.up)("q-radio"),v=(0,a.up)("q-input"),y=(0,a.up)("q-card-actions"),f=(0,a.up)("q-card"),w=(0,a.up)("q-dialog"),g=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(w,{modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=e=>p.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(r,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[g]])])),default:(0,a.w5)((()=>[(0,a._)("div",aa," Add event for node "+(0,n.zw)((0,W.SU)(t).getters.node_name((0,W.SU)(t).state.selected_node)),1)])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[0==i.value?((0,a.wg)(),(0,a.iD)("div",na," This module does not support any stored events ")):(0,a.kq)("",!0)])),_:1}),i.value?((0,a.wg)(),(0,a.iD)("div",oa,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",sa,[(0,a.Wm)(b,{modelValue:(0,W.SU)(d),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,W.dq)(d)?d.value=e:d=e),val:"long",label:"Long event"},null,8,["modelValue"]),(0,a.Wm)(b,{modelValue:(0,W.SU)(d),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,W.dq)(d)?d.value=e:d=e),val:"short",label:"Short event"},null,8,["modelValue"])])])),_:1}),"long"==(0,W.SU)(d)?((0,a.wg)(),(0,a.iD)("div",ia,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[da])),_:1}),(0,a.Wm)(c,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{dense:"",modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[ra,ua])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[pa])),_:1}),(0,a.Wm)(c,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[3]||(l[3]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),"short"==(0,W.SU)(d)?((0,a.wg)(),(0,a.iD)("div",ma,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[ca])),_:1}),(0,a.Wm)(c,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[4]||(l[4]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),null!=(0,W.SU)(d)?((0,a.wg)(),(0,a.iD)("div",ba,[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[va])),_:1})])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),(0,a.Wm)(y,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[i.value?(0,a.wy)(((0,a.wg)(),(0,a.j4)(r,{key:0,flat:"",label:"Add Event",onClick:l[5]||(l[5]=e=>m())},null,512)),[[g]]):(0,a.kq)("",!0),(0,a.wy)((0,a.Wm)(r,{flat:"",label:"Cancel"},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}};var wa=t(7991);const ga=fa,_a=ga;q()(fa,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QRadio:wa.Z,QInput:Y.Z,QCardActions:Ye.Z}),q()(fa,"directives",{ClosePopup:$e.Z});const Va={class:"text-h6"},Na=(0,a._)("div",{class:"text-h6"},"Are you sure you want to delete this node?",-1),xa={__name:"DeleteNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),d=()=>{console.log("deleting node "+o.nodeNumber)};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const o=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),r=(0,a.up)("q-card-section"),u=(0,a.up)("q-card-actions"),p=(0,a.up)("q-card"),m=(0,a.up)("q-dialog"),c=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(m,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[c]])])),default:(0,a.w5)((()=>[(0,a._)("div",Va," Delete for node "+(0,n.zw)((0,W.SU)(t).getters.node_name((0,W.SU)(t).state.selected_node)),1)])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[Na])),_:1}),(0,a.Wm)(u,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Yes",onClick:l[0]||(l[0]=e=>d())},null,512),[[c]]),(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Cancel"},null,512),[[c]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Sa=xa,qa=Sa;q()(xa,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()(xa,"directives",{ClosePopup:$e.Z});const ha={class:"text-h6"},ka={__name:"NameNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(),s=e,i=l,d=(0,a.Fl)({get(){return s.modelValue},set(e){i("update:modelValue",e)}}),r=()=>{console.log("new node name: "+o.value),t.setters.node_name(s.nodeNumber,o.value)};return(0,a.ic)((()=>{console.log("NameNodeDialog onUpdated"),t.state.layout.nodeDetails[s.nodeNumber]&&(o.value=t.state.layout.nodeDetails[s.nodeNumber].name)})),(l,t)=>{const s=(0,a.up)("q-btn"),i=(0,a.up)("q-banner"),u=(0,a.up)("q-input"),p=(0,a.up)("q-card-section"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),v=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(b,{modelValue:d.value,"onUpdate:modelValue":t[2]||(t[2]=e=>d.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.w5)((()=>[(0,a._)("div",ha," Edit name for node : "+(0,n.zw)(e.nodeNumber),1)])),_:1}),(0,a.Wm)(p,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{dense:"",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Accept",onClick:t[1]||(t[1]=e=>r())},null,512),[[v]]),(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Cancel"},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Wa=ka,Ia=Wa;function Ua(e,l,t,o,s,i){const d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a._)("b",null,(0,n.zw)(t.Name),1),(0,a.Uk)(" : "+(0,n.zw)(t.Value),1)])),_:1})}q()(ka,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QInput:Y.Z,QCardActions:Ye.Z}),q()(ka,"directives",{ClosePopup:$e.Z});const Ta={name:"NodeParameter",props:["Name","Value"],setup(e){return{props:e}}},Da=(0,g.Z)(Ta,[["render",Ua]]),Ca=Da;q()(Ta,"components",{QCard:L.Z,QInput:Y.Z});const Ea={class:"text-h6"},Za={__name:"NodeParametersDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}}),d=(0,a.Fl)((()=>t.state.nodes[o.nodeNumber].moduleDescriptorFilename));return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),r=(0,a.up)("q-banner"),u=(0,a.up)("q-card-section"),p=(0,a.up)("q-card-actions"),m=(0,a.up)("q-card"),c=(0,a.up)("q-dialog"),b=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(c,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{style:{"min-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[b]])])),default:(0,a.w5)((()=>[(0,a._)("div",Ea," Parameter Information for "+(0,n.zw)((0,W.SU)(t).getters.node_name(o.nodeNumber)),1)])),_:1}),(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Number",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].nodeNumber},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Events Currently Stored",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].eventCount},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Manufacturer",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].moduleManufacturerName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].moduleName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module Identifier",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].moduleIdentifier},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Producer",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].producer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consumer",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].consumer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consume own Events",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].coe},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Variables",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].parameters[6]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Events Supported",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].parameters[4]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Event Variables",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].parameters[5]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"CPU Name",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].cpuName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Interface",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].interfaceName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Firmware Version",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].parameters[7]+String.fromCharCode((0,W.SU)(t).state.nodes[o.nodeNumber].parameters[2])},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Beta Version",Value:(0,W.SU)(t).state.nodes[o.nodeNumber].parameters[20]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module Descriptor Filename",Value:d.value},null,8,["Value"])])),_:1}),(0,a.Wm)(p,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Close"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Ba=Za,Qa=Ba;q()(Za,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()(Za,"directives",{ClosePopup:$e.Z});const Ha={__name:"NodeVariableBit",props:{NodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e;console.log("Node Variable Bit : "+l.NodeNumber);l.Name?l.Name:l.VariableIndex;const t=(0,a.f3)("store"),n=(0,W.iH)(!1),o={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},s=(0,a.Fl)({get(){return t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]},set(e){l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)}});(0,a.YP)(s,((e,a)=>{n.value=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&o[l.Bit])}));const i=()=>{console.log("NodeVariableBit update_checked");let e=s.value;n.value?(e|=o[l.Bit],console.log(`bit ${o[l.Bit]} set, new byte value ${e}`)):(e&=~o[l.Bit],console.log(`bit ${o[l.Bit]} cleared, new byte value ${e}`)),l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)};return(0,a.bv)((()=>{const e=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&o[l.Bit]);console.log("NodeVariableBit onMounted: Checked"+e),n.value=e})),(l,t)=>{const o=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.j4)(o,{"min-width":"100",modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),label:e.Name,onClick:i,"right-label":""},null,8,["modelValue","label"])}}},za=Ha,ja=za;q()(Ha,"components",{QCheckbox:De.Z});const Oa={class:"text-h6"},Fa={class:"text-subtitle2"},Pa={__name:"NodeVariableBitArray",props:{nodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""}},setup(e){const l=(0,a.f3)("store");(0,W.iH)();var t=(0,W.iH)();const o=e,s=(0,a.Fl)((()=>l.state.nodes[o.nodeNumber].nodeVariables));function i(){for(var e in t.value=[],o.bitCollection)if(o.bitCollection[e].overload){var a=Ze(o.bitCollection[e].overload,l);if(a){var n={bitPosition:o.bitCollection[e].bitPosition,label:a};t.value.push(n)}}else o.bitCollection[e].label&&t.value.push(o.bitCollection[e])}return(0,a.YP)(s,(()=>{i()})),(0,a.bv)((()=>{console.log("NodeVariableBitArray onMounted:"),console.log(`NodeVariableBitArray: props: ${JSON.stringify(o)}`),i()})),(o,s)=>{const i=(0,a.up)("q-card-section"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a._)("div",Oa,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Fa,(0,n.zw)(e.displaySubTitle),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,W.SU)(t),(t=>((0,a.wg)(),(0,a.iD)("div",{key:t},[(0,a.Wm)((0,W.SU)(ja),{NodeNumber:(0,W.SU)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:t.bitPosition,Name:t.label},null,8,["NodeNumber","VariableIndex","Bit","Name"])])))),128))])),_:1})])),_:1})}}},Ma=Pa,La=Ma;q()(Pa,"components",{QCard:L.Z,QCardSection:A.Z});const Aa={class:"text-h6"},Ya={class:"text-subtitle2"},$a={__name:"NodeVariableBitSingle",props:{VariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=(0,a.f3)("store");return(0,a.bv)((()=>{console.log("NodeVariableBitSingle onMounted")})),(t,o)=>{const s=(0,a.up)("q-card-section"),i=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(i,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",Aa,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Ya,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)((0,W.SU)(ja),{NodeNumber:(0,W.SU)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:e.Bit,learn:e.learn,Name:e.Name},null,8,["NodeNumber","VariableIndex","Bit","learn","Name"])])),_:1})])),_:1})}}},Ja=$a,Ra=Ja;q()($a,"components",{QCard:L.Z,QCardSection:A.Z});const Ga={class:"text-h6"},Ka={class:"text-subtitle2"},Xa={__name:"NodeVariableDual",props:{NodeNumber:{type:Number,required:!0},NodeVariableIndexHigh:{type:Number,required:!0},NodeVariableIndexLow:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:65025},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name&&l.name,(0,a.f3)("store")),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,W.iH)(),d=(0,a.Fl)((()=>(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow]));(0,a.YP)(d,(()=>{i.value=d.value}));const r=e=>{e<l.min||e>l.max?(console.log(`Invalid Value : ${e}`),o.value=!0,s.value="Invalid Value"):(console.log(`Value Ok : ${e}`),o.value=!1,s.value="",t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexHigh,e>>8),t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexLow,255&e))};return(0,a.bv)((()=>{i.value=(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow],console.log(`NodeVariableDual ${i.value}`)})),(l,t)=>{const d=(0,a.up)("q-input"),u=(0,a.up)("q-card-section"),p=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a._)("div",Ga,(0,n.zw)(e.displayTitle),1),(0,a._)("div",Ka,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(d,{mask:"#####",debounce:"1000",hint:e.hint,modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),outlined:"","error-message":s.value,error:o.value,onChange:r},null,8,["hint","modelValue","error-message","error"])])),_:1})])),_:1})}}},en=Xa,ln=en;q()(Xa,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z});const tn={style:{border:"2px solid grey"}},an={class:"GroupTitle"},nn={class:"q-pa-xs row"};function on(e,l,t,o,s,i){const d=(0,a.up)("NodeVariableNumber"),r=(0,a.up)("NodeVariableBitArray"),u=(0,a.up)("NodeVariableBitSingle"),p=(0,a.up)("node-variable-slider"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect"),b=(0,a.up)("NodeVariableTabs");return(0,a.wg)(),(0,a.iD)("div",tn,[(0,a._)("div",an,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",nn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,"node-number":o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,NodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,"node-number":o.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:o.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableTabs"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])}const sn={class:"text-h6"},dn={class:"text-subtitle2"},rn={__name:"NodeVariableNumber",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.f3)("store")),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,W.iH)(),d=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(d,(()=>{i.value=d.value}));const r=e=>{e<l.min||e>l.max?(o.value=!0,s.value="Invalid Value"):(o.value=!1,s.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.bv)((()=>{i.value=d.value})),(l,t)=>{const d=(0,a.up)("q-input"),u=(0,a.up)("q-card-section"),p=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(p,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a._)("div",sn,(0,n.zw)(e.displayTitle),1),(0,a._)("div",dn,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(d,{mask:"###",debounce:"1000",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),outlined:"","error-message":s.value,error:o.value,onChange:r},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},un=rn,pn=un;q()(rn,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z});const mn={class:"text-h6"},cn={class:"text-subtitle2"},bn={__name:"NodeVariableSlider",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const l=e;console.log("Node Variable : "+l.nodeNumber);l.name?l.name:l.nodeVariableIndex;const t=(0,a.f3)("store"),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,a.Fl)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`NodeVariableSlider: bitMask : ${i.value}`);const d=(0,a.Fl)({get(){return(t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]&i.value)>>l.startBit},set(e){let a=t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex];if(console.log(`OldByteValue : ${a}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let n=e;n<<=l.startBit,a|=n&i.value,a&=n|~i.value,o.value=!1,s.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,a),console.log(`NewByteValue : ${a}`)}else console.log(`Invalid Value : ${e}`),s.value="Invalid Value",o.value=!0}}),r=e=>{o.value?console.log(`Invalid Value : ${e}`):console.log(`update_variable : ${e}`)};return(0,a.bv)((()=>{console.log("NodeVariableSlider")})),(l,t)=>{const o=(0,a.up)("q-badge"),s=(0,a.up)("q-slider"),i=(0,a.up)("q-card-section"),u=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(u,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{default:(0,a.w5)((()=>[(0,a._)("div",mn,(0,n.zw)(e.displayTitle),1),(0,a._)("div",cn,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(o,{color:"secondary"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(d.value*e.displayScale+e.displayOffset)+" "+(0,n.zw)(e.displayUnits),1)])),_:1}),(0,a.Wm)(s,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),max:e.max,min:e.min,onChange:r},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}},vn=bn,yn=vn;q()(bn,"components",{QCard:L.Z,QCardSection:A.Z,QBadge:$l.Z,QSlider:Jl.Z});const fn={class:"text-h6"},wn={class:"text-subtitle2"},gn={__name:"NodeVariableSelect",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.f3)("store")),o=(0,W.iH)(),s=(0,a.Fl)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(s,(()=>{o.value=s.value&l.bitMask,console.log("NodeVariableSelect watch variableValue "+o.value+" bitMask "+l.bitMask)}));const i=e=>{console.log(`NodeVariableSelect update_variable ${e.value}`);let a=s.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`NodeVariableSelect: byteValue ${a}`),t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,a)};return(0,a.bv)((()=>{console.log("NodeVariableSelect: onMounted"),o.value=s.value&l.bitMask,console.log(`NodeVariableSelect: props: ${JSON.stringify(l)}`)})),(l,t)=>{const s=(0,a.up)("q-select"),d=(0,a.up)("q-card-section"),r=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(r,{class:"q-pa-md"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",fn,(0,n.zw)(e.displayTitle),1),(0,a._)("div",wn,(0,n.zw)(e.displaySubTitle),1),(0,a.Wm)(s,{modelValue:o.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>o.value=e),i],options:e.options,"map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},_n=gn,Vn=_n;q()(gn,"components",{QCard:L.Z,QCardSection:A.Z,QSelect:_e.Z});const Nn={class:"q-pa-md"},xn={class:"q-pa-xs row",style:{border:"1px solid grey"}};function Sn(e,l,t,n,o,s){const i=(0,a.up)("q-tab"),d=(0,a.up)("q-tabs"),r=(0,a.up)("NodeVariableNumber"),u=(0,a.up)("NodeVariableBitArray"),p=(0,a.up)("NodeVariableBitSingle"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect"),b=(0,a.up)("node-variable-slider"),v=(0,a.up)("NodeVariableTabGroup"),y=(0,a.up)("q-tab-panel"),f=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)("div",Nn,[(0,a.Wm)(d,{modelValue:n.selectedTab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(i,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.Wm)(f,{"keep-alive":"",modelValue:n.selectedTab,"onUpdate:modelValue":l[1]||(l[1]=e=>n.selectedTab=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.tabPanels,(e=>((0,a.wg)(),(0,a.j4)(y,{key:e.displayTitle,name:e.displayTitle},{default:(0,a.w5)((()=>[(0,a._)("div",xn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.items,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:0,"node-number":n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:1,nodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:2,NodeNumber:n.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:3,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:n.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:4,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:n.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:5,"node-number":n.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableGroup"==e.type&&n.isVisible(e)?((0,a.wg)(),(0,a.j4)(v,{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}const qn={style:{border:"2px solid grey"}},hn={class:"GroupTitle"},kn={class:"q-pa-xs row"};function Wn(e,l,t,o,s,i){const d=(0,a.up)("NodeVariableNumber"),r=(0,a.up)("NodeVariableBitArray"),u=(0,a.up)("NodeVariableBitSingle"),p=(0,a.up)("node-variable-slider"),m=(0,a.up)("NodeVariableDual"),c=(0,a.up)("NodeVariableSelect");return(0,a.wg)(),(0,a.iD)("div",qn,[(0,a._)("div",hn,(0,n.zw)(t.configuration.displayTitle),1),(0,a._)("div",kn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.configuration.groupItems,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,"node-number":o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,nodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,Title:e.displayTitle,Description:e.description,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","Title","Description"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,NodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,"node-number":o.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:o.store.state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0)])))),128))])])}const In={components:{NodeVariableNumber:pn,NodeVariableBitArray:La,NodeVariableBitSingle:Ra,NodeVariableSlider:yn,NodeVariableDual:ln,NodeVariableSelect:Vn},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=Be(e.visibilityLogic,l)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Group onMounted"),console.log(": "+JSON.stringify(e))})),{store:l,isVisible:t}}},Un=(0,g.Z)(In,[["render",Wn],["__scopeId","data-v-77662be7"]]),Tn=Un,Dn={props:{configuration:Object},components:{NodeVariableBitArray:La,NodeVariableBitSingle:Ra,NodeVariableDual:ln,NodeVariableNumber:pn,NodeVariableSelect:Vn,NodeVariableSlider:yn,NodeVariableTabGroup:Tn},setup(e){const l=(0,W.iH)(),t=(0,W.iH)(),n=(0,a.f3)("store");function o(e){var l=!0;return e.visibilityLogic&&(l=Be(e.visibilityLogic,n)),console.log("isVisible: "+l+" "+e.type),l}return(0,a.bv)((()=>{console.log("tabs props: "+JSON.stringify(e)),l.value=e.configuration.tabPanels,console.log("tabs tabPanels: "+JSON.stringify(l.value)),t.value=l.value[0].displayTitle})),{store:n,selectedTab:t,tabPanels:l,isVisible:o}}},Cn=(0,g.Z)(Dn,[["render",Sn]]),En=Cn;q()(Dn,"components",{QTabs:rt.Z,QTab:ut.Z,QTabPanels:pt.Z,QTabPanel:mt.Z});const Zn={components:{NodeVariableNumber:pn,NodeVariableBitArray:La,NodeVariableBitSingle:Ra,NodeVariableSlider:yn,NodeVariableDual:ln,NodeVariableSelect:Vn,NodeVariableTabs:En},props:{configuration:Object},setup(e){const l=(0,a.f3)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=Be(e.visibilityLogic,l)),console.log("isVisible: "+t+" "+e.type),t}return(0,a.bv)((()=>{console.log("Group onMounted")})),{store:l,isVisible:t}}},Bn=(0,g.Z)(Zn,[["render",on],["__scopeId","data-v-32e5d1f4"]]),Qn=Bn,Hn={__name:"NodeVariableRaw",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Variable"+l.nodeVariableIndex,n=(0,a.f3)("store"),o=(0,W.iH)(!1),s=(0,W.iH)(""),i=(0,W.iH)(),d=(0,a.Fl)((()=>n.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.YP)(d,(()=>{i.value=d.value}));const r=e=>{e<0||e>255||""==e?(o.value=!0,s.value="Invalid Value"):(o.value=!1,s.value="",n.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.bv)((()=>{i.value=d.value})),(e,l)=>{const n=(0,a.up)("q-input"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.j4)(d,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(n,{mask:"###",class:"bg-white",filled:"",label:(0,W.SU)(t),debounce:"1000",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),outlined:"","error-message":s.value,error:o.value,onChange:r},null,8,["label","modelValue","error-message","error"])])),_:1})}}},zn=Hn,jn=zn;q()(Hn,"components",{QCard:L.Z,QInput:Y.Z});const On={class:"text-h6"},Fn={key:0,class:"text-h6"},Pn={key:1,class:"text-h6"},Mn={class:"q-pa-xs row"},Ln={key:8},An={key:0,class:"q-pa-none row"},Yn={class:"q-pa-xs row"},$n={key:0},Jn=(0,a._)("br",null,null,-1),Rn={class:"q-pa-xs row"},Gn=(0,a._)("div",{class:"text-body1"},[(0,a.Uk)("Variables descriptor"),(0,a._)("br")],-1),Kn={class:"text-body2"},Xn="NodevariablesDialog",eo={__name:"NodeVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,fl.Z)(),o=(0,a.f3)("store"),s=(0,W.iH)(!1),i=(0,W.iH)(),d=(0,W.iH)(!1),r=(0,W.iH)(!1),u=(0,W.iH)(!1),p=(0,W.iH)(!1);var m={};const c=e,b=l,v=(0,a.Fl)({get(){return c.modelValue},set(e){b("update:modelValue",e)}});(0,a.YP)(v,(()=>{console.log(Xn+": WATCH model"),d.value=!1,p.value=!1}));const y=e=>{var l=!0;return e.visibilityLogic&&(l=Be(e.visibilityLogic,o)),console.log(Xn+": isVisible: "+l+" "+e.type),l},f=()=>{c.nodeNumber&&(void 0!=o.state.nodeDescriptors[c.nodeNumber]?(i.value=o.state.nodeDescriptors[c.nodeNumber].nodeVariables,s.value=!1):(i.value={},d.value=!0,s.value=!0))};(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(0,a.ic)((()=>{console.log(Xn+": onUpdated"),i.value=null,c.nodeNumber&&(console.log("NodeVariableDialog onUpdated - nodeNumber "+c.nodeNumber),f(),w(),0==o.state.nodes[c.nodeNumber].parameters[6]?r.value=!0:r.value=!1)}));const w=()=>{console.log(Xn+": checkFileLoad"),void 0==m[c.nodeNumber]&&("Unknown"==o.state.nodes[c.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),m=!0):void 0!=o.state.nodes[c.nodeNumber].moduleDescriptorFilename&&void 0==o.state.nodeDescriptors[c.nodeNumber]&&(t.notify({message:"Failed to load module file "+o.state.nodes[c.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),m[c.nodeNumber]=!0),m[c.nodeNumber]&&console.log(Xn+": checkLoadFile notification raised"))},g=()=>{console.log(Xn+": clickClose"),i.value={}},_=()=>{console.log(Xn+": clickToggleRaw"),d.value?d.value=!1:d.value=!0},V=()=>{console.log(Xn+": clickToggleNodeDescriptor"),p.value?p.value=!1:p.value=!0},N=()=>{console.log(Xn+": clickUpdateModuleDescriptor"),u.value=!0};return(e,l)=>{const t=(0,a.up)("q-btn"),m=(0,a.up)("q-banner"),b=(0,a.up)("q-card-section"),f=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),x=(0,a.up)("q-dialog"),S=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(x,{modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>N())}),(0,a.wy)((0,a.Wm)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[S]])])),default:(0,a.w5)((()=>[(0,a._)("div",On," Node Variables for node : "+(0,n.zw)((0,W.SU)(o).getters.node_name((0,W.SU)(o).state.selected_node)),1)])),_:1}),(0,a.Wm)(b,null,{default:(0,a.w5)((()=>[s.value?((0,a.wg)(),(0,a.iD)("div",Fn," *** Descriptor not loaded for this node *** ")):(0,a.kq)("",!0),r.value?((0,a.wg)(),(0,a.iD)("div",Pn," this node has no variables to display ")):(0,a.kq)("",!0)])),_:1}),(0,a._)("div",Mn,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.value,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableBitArray"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(La),{key:0,nodeNumber:c.nodeNumber,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Ra),{key:1,NodeNumber:c.nodeNumber,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(ln),{key:2,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:c.nodeNumber,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableGroup"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Qn),{key:3,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"NodeVariableNumber"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(pn),{key:4,"node-number":c.nodeNumber,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(Vn),{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:c.nodeNumber,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(yn),{key:6,"node-number":c.nodeNumber,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableTabs"==e.type&&y(e)?((0,a.wg)(),(0,a.j4)((0,W.SU)(En),{key:7,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),(0,W.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("div",Ln,(0,n.zw)(e.type)+" - "+(0,n.zw)(e.nodeVariableIndex)+" - "+(0,n.zw)(e.displayTitle),1)):(0,a.kq)("",!0)])))),128))]),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(t,{flat:"",label:"Toggle variables descriptor view",onClick:l[1]||(l[1]=e=>V())}),(0,a.Wm)(t,{flat:"",label:"Toggle raw view",onClick:l[2]||(l[2]=e=>_())}),(0,a.wy)((0,a.Wm)(t,{flat:"",label:"Close",onClick:l[3]||(l[3]=e=>g())},null,512),[[S]])])),_:1}),d.value?((0,a.wg)(),(0,a.iD)("div",An,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,W.SU)(o).state.nodes[c.nodeNumber].parameters[6],(e=>((0,a.wg)(),(0,a.j4)((0,W.SU)(jn),{"node-variable-index":e,"node-number":c.nodeNumber,key:e},null,8,["node-variable-index","node-number"])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Yn,[(0,W.SU)(o).state.debug?((0,a.wg)(),(0,a.iD)("p",$n,[(0,a.Uk)(" Debug: Node variables"),Jn,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(o).state.nodes[c.nodeNumber].nodeVariables)+"\n          ",1)])):(0,a.kq)("",!0)]),p.value?((0,a.wg)(),(0,a.j4)(b,{key:1,class:"q-pa-sm"},{default:(0,a.w5)((()=>[(0,a._)("div",Rn,[Gn,(0,a._)("div",Kn,[(0,a._)("pre",null,(0,n.zw)(i.value),1)])])])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)((0,W.SU)(Bt),{modelValue:u.value,"onUpdate:modelValue":l[5]||(l[5]=e=>u.value=e)},null,8,["modelValue"])],64)}}},lo=eo,to=lo;q()(eo,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QCardActions:Ye.Z}),q()(eo,"directives",{ClosePopup:$e.Z});const ao=(0,a._)("div",{class:"text-h6"},"Node parameters are still loading",-1),no=(0,a._)("div",{class:"text-h6"},"Please close this dialog and try again",-1),oo={__name:"parametersLoadingDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.f3)("store");const t=e,n=l,o=(0,a.Fl)({get(){return t.modelValue},set(e){n("update:modelValue",e)}});return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const t=(0,a.up)("q-card-section"),n=(0,a.up)("q-btn"),s=(0,a.up)("q-card-actions"),i=(0,a.up)("q-card"),d=(0,a.up)("q-dialog"),r=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(d,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(t,null,{default:(0,a.w5)((()=>[ao,no])),_:1}),(0,a.Wm)(s,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(n,{flat:"",label:"Close"},null,512),[[r]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},so=oo,io=so;q()(oo,"components",{QDialog:Le.Z,QCard:L.Z,QCardSection:A.Z,QCardActions:Ye.Z,QBtn:$.Z}),q()(oo,"directives",{ClosePopup:$e.Z});const ro=(0,a._)("div",{class:"text-h6"},"Node list",-1),uo={key:1},po="NodePage",mo={__name:"NodePage",setup(e){const l=[{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node number",align:"left",sortable:!0},{name:"nodeName",field:"nodeName",required:!0,label:"Name",align:"left",sortable:!0},{name:"moduleName",field:"moduleName",required:!0,label:"Module name",align:"left",sortable:!0},{name:"mode",field:"mode",required:!0,label:"Mode",align:"left",sortable:!0},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"events",field:"events",required:!0,label:"Stored Events",align:"left",sortable:!1},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],t=(0,a.f3)("store"),o=(0,W.iH)(""),s=(0,W.iH)([]),i=(0,W.iH)(!1),d=(0,W.iH)(!1),r=(0,W.iH)(!1),u=(0,W.iH)(!1),p=(0,W.iH)(!1),m=(0,W.iH)(!1),c=(0,W.iH)(),b=(0,W.iH)(!1),v=(0,a.Fl)((()=>Object.values(t.state.nodes)));(0,a.YP)(v,(()=>{f()}));const y=(0,a.Fl)((()=>t.state.layout.nodeDetails));(0,a.YP)(y,(()=>{f()}));const f=()=>{s.value=[],v.value.forEach((e=>{let l={};l["nodeNumber"]=e.nodeNumber,l["nodeName"]=w(e.nodeNumber),l["moduleName"]=e.moduleName,l["component"]=e.component,l["status"]=e.status,l["mode"]=e.flim,l["events"]=e.eventCount,s.value.push(l)}))},w=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].name:nodeId.toString()+" - "+t.state.nodes[e].moduleName,g=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].colour:"blue";(0,a.wF)((()=>{t.methods.query_all_nodes()}));const _=e=>{t.state.nodes[e].parameters[9]?console.log(po+": parameters exist"):(console.log(po+": need to read parameters"),t.methods.request_all_node_parameters(e,20,100))},V=e=>{t.state.selected_node!=e&&(console.log(po+": request_all_node_events"),t.state.selected_node=e,t.methods.request_all_node_events(t.state.selected_node),c.value=e,i.value=!0,console.log(po+": node row ",t.state.selected_node+" selected"))},N=e=>{console.log(po+": clickAddEvent: node",t.state.selected_node),_(e),V(e),console.log("add event",e),t.state.nodes[e].parameters[9]?d.value=!0:b.value=!0},x=e=>{_(e),V(e),r.value=!0,console.log(po+": clickDeleteNode: node"+t.state.selected_node)},S=e=>{_(e),V(e),console.log(po+": clickEvents: node",e)},q=e=>{_(e),V(e),console.log(po+": clickNameNode: node "+e),u.value=!0},h=e=>{_(e),V(e),console.log(po+": clickParameters: node "+e),p.value=!0},k=()=>{console.log(po+": clickRefresh"),t.methods.query_all_nodes()},I=e=>{_(e),V(e),console.log(po+": clickVariables: node "+e),t.state.nodes[e].parameters[9]?(t.methods.request_all_node_variables(e,t.state.nodes[e].parameters[6],100,1),m.value=!0):b.value=!0};return(e,v)=>{const y=(0,a.up)("q-btn"),f=(0,a.up)("q-banner"),w=(0,a.up)("q-td"),_=(0,a.up)("q-chip"),V=(0,a.up)("q-tr"),U=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(f,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin no-padding"},{action:(0,a.w5)((()=>[(0,a.Wm)(y,{flat:"",color:"white",size:"sm",label:"Refresh",onClick:v[0]||(v[0]=e=>k())})])),default:(0,a.w5)((()=>[ro])),_:1}),(0,a._)("div",null,[(0,a.Wm)(U,{style:{height:"350px"},rows:s.value,bordered:"",dense:"",columns:l,filter:o.value,"row-key":"nodeNumber","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(V,{props:e,class:(0,n.C_)(c.value==e.row.nodeNumber?"bg-blue-1":"bg-white")},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{key:"nodeNumber",class:(0,n.C_)("text-"+g(e.row.nodeNumber)),props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["class","props"]),(0,a.Wm)(w,{key:"nodeName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"moduleName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.moduleName),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"mode",props:e},{default:(0,a.w5)((()=>[e.row.mode?((0,a.wg)(),(0,a.j4)(_,{key:0,color:"white","text-color":"blue"},{default:(0,a.w5)((()=>[(0,a.Uk)("Flim")])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("Slim")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"status",props:e},{default:(0,a.w5)((()=>[e.row.status?((0,a.wg)(),(0,a.j4)(_,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("OK")])),_:1})):((0,a.wg)(),(0,a.j4)(_,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("Error")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"events",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.events),1)])),_:2},1032,["props"]),(0,a.Wm)(w,{key:"actions"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,{color:"cyan-1","text-color":"black",size:"md",label:"Events",onClick:l=>S(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{color:"primary",size:"md",flat:"",label:"Name",onClick:l=>q(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{color:"primary",size:"md",flat:"",label:"Parameters",onClick:l=>h(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{color:"primary",size:"md",flat:"",label:"Variables",onClick:l=>I(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{color:"primary",size:"md",flat:"",label:"Add Event",onClick:l=>N(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(y,{color:"negative",size:"md",flat:"",label:"Delete",onClick:l=>x(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props","class"])])),_:1},8,["rows","filter"]),1==i.value?((0,a.wg)(),(0,a.j4)((0,W.SU)(ta),{key:0,nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["nodeNumber"])):(0,a.kq)("",!0),(0,a.Wm)((0,W.SU)(_a),{modelValue:d.value,"onUpdate:modelValue":v[1]||(v[1]=e=>d.value=e)},null,8,["modelValue"]),(0,a.Wm)((0,W.SU)(qa),{modelValue:r.value,"onUpdate:modelValue":v[2]||(v[2]=e=>r.value=e),nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,W.SU)(Ia),{modelValue:u.value,"onUpdate:modelValue":v[3]||(v[3]=e=>u.value=e),nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,W.SU)(Qa),{modelValue:p.value,"onUpdate:modelValue":v[4]||(v[4]=e=>p.value=e),nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,W.SU)(to),{modelValue:m.value,"onUpdate:modelValue":v[5]||(v[5]=e=>m.value=e),nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.Wm)((0,W.SU)(io),{modelValue:b.value,"onUpdate:modelValue":v[6]||(v[6]=e=>b.value=e),nodeNumber:(0,W.SU)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",uo,(0,n.zw)(Object.values((0,W.SU)(t).state.nodes)),1)):(0,a.kq)("",!0)])])}}},co=mo,bo=co;function vo(e,l,t,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(n.display_component)))])}function yo(e,l,t,n,o,s){const i=(0,a.up)("node-details"),d=(0,a.up)("q-tab"),r=(0,a.up)("q-tabs"),u=(0,a.up)("default2-info"),p=(0,a.up)("q-tab-panel"),m=(0,a.up)("default2-variables"),c=(0,a.up)("default2NodeServices"),b=(0,a.up)("default2-events"),v=(0,a.up)("q-tab-panels");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a.Wm)(i)]),(0,a._)("div",null,[(0,a.Wm)(r,{modelValue:n.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>n.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"info",label:"Info"}),n.store.state.nodes[n.store.state.selected_node].flim?((0,a.wg)(),(0,a.j4)(d,{key:0,name:"variables",label:"Node Variables"})):(0,a.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,a.wg)(),(0,a.j4)(d,{key:1,name:"services",label:"Services"})):(0,a.kq)("",!0),n.store.state.nodes[n.store.state.selected_node].flim?((0,a.wg)(),(0,a.j4)(d,{key:2,name:"events",label:"Stored Events"})):(0,a.kq)("",!0)])),_:1},8,["modelValue"]),(0,a.Wm)(v,{modelValue:n.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>n.tab=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"info",class:"bg-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Wm)(p,{name:"variables",class:"bg-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(m)])),_:1}),(0,a.Wm)(p,{name:"services",class:"bg-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(c)])),_:1}),(0,a.Wm)(p,{name:"events",class:"bg-white"},{default:(0,a.w5)((()=>[(0,a.Wm)(b)])),_:1})])),_:1},8,["modelValue"])])],64)}q()(mo,"components",{QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QTr:ae.Z,QTd:R.Z,QChip:ne.Z});const fo={class:"row items-start q-gutter-md"},wo=(0,a._)("div",{class:"text-h6"},"Node Details",-1),go=(0,a._)("div",{class:"text-subtitle2"},"Details to help identify the Node",-1),_o=(0,a._)("div",{class:"text-h6"},"Node Information",-1),Vo=(0,a._)("div",{class:"text-h6"},"Module Information",-1),No=(0,a._)("div",{class:"text-h6"},"Hardware Information",-1),xo={class:"row items-start q-gutter-md"},So=(0,a._)("div",{class:"text-h6"},"Module Descriptor",-1),qo={key:0,class:"text-subtitle2"},ho=(0,a._)("p",{class:"text-negative"},"Module Descriptor not found",-1),ko=[ho],Wo=(0,a._)("div",{class:"text-h4"},"Module Descriptor Data",-1),Io={class:"text-h6"},Uo=(0,a._)("div",{class:"text-h6"},"File upload ",-1),To=(0,a._)("div",{class:"text-subtitle2"},"Select a file to upload for this type of module",-1),Do={class:"text-subtitle2"},Co=(0,a._)("div",{class:"text-subtitle2"},"If this module descriptor already exists on the server, it will be overwritten ",-1),Eo={class:"q-pa-xs row"},Zo={key:0},Bo=(0,a._)("br",null,null,-1),Qo={__name:"Default2Info",setup(e){const l=(0,a.f3)("store"),t=(0,W.iH)(!1),o=(0,W.iH)(!1),s=(0,W.iH)(!1),i=(0,W.iH)(""),d=(0,W.iH)(""),r=(0,W.iH)(""),u=(0,W.iH)([]),p=(0,fl.Z)(),m=(0,W.iH)(null),c=(0,W.iH)(!1),b=(0,a.Fl)((()=>Object.values(l.state.layout.nodeDetails)));(0,a.YP)(b,(()=>{w()}));const v=(0,a.Fl)((()=>l.state.nodes[l.state.selected_node].moduleDescriptorFilename));(0,a.YP)(v,(()=>{console.log("WATCH moduleDescriptorFilename"),_()}));const y=(0,a.Fl)((()=>{var e="";return l.state.nodes[l.state.selected_node].moduleDescriptorFilename&&(e=l.state.nodes[l.state.selected_node].moduleDescriptorFilename.split(".",1)[0]),e})),f=(0,a.Fl)((()=>l.state.nodeDescriptors[l.state.selected_node]));(0,a.YP)(f,(()=>{l.state.nodeDescriptors[l.state.selected_node]&&(c.value=!0,console.log("WATCH nodeDescriptor "+c.value))}));const w=()=>{u.value=[],b.value.forEach((e=>{u.value.includes(e.group)||u.value.push(e.group)}))};var g=!1;const _=()=>{console.log("checkFileLoad"),1!=g&&("Unknown"==l.state.nodes[l.state.selected_node].moduleName?(p.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),g=!0):void 0!=v.value&&void 0==l.state.nodeDescriptors[l.state.selected_node]&&(p.notify({message:"Failed to load module file "+v.value,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),g=!0),g&&console.log("LoadFile notification raised")),l.state.nodeDescriptors[l.state.selected_node]&&(c.value=!0,console.log("WATCH moduleDescriptorFilename "+c.value))};(0,a.bv)((()=>{_(),l.methods.request_all_node_variables(l.state.selected_node,l.state.nodes[l.state.selected_node].parameters[6],100,1)})),(0,a.wF)((()=>{l.methods.request_service_discovery(l.state.selected_node),l.state.selected_node in l.state.layout.nodeDetails?(i.value=l.state.layout.nodeDetails[l.state.selected_node].name,d.value=l.state.layout.nodeDetails[l.state.selected_node].colour,r.value=l.state.layout.nodeDetails[l.state.selected_node].group):(i.value=l.state.selected_node.toString()+" - "+l.state.nodes[l.state.selected_node].module,d.value="black",r.value=""),w()}));const V=()=>{console.log("Node Details Update Node"),l.state.selected_node in l.state.layout.nodeDetails===!1&&(l.state.layout.nodeDetails[l.state.selected_node]={}),l.state.layout.nodeDetails[l.state.selected_node].name=i.value,l.state.layout.nodeDetails[l.state.selected_node].colour=d.value,l.state.layout.nodeDetails[l.state.selected_node].group=r.value,l.methods.update_layout()},N=()=>{console.log("showModuleDescriptorViewDialog"),s.value=!0},x=()=>{console.log("showModuleDescriptorDownloadDialog"),t.value=!0},S=()=>{console.log("showModuleDescriptorUploadDialog"),o.value=!0},q=e=>{let t=JSON.stringify(l.state.nodeDescriptors[l.state.selected_node],null,"  "),a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},h=()=>{var e={};if(m.value){let t=new FileReader;t.readAsText(m.value),t.onload=function(){try{e=JSON.parse(t.result),e["moduleDescriptorName"]=y.value,console.log("actionUpload: "+e.moduleDescriptorName),l.methods.import_module_descriptor(e)}catch(a){console.log("actionUpload: failed JSON parse")}},m.value=null}else console.log("actionUpload: uploadFile no value ")};return(e,d)=>{const r=(0,a.up)("q-card-section"),u=(0,a.up)("q-input"),p=(0,a.up)("q-card"),b=(0,a.up)("q-btn"),f=(0,a.up)("q-card-actions"),w=(0,a.up)("q-dialog"),g=(0,a.up)("q-file"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",fo,[(0,a.Wm)(p,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[wo,go])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-pa-xs",outlined:"",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=e=>i.value=e),label:"Node Name",maxlength:"30",onChange:V},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(p,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[_o])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Number",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].nodeNumber},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Events Currently Stored",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].eventCount},null,8,["Value"])])),_:1})])),_:1}),(0,a.Wm)(p,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[Vo])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"Manufacturer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].moduleManufacturerName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].moduleName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module Identifier",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].moduleIdentifier},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Producer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].producer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consumer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].consumer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consume own Events",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].coe},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Variables",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[6]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Events Supported",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[4]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Event Variables",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[5]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Filename",Value:v.value},null,8,["Value"])])),_:1})])),_:1}),(0,a.Wm)(p,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[No])),_:1}),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"CPU Name",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].cpuName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Interface",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].interfaceName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Firmware Version",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[7]+String.fromCharCode((0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[2])},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Beta Version",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[20]},null,8,["Value"])])),_:1})])),_:1})]),(0,a._)("div",xo,[(0,a.Wm)(p,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[So,(0,a.Uk)(" "+(0,n.zw)(y.value)+" ",1),c.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",qo,ko))])),_:1}),(0,a.Wm)(f,{align:"evenly",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{color:"positive",disabled:!c.value,label:"View",onClick:d[1]||(d[1]=e=>N()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(b,{color:"positive",disabled:!c.value,label:"Download",onClick:d[2]||(d[2]=e=>x()),"no-caps":""},null,8,["disabled"]),(0,a.Wm)(b,{color:"positive",label:"Upload",onClick:d[3]||(d[3]=e=>S()),"no-caps":""})])),_:1})])),_:1})]),(0,a.Wm)(w,{modelValue:s.value,"onUpdate:modelValue":d[4]||(d[4]=e=>s.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[Wo,(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Cancel"},null,512),[[_]])])),_:1}),(0,a._)("p",null,(0,n.zw)(JSON.stringify((0,W.SU)(l).state.nodeDescriptors[(0,W.SU)(l).state.selected_node],null,"  ")),1)])),_:1}),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Cancel"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(w,{modelValue:t.value,"onUpdate:modelValue":d[6]||(d[6]=e=>t.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a._)("div",Io,"Download "+(0,n.zw)(v.value),1)])),_:1}),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Cancel"},null,512),[[_]]),(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Download",onClick:d[5]||(d[5]=e=>q(v.value))},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(w,{modelValue:o.value,"onUpdate:modelValue":d[9]||(d[9]=e=>o.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[Uo,To,(0,a._)("div",Do,"The filename can be anything, as it will be stored as "+(0,n.zw)(v.value),1)])),_:1}),(0,a.Wm)(g,{modelValue:m.value,"onUpdate:modelValue":d[7]||(d[7]=e=>m.value=e),label:"Pick one file",filled:"",style:{"max-width":"300px"}},null,8,["modelValue"]),(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[Co])),_:1}),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Cancel"},null,512),[[_]]),(0,a.wy)((0,a.Wm)(b,{flat:"",label:"Upload",onClick:d[8]||(d[8]=e=>h())},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a._)("div",Eo,[(0,W.SU)(l).state.debug?((0,a.wg)(),(0,a.iD)("p",Zo,[(0,a.Uk)(" Debug: Node JSON"),Bo,(0,a._)("pre",null,"      "+(0,n.zw)((0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node])+"\n      ",1)])):(0,a.kq)("",!0)])],64)}}},Ho=Qo,zo=Ho;q()(Qo,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z,QSelect:_e.Z,QCardActions:Ye.Z,QBtn:$.Z,QDialog:Le.Z,QFile:Et.Z}),q()(Qo,"directives",{ClosePopup:$e.Z});const jo={class:"q-pa-xs row"},Oo={key:8},Fo=(0,a._)("h5",null,"Raw View",-1),Po={class:"q-pa-xs row"},Mo={class:"q-pa-xs row"},Lo={key:0},Ao=(0,a._)("br",null,null,-1);function Yo(e,l,t,o,s,i){const d=(0,a.up)("NodeVariableBitArray"),r=(0,a.up)("NodeVariableBitSingle"),u=(0,a.up)("NodeVariableDual"),p=(0,a.up)("NodeVariableGroup"),m=(0,a.up)("NodeVariableNumber"),c=(0,a.up)("NodeVariableSelect"),b=(0,a.up)("node-variable-slider"),v=(0,a.up)("NodeVariableTabs"),y=(0,a.up)("NodeVariableRaw");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",jo,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.nodeVariables,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["NodeVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(d,{key:0,nodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(r,{key:1,NodeNumber:o.store.state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.kq)("",!0),"NodeVariableDual"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:2,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"NodeVariableGroup"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:3,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"NodeVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:4,"node-number":o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.kq)("",!0),"NodeVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:o.store.state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options,bitMask:e.bitMask},null,8,["nodeVariableIndex","nodeNumber","displayTitle","displaySubTitle","options","bitMask"])):(0,a.kq)("",!0),"NodeVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:6,"node-number":o.store.state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"NodeVariableTabs"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(v,{key:7,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),o.store.state.debug?((0,a.wg)(),(0,a.iD)("div",Oo,(0,n.zw)(e.type)+" - "+(0,n.zw)(e.nodeVariableIndex)+" - "+(0,n.zw)(e.displayTitle),1)):(0,a.kq)("",!0)])))),128))]),Fo,(0,a._)("div",Po,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.store.state.nodes[o.store.state.selected_node].parameters[6],(e=>((0,a.wg)(),(0,a.j4)(y,{"node-variable-index":e,"node-number":o.store.state.selected_node,key:e},null,8,["node-variable-index","node-number"])))),128))]),(0,a._)("div",Mo,[o.store.state.debug?((0,a.wg)(),(0,a.iD)("p",Lo,[(0,a.Uk)(" Debug: Node variables"),Ao,(0,a._)("pre",null,"        "+(0,n.zw)(o.store.state.nodes[o.store.state.selected_node].nodeVariables)+"\n      ",1)])):(0,a.kq)("",!0)])],64)}const $o={class:"row items-start q-gutter-md"},Jo=(0,a._)("div",{class:"text-h6"},"Node Details",-1),Ro=(0,a._)("div",{class:"text-subtitle2"},"Details to help identify the Node",-1),Go=(0,a._)("div",{class:"text-h6"},"Node Info",-1),Ko=(0,a._)("div",{class:"text-subtitle2"},"Node Information",-1),Xo=(0,a._)("div",{class:"text-h6"},"Module Info",-1),es=(0,a._)("div",{class:"text-subtitle2"},"Node Information",-1),ls=(0,a._)("div",{class:"text-h6"},"Hardware Info",-1),ts=(0,a._)("div",{class:"text-subtitle2"},"Node Information",-1),as={__name:"DefaultInfo",setup(e){const l=(0,a.f3)("store"),t=(0,W.iH)(""),n=(0,W.iH)(""),o=(0,W.iH)(""),s=(0,W.iH)([]),i=(0,a.Fl)((()=>Object.values(l.state.layout.nodeDetails)));(0,a.YP)(i,(()=>{console.log("WATCH Node Details"),d()}));const d=()=>{s.value=[],i.value.forEach((e=>{s.value.includes(e.group)||s.value.push(e.group)}))};(0,a.wF)((()=>{l.methods.request_all_node_parameters(l.state.selected_node,20,100),l.state.selected_node in l.state.layout.nodeDetails?(t.value=l.state.layout.nodeDetails[l.state.selected_node].name,n.value=l.state.layout.nodeDetails[l.state.selected_node].colour,o.value=l.state.layout.nodeDetails[l.state.selected_node].group):(t.value=l.state.selected_node.toString()+" - "+l.state.nodes[l.state.selected_node].module,n.value="black",o.value=""),d()}));const r=()=>{console.log("Node Details Update Node"),l.state.selected_node in l.state.layout.nodeDetails===!1&&(l.state.layout.nodeDetails[l.state.selected_node]={}),l.state.layout.nodeDetails[l.state.selected_node].name=t.value,l.state.layout.nodeDetails[l.state.selected_node].colour=n.value,l.state.layout.nodeDetails[l.state.selected_node].group=o.value,l.methods.update_layout()};return(e,i)=>{const d=(0,a.up)("q-card-section"),u=(0,a.up)("q-input"),p=(0,a.up)("q-select"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",$o,[(0,a.Wm)(m,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[Jo,Ro])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"q-pa-xs",outlined:"",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),label:"Node Name",maxlength:"30",onChange:r},null,8,["modelValue"]),(0,a.Wm)(p,{class:"q-pa-sm",outlined:"",modelValue:n.value,"onUpdate:modelValue":[i[1]||(i[1]=e=>n.value=e),r],options:(0,W.SU)(l).state.colours,label:"Node Colour",maxlength:"30"},null,8,["modelValue","options"]),(0,a.Wm)(p,{class:"q-pa-sm",outlined:"","use-input":"",modelValue:o.value,"onUpdate:modelValue":[i[2]||(i[2]=e=>o.value=e),r],options:s.value,label:"Node Group",maxlength:"30","new-value-mode":"add-unique"},null,8,["modelValue","options"])])),_:1})])),_:1}),(0,a.Wm)(m,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[Go,Ko])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Number",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].nodeNumber},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Component",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].component},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Node Variables",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[6]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Event Variables",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[5]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Events Stored",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].eventCount},null,8,["Value"])])),_:1})])),_:1}),(0,a.Wm)(m,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[Xo,es])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"Manufacturer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].moduleManufacturerName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Module",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].moduleName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Producer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].producer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consumer",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].consumer},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Consume own Events",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].coe},null,8,["Value"])])),_:1})])),_:1}),(0,a.Wm)(m,{class:"q-pa-sm",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[ls,ts])),_:1}),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,W.SU)(Ca),{Name:"CPU Name",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].cpuName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Interface",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].interfaceName},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Major Version",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[7]},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Minor Version",Value:String.fromCharCode((0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[2])},null,8,["Value"]),(0,a.Wm)((0,W.SU)(Ca),{Name:"Beta Version",Value:(0,W.SU)(l).state.nodes[(0,W.SU)(l).state.selected_node].parameters[20]},null,8,["Value"])])),_:1})])),_:1})])}}};q()(as,"components",{QCard:L.Z,QCardSection:A.Z,QInput:Y.Z,QSelect:_e.Z});const ns={name:"DefaultVariables",components:{NodeVariableBitArray:La,NodeVariableBitSingle:Ra,NodeVariableDual:ln,NodeVariableGroup:Qn,NodeVariableNumber:pn,NodeVariableRaw:jn,NodeVariableSelect:Vn,NodeVariableSlider:yn,NodeVariableTabs:En},setup(){const e=(0,a.f3)("store"),l=(0,W.iH)();function t(l){var t=!0;return l.visibilityLogic&&(t=Be(l.visibilityLogic,e)),console.log("isVisible: "+t+" "+l.type),t}return(0,a.wF)((()=>{void 0!=e.state.nodeDescriptors[e.state.selected_node]&&(l.value=e.state.nodeDescriptors[e.state.selected_node].nodeVariables),e.methods.request_all_node_variables(e.state.selected_node,e.state.nodes[e.state.selected_node].parameters[6],100,1)})),{store:e,nodeVariables:l,isVisible:t}}},os=(0,g.Z)(ns,[["render",Yo]]),ss=os;function is(e,l,t,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(n.store.state.events_component)))])}const ds={class:"q-pa-md"},rs={class:"text-h6"},us={class:"q-pa-none row"},ps=(0,a._)("div",{class:"q-pa-none row"},[(0,a._)("h6",null,"Raw View")],-1),ms={class:"q-pa-none row"},cs={class:"q-pa-xs row"},bs={key:0},vs=(0,a._)("br",null,null,-1);function ys(e,l,t,o,s,i){const d=(0,a.up)("q-btn"),r=(0,a.up)("q-banner"),u=(0,a.up)("EventVariableBitArray"),p=(0,a.up)("EventVariableBitSingle"),m=(0,a.up)("EventVariableGroup"),c=(0,a.up)("EventVariableNumber"),b=(0,a.up)("EventVariableSelect"),v=(0,a.up)("EventVariableSlider"),y=(0,a.up)("EventVariableTabs"),f=(0,a.up)("EventVariableRaw");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",ds,[(0,a.Wm)(r,{"inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(d,{color:"negative",label:"<Back",onClick:o.showEventsList,"no-caps":""},null,8,["onClick"])])),default:(0,a.w5)((()=>[(0,a._)("div",rs,(0,n.zw)(o.Title),1)])),_:1})]),(0,a._)("div",us,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.eventVariables,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e},["EventVariableBitArray"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(u,{key:0,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableBitSingle"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(p,{key:1,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIndex","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.kq)("",!0),"EventVariableGroup"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(m,{key:2,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0),"EventVariableNumber"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(c,{key:3,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,min:e.min,max:e.max,configuration:e},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","startBit","endBit","displayOffset","min","max","configuration"])):(0,a.kq)("",!0),"EventVariableSelect"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(b,{key:4,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIndex","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.kq)("",!0),"EventVariableSlider"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(v,{key:5,"node-number":o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIndex","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.kq)("",!0),"EventVariableTabs"==e.type&&o.isVisible(e)?((0,a.wg)(),(0,a.j4)(y,{key:6,configuration:e},null,8,["configuration"])):(0,a.kq)("",!0)])))),128))]),ps,(0,a._)("div",ms,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.store.state.nodes[o.store.state.selected_node].parameters[5],(e=>((0,a.wg)(),(0,a.j4)(f,{eventVariableIndex:e,nodeNumber:o.store.state.selected_node,eventIndex:o.store.state.selected_event_index,key:e},null,8,["eventVariableIndex","nodeNumber","eventIndex"])))),128))]),(0,a._)("div",cs,[o.store.state.debug?((0,a.wg)(),(0,a.iD)("p",bs,[(0,a.Uk)(" Debug: event variables"),vs,(0,a._)("pre",null,"        "+(0,n.zw)(o.store.state.nodes[o.store.state.selected_node].storedEvents[o.store.state.selected_event_index])+"\n      ",1)])):(0,a.kq)("",!0)])],64)}const fs={name:"DefaultVariables",components:{EventVariableBitArray:ql,EventVariableBitSingle:Ul,EventVariableGroup:ft,EventVariableNumber:zl,EventVariableRaw:_t,EventVariableSelect:Ml,EventVariableSlider:Gl,EventVariableTabs:bt},setup(){const e=(0,a.f3)("store"),l=(0,W.iH)(),t=e.state.nodes[e.state.selected_node].storedEvents[e.state.selected_event_index].eventIdentifier,n=parseInt(t.substr(0,4),16),o=parseInt(t.substr(4,4),16),s=i();function i(){var e="event: node "+n+" event "+o;return e}function d(){console.log("showEventsList"),e.methods.update_event_component("Default2EventsList")}function r(l){var t=!0;return l.visibilityLogic&&(t=Be(l.visibilityLogic,e,e.state.selected_event_index)),console.log("isVisible: "+t+" "+l.type),t}return(0,a.wF)((()=>{console.log("Default2EventVariables"),void 0!=e.state.nodeDescriptors[e.state.selected_node]&&(l.value=e.state.nodeDescriptors[e.state.selected_node].eventVariables),e.methods.request_all_event_variables(e.state.selected_node,e.state.selected_event_index,100,e.state.nodes[e.state.selected_node].parameters[5])})),{store:e,EventVariableRaw:_t,eventVariables:l,showEventsList:d,eventIdentifier:t,producerNode:n,eventNumber:o,Title:s,isVisible:r}}},ws=(0,g.Z)(fs,[["render",ys]]),gs=ws;q()(fs,"components",{QBanner:Ae.Z,QBtn:$.Z});const _s={class:"q-pa-md"},Vs=(0,a._)("div",{class:"text-h6"}," Stored Events ",-1),Ns={class:"full-width"},xs=(0,a._)("div",{class:"text-h4"},"Add new event",-1),Ss={class:"q-gutter-sm"},qs={key:0},hs=(0,a._)("div",{class:"text-h4"},"Node Number",-1),ks=(0,a._)("div",{class:"text-h6"},"Consumed events will need the number of the node that produces the event",-1),Ws=(0,a._)("div",{class:"text-h6"},"Events produced by this node will need the number of this node, as well as editing the event variables",-1),Is=(0,a._)("div",{class:"text-h4"},"Event Number",-1),Us={key:1},Ts=(0,a._)("div",{class:"text-h4"},"Device Number",-1),Ds={key:2},Cs=(0,a._)("div",{class:"text-h6"},"Once event is added, select edit for the event from the event list to modify event variables",-1),Es=(0,a._)("div",{class:"text-h4"},"edit event name",-1),Zs={key:0,class:"q-pa-sm row"},Bs={__name:"Default2EventsList",setup(e){const l=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"EventId",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event Index",align:"left",sortable:!0},{name:"eventType",field:"eventType",required:!0,label:"Event Type",align:"left",sortable:!0},{name:"edit",field:"edit",required:!0,label:"Edit",align:"left",sortable:!0}],t=(0,a.f3)("store"),o=(0,W.iH)([]),s=(0,W.iH)(!1),i=(0,W.iH)(!1),d=(0,W.iH)(),r=(0,W.iH)(),u=(0,W.iH)(),p=(0,W.iH)();var m=(0,W.iH)();const c=(0,a.Fl)((()=>Object.values(t.state.nodes[t.state.selected_node].storedEvents)));(0,a.YP)(c,(()=>{b()}));const b=()=>{o.value=[],c.value.forEach((e=>{var l=parseInt(e.eventIdentifier.substr(0,4),16);let a={};a["eventIdentifier"]=e.eventIdentifier,a["eventName"]=t.getters.event_name(e.eventIdentifier),a["eventIndex"]=e.eventIndex,a["nodeNumber"]=l,a["eventNumber"]=parseInt(e.eventIdentifier.substr(4,4),16),a["eventType"]=v(e.eventIndex),o.value.push(a)})),o.value.sort((function(e,l){return e.eventIdentifier<l.eventIdentifier?-1:1}))},v=e=>{if(t.state.nodeDescriptors[t.state.selected_node]){var l=t.state.nodeDescriptors[t.state.selected_node].producedEventLogic;if(void 0==l)return"";var a=Be(l,t,e);return a?"produced":"consumed"}};(0,a.wF)((()=>{_(),b()}));const y=e=>{console.log("nameEvent"),p.value=e,d.value=t.getters.event_name(e),i.value=!0},f=e=>{console.log("editEvent"),t.state.selected_event_index=e,t.methods.update_event_component("Default2EventVariables")},w=(e,l)=>{console.log("removeEvent"),t.methods.remove_event(e,l)},g=()=>{console.log("addEventDialog"),r.value=null,u.value=null,m.value=null,s.value=!0},_=()=>{console.log("refresh Events"),t.methods.request_all_node_events(t.state.selected_node);var e=0;c.value.forEach((l=>{e+=100,setTimeout((()=>{t.methods.request_all_event_variables(t.state.selected_node,l.eventIndex,100,t.state.nodes[t.state.selected_node].parameters[5])}),e)}))},V=()=>{var e=x();"short"==m.value&&(r.value=0);var l=parseInt(r.value).toString(16).toUpperCase().padStart(4,0)+parseInt(u.value).toString(16).toUpperCase().padStart(4,0);console.log("createEvent - index "+e+" eventID "+l),t.methods.teach_event(t.state.selected_node,l,e)},N=()=>{t.setters.event_name(p.value,d.value),b()},x=()=>{for(var e=t.state.nodes[t.state.selected_node].parameters[4],l=null,a=1;a<e;a++)if(console.log("i "+a),!t.state.nodes[t.state.selected_node].storedEvents[a]){l=a+1;break}return l};return(e,p)=>{const c=(0,a.up)("q-btn"),b=(0,a.up)("q-banner"),v=(0,a.up)("q-td"),x=(0,a.up)("q-tr"),S=(0,a.up)("q-table"),q=(0,a.up)("q-radio"),h=(0,a.up)("q-card-section"),k=(0,a.up)("q-input"),I=(0,a.up)("q-card-actions"),U=(0,a.up)("q-card"),T=(0,a.up)("q-dialog"),D=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",_s,[(0,a.Wm)(b,{"inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(c,{color:"positive",label:"Add Event",onClick:p[0]||(p[0]=e=>g()),"no-caps":""}),(0,a.Wm)(c,{color:"positive",label:"Refresh Events",onClick:p[1]||(p[1]=e=>_()),"no-caps":""})])),default:(0,a.w5)((()=>[Vs])),_:1})]),(0,a._)("div",Ns,[(0,a.Wm)(S,{rows:o.value,columns:l,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(x,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{key:"eventIdentifier",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"eventName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventName),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"nodeNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"eventNumber",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"eventIndex",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"eventType",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventType),1)])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"edit",props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{outline:"",rounded:"",color:"primary",label:"Name",onClick:l=>y(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(c,{outline:"",rounded:"",color:"primary",label:"Edit",onClick:l=>f(e.row.eventIndex),"no-caps":""},null,8,["onClick"]),(0,a.Wm)(c,{outline:"",rounded:"",color:"negative",label:"Delete",onClick:l=>w((0,W.SU)(t).state.selected_node,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"]),(0,a.Wm)(T,{modelValue:s.value,"onUpdate:modelValue":p[8]||(p[8]=e=>s.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[xs,(0,a._)("div",Ss,[(0,a.Wm)(q,{modelValue:(0,W.SU)(m),"onUpdate:modelValue":p[2]||(p[2]=e=>(0,W.dq)(m)?m.value=e:m=e),val:"long",label:"Long event"},null,8,["modelValue"]),(0,a.Wm)(q,{modelValue:(0,W.SU)(m),"onUpdate:modelValue":p[3]||(p[3]=e=>(0,W.dq)(m)?m.value=e:m=e),val:"short",label:"Short event"},null,8,["modelValue"])])])),_:1}),"long"==(0,W.SU)(m)?((0,a.wg)(),(0,a.iD)("div",qs,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[hs])),_:1}),(0,a.Wm)(h,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{dense:"",modelValue:r.value,"onUpdate:modelValue":p[4]||(p[4]=e=>r.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[ks,Ws])),_:1}),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[Is])),_:1}),(0,a.Wm)(h,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{dense:"",modelValue:u.value,"onUpdate:modelValue":p[5]||(p[5]=e=>u.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),"short"==(0,W.SU)(m)?((0,a.wg)(),(0,a.iD)("div",Us,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[Ts])),_:1}),(0,a.Wm)(h,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{dense:"",modelValue:u.value,"onUpdate:modelValue":p[6]||(p[6]=e=>u.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.kq)("",!0),null!=(0,W.SU)(m)?((0,a.wg)(),(0,a.iD)("div",Ds,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[Cs])),_:1})])):(0,a.kq)("",!0),(0,a.Wm)(I,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(c,{flat:"",label:"Cancel"},null,512),[[D]]),(0,a.wy)((0,a.Wm)(c,{flat:"",label:"Add Event",onClick:p[7]||(p[7]=e=>V())},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(T,{modelValue:i.value,"onUpdate:modelValue":p[11]||(p[11]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(U,{style:{"min-width":"350px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[Es])),_:1}),(0,a.Wm)(h,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{dense:"",modelValue:d.value,"onUpdate:modelValue":p[9]||(p[9]=e=>d.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(I,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(c,{flat:"",label:"Cancel"},null,512),[[D]]),(0,a.wy)((0,a.Wm)(c,{flat:"",label:"Accept",onClick:p[10]||(p[10]=e=>N())},null,512),[[D]])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("div",Zs,[(0,a._)("p",null,(0,n.zw)(Object.values((0,W.SU)(t).state.events)),1)])):(0,a.kq)("",!0)],64)}}},Qs=Bs,Hs=Qs;q()(Bs,"components",{QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QTr:ae.Z,QTd:R.Z,QDialog:Le.Z,QCard:L.Z,QCardSection:A.Z,QRadio:wa.Z,QInput:Y.Z,QCardActions:Ye.Z}),q()(Bs,"directives",{ClosePopup:$e.Z});const zs={name:"Default2Events",components:{Default2EventsList:Hs,Default2EventVariables:gs},setup(){const e=(0,a.f3)("store");return(0,a.wF)((()=>{e.methods.update_event_component("Default2EventsList")})),{store:e}}},js=(0,g.Z)(zs,[["render",is]]),Os=js;function Fs(e,l,t,n,o,s){return(0,a.wg)(),(0,a.iD)("div",null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(n.store.state.services_component)))])}const Ps={class:"q-pa-md"},Ms={class:"text-h6"},Ls={class:"full-width"},As={__name:"Default2NodeServiceDiagnostics",setup(e){console.log("Default2ServiceDiagnostics:");const l=[{name:"diagnosticCode",field:"diagnosticCode",required:!0,label:"Diagnostic Code",align:"left",sortable:!0},{name:"diagnosticValue",field:"diagnosticValue",required:!1,label:"Diagnostic Value",align:"left",sortable:!0},{name:"diagnosticName",field:"diagnosticName",required:!0,label:"Name",align:"left",sortable:!0}],t=(0,a.f3)("store"),o=(0,W.iH)([]),s=(0,a.Fl)((()=>Object.values(t.state.nodes[t.state.selected_node].services[t.state.selected_service_index].diagnostics)));(0,a.YP)(s,(()=>{d()}));const i=t.state.nodes[t.state.selected_node].services[t.state.selected_service_index];console.log(`Default2ServiceDiagnostics: Service: ${JSON.stringify(i)}`);const d=()=>{o.value=[],s.value.forEach((e=>{let l={};l["diagnosticCode"]=e.DiagnosticCode,l["diagnosticValue"]=e.DiagnosticValue,l["diagnosticName"]=e.DiagnosticName,o.value.push(l)}))};(0,a.wF)((()=>{d(),console.log("Default2ServiceDiagnostics: OnBeforeMount")}));const r=()=>{console.log("refreshDiagnostics"),t.methods.request_diagnostics(t.state.selected_node,t.state.selected_service_index)},u=()=>{console.log("showServicesList"),t.methods.update_services_component("Default2NodeServicesList")};return(e,t)=>{const s=(0,a.up)("q-btn"),d=(0,a.up)("q-banner"),p=(0,a.up)("q-td"),m=(0,a.up)("q-tr"),c=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ps,[(0,a.Wm)(d,{"inline-actions":""},{action:(0,a.w5)((()=>[(0,a.Wm)(s,{color:"positive",label:"Refresh",onClick:t[0]||(t[0]=e=>r()),"no-caps":""}),(0,a.Wm)(s,{color:"negative",label:"<Back",onClick:t[1]||(t[1]=e=>u()),"no-caps":""})])),default:(0,a.w5)((()=>[(0,a._)("div",Ms," Service Index "+(0,n.zw)((0,W.SU)(i).ServiceIndex)+" : "+(0,n.zw)((0,W.SU)(i).ServiceName),1)])),_:1})]),(0,a._)("div",Ls,[(0,a.Wm)(c,{title:"Diagnostics",rows:o.value,columns:l,"row-key":"diagnosticCode","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(m,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{key:"diagnosticCode",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.diagnosticCode),1)])),_:2},1032,["props"]),(0,a.Wm)(p,{key:"diagnosticValue",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.diagnosticValue),1)])),_:2},1032,["props"]),(0,a.Wm)(p,{key:"diagnosticName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.diagnosticName),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])])],64)}}},Ys=As,$s=Ys;q()(As,"components",{QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QTr:ae.Z,QTd:R.Z});const Js={class:"full-width"},Rs={key:0,class:"q-pa-sm row"},Gs={__name:"Default2NodeServicesList",setup(e){const l=[{name:"serviceIndex",field:"serviceIndex",required:!0,label:"Service Index",align:"left",sortable:!0},{name:"serviceType",field:"serviceType",required:!1,label:"Service Type",align:"left",sortable:!0},{name:"serviceName",field:"serviceName",required:!0,label:"Name",align:"left",sortable:!0},{name:"diagnostics",field:"diagnostics",required:!0,label:"diagnostics",align:"left"}],t=(0,a.f3)("store"),o=(0,W.iH)([]),s=(0,a.Fl)((()=>Object.values(t.state.nodes[t.state.selected_node].services)));(0,a.YP)(s,(()=>{i()}));const i=()=>{o.value=[],s.value.forEach((e=>{let l={};l["serviceIndex"]=e.ServiceIndex,l["serviceType"]=e.ServiceType,l["serviceName"]=e.ServiceName,o.value.push(l)}))};(0,a.wF)((()=>{i()}));const d=e=>{console.log(`showDiagnostics for index ${e}`),t.methods.request_diagnostics(t.state.selected_node,e),t.state.selected_service_index=e,t.methods.update_services_component("Default2NodeServiceDiagnostics")};return(e,s)=>{const i=(0,a.up)("q-td"),r=(0,a.up)("q-btn"),u=(0,a.up)("q-tr"),p=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Js,[(0,a.Wm)(p,{title:"Published Services",rows:o.value,columns:l,"row-key":"serviceIndex","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.w5)((e=>[(0,a.Wm)(u,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{key:"serviceIndex",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.serviceIndex),1)])),_:2},1032,["props"]),(0,a.Wm)(i,{key:"serviceType",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.serviceType),1)])),_:2},1032,["props"]),(0,a.Wm)(i,{key:"serviceName",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.serviceName),1)])),_:2},1032,["props"]),(0,a.Wm)(i,{key:"diagnostics",props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{color:"primary",flat:"",rounded:"",label:"diagnostics",onClick:l=>d(e.row.serviceIndex),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])]),(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("div",Rs,[(0,a._)("p",null,(0,n.zw)(Object.values((0,W.SU)(t).state.events)),1)])):(0,a.kq)("",!0)],64)}}},Ks=Gs,Xs=Ks;q()(Gs,"components",{QTable:J.Z,QTr:ae.Z,QTd:R.Z,QBtn:$.Z});const ei={name:"DefaultEvents",components:{Default2NodeServicesList:Xs,Default2NodeServiceDiagnostics:$s},setup(){const e=(0,a.f3)("store");return(0,a.wF)((()=>{e.methods.update_services_component("Default2NodeServicesList")})),{store:e}}},li=(0,g.Z)(ei,[["render",Fs]]),ti=li,ai={class:"text-h6"},ni={class:"row"},oi={class:"col"},si={class:"col"},ii={class:"col"};function di(e,l,t,o,s,i){return(0,a.wg)(),(0,a.iD)("div",ai,[(0,a._)("div",ni,[(0,a._)("div",oi,"Node number : "+(0,n.zw)(o.store.state.selected_node),1),(0,a._)("div",si,(0,n.zw)(o.store.state.layout.nodeDetails[o.store.state.selected_node].name),1),(0,a._)("div",ii,"Type : "+(0,n.zw)(o.store.state.nodes[o.store.state.selected_node].moduleName),1)])])}const ri={name:"NodeDetails",setup(){const e=(0,a.f3)("store");return{store:e}}},ui=(0,g.Z)(ri,[["render",di]]),pi=ui,mi={name:"mergDefault2",components:{Default2Info:zo,Default2Variables:ss,Default2Events:Os,NodeDetails:pi,Default2NodeServices:ti},setup(){const e=(0,a.f3)("store");return{tab:(0,W.iH)("info"),store:e}}},ci=(0,g.Z)(mi,[["render",yo]]),bi=ci;q()(mi,"components",{QTabs:rt.Z,QTab:ut.Z,QTabPanels:pt.Z,QTabPanel:mt.Z});const vi={name:"node",components:{mergDefault2:bi},setup(){const e=(0,a.f3)("store"),l=e.state.nodes[e.state.selected_node].component;return{store:e,mergDefault2:bi,display_component:l}}},yi=(0,g.Z)(vi,[["render",vo]]),fi=yi,wi=(0,a._)("div",{class:"text-h6"},"Nodes",-1),gi=(0,a._)("div",{class:"text-h6"},"Node Descriptors",-1),_i=(0,a._)("div",{class:"text-h6"},"Events",-1),Vi=(0,a._)("div",{class:"text-h6"},"Layout",-1),Ni=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),xi=(0,a._)("div",{class:"text-h6"},"Node Traffic",-1),Si=(0,a._)("div",{class:"text-h6"},"Cbus Errors",-1);function qi(e,l,t,o,s,i){const d=(0,a.up)("q-tab"),r=(0,a.up)("q-tabs"),u=(0,a.up)("q-tab-panel"),p=(0,a.up)("q-tab-panels"),m=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:o.tab,"onUpdate:modelValue":l[0]||(l[0]=e=>o.tab=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{name:"cbusErrors",label:"Cbus Errors"}),(0,a.Wm)(d,{name:"events",label:"Events"}),(0,a.Wm)(d,{name:"layout",label:"Layout"}),(0,a.Wm)(d,{name:"layouts",label:"Layouts"}),(0,a.Wm)(d,{name:"nodes",label:"Nodes"}),(0,a.Wm)(d,{name:"nodeDescriptors",label:"Node Descriptors"}),(0,a.Wm)(d,{name:"traffic",label:"Traffic"})])),_:1},8,["modelValue"]),(0,a.Wm)(p,{modelValue:o.tab,"onUpdate:modelValue":l[1]||(l[1]=e=>o.tab=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{name:"nodes"},{default:(0,a.w5)((()=>[wi,(0,a._)("pre",null,"              "+(0,n.zw)(o.store.state.nodes)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"nodeDescriptors"},{default:(0,a.w5)((()=>[gi,(0,a._)("pre",null,"              "+(0,n.zw)(o.store.state.nodeDescriptors)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"events"},{default:(0,a.w5)((()=>[_i,(0,a._)("pre",null,"              "+(0,n.zw)(o.store.state.events)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"layout"},{default:(0,a.w5)((()=>[Vi,(0,a._)("pre",null,"            "+(0,n.zw)(o.store.state.layout)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"layouts"},{default:(0,a.w5)((()=>[Ni,(0,a._)("pre",null,"            "+(0,n.zw)(o.store.state.layouts_list)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"traffic"},{default:(0,a.w5)((()=>[xi,(0,a._)("pre",null,"            "+(0,n.zw)(o.store.state.nodeTraffic)+"\n            ",1)])),_:1}),(0,a.Wm)(u,{name:"cbusErrors"},{default:(0,a.w5)((()=>[Si,(0,a._)("pre",null,"            "+(0,n.zw)(o.store.state.cbus_errors)+"\n            ",1)])),_:1})])),_:1},8,["modelValue"])])),_:1})])])}t(6061);const hi={name:"JSON",setup(){const e=(0,a.f3)("store");return{tab:(0,W.iH)("nodes"),store:e}}},ki=(0,g.Z)(hi,[["render",qi]]),Wi=ki;q()(hi,"components",{QCard:L.Z,QTabs:rt.Z,QTab:ut.Z,QTabPanels:pt.Z,QTabPanel:mt.Z});const Ii=(0,a._)("div",{class:"col-4 q-table__title text-h4"},"CBUS Errors",-1),Ui={key:0},Ti={__name:"CbusErrors",setup(e){const l=(0,a.f3)("store"),t=(0,W.iH)(""),o=[{name:"id",field:"id",required:!0,label:"Error Id",align:"left",sortable:!0},{name:"Error",field:"Error",required:!0,label:"Error",align:"left",sortable:!0},{name:"Message",field:"Message",required:!0,label:"Message",align:"left",sortable:!0},{name:"node",field:"node",required:!0,label:"Node",align:"left",sortable:!0},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],s=()=>{l.methods.clear_cbus_errors()};return(e,i)=>{const d=(0,a.up)("q-space"),r=(0,a.up)("q-icon"),u=(0,a.up)("q-input"),p=(0,a.up)("q-btn"),m=(0,a.up)("q-td"),c=(0,a.up)("q-tr"),b=(0,a.up)("q-table");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,[(0,a.Wm)(b,{title:"Nodes",rows:Object.values((0,W.SU)(l).state.cbus_errors),columns:o,filter:t.value,"row-key":"id","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[Ii,(0,a.Wm)(d),(0,a.Wm)(u,{outlined:"",dense:"",debounce:"300",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(d),(0,a.Wm)(p,{color:"negative",label:"Clear Errors",onClick:s,"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(c,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{key:"id",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,a.Wm)(m,{key:"type",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props"]),(0,a.Wm)(m,{key:"Error",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Error),1)])),_:2},1032,["props"]),(0,a.Wm)(m,{key:"Message",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Message),1)])),_:2},1032,["props"]),(0,a.Wm)(m,{key:"node",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.node),1)])),_:2},1032,["props"]),(0,a.Wm)(m,{key:"count",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,W.SU)(l).state.debug?((0,a.wg)(),(0,a.iD)("p",Ui,(0,n.zw)(Object.values((0,W.SU)(l).state.cbus_errors)),1)):(0,a.kq)("",!0)])])}}},Di=Ti,Ci=Di;q()(Ti,"components",{QBtn:$.Z,QTable:J.Z,QSpace:te.Z,QInput:Y.Z,QIcon:N.Z,QTr:ae.Z,QTd:R.Z});const Ei={class:"bg-primary q-pa-md"},Zi={class:"q-pa-md q-mr-sm rounded-borders"},Bi=(0,a._)("div",{class:"text-h4 text-white"},"Elements Page",-1),Qi={class:"q-pa-md row"},Hi={class:"q-pa-md row"},zi={__name:"Elements",setup(e){(0,a.f3)("store"),(0,W.iH)("Variable"),(0,W.iH)(!1),(0,W.iH)("Error Message");const l=(0,W.iH)(256),t=(0,W.iH)(1),n=(0,W.iH)("Variable");return(e,o)=>{const s=(0,a.up)("q-input"),i=(0,a.up)("node-variable"),d=(0,a.up)("q-card");return(0,a.wg)(),(0,a.iD)("div",Ei,[(0,a._)("div",Zi,[Bi,(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a._)("div",Qi,[(0,a.Wm)(s,{class:"q-pa-md",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=e=>n.value=e),label:"Name"},null,8,["modelValue"]),(0,a.Wm)(s,{class:"q-pa-md",modelValue:l.value,"onUpdate:modelValue":o[1]||(o[1]=e=>l.value=e),label:"Node Number"},null,8,["modelValue"]),(0,a.Wm)(s,{class:"q-pa-md",modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=e=>t.value=e),label:"Variable Number"},null,8,["modelValue"])]),(0,a._)("div",Hi,[(0,a.Wm)(i,{"node-variable-index":t.value,"node-number":l.value,name:n.value},null,8,["node-variable-index","node-number","name"])])])),_:1})])])}}},ji=zi,Oi=ji;q()(zi,"components",{QCard:L.Z,QInput:Y.Z});const Fi=JSON.parse('{"name":"MMC-CLIENT","version":"0.1.3","description":"Module Management Console Client","productName":"MMC","author":"David Ellis","private":true,"scripts":{"lint":"eslint --ext .js,.vue ./","format":"prettier --write \\"**/*.{js,vue,scss,html,md,json}\\" --ignore-path .gitignore","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@quasar/extras":"^1.0.0","core-js":"^3.6.5","quasar":"^2.0.0","sass":"^1.69.5","socket.io-client":"^4.4.1","vue":"^3.0.0","vue-json-pretty":"^1.8.2","vue-router":"^4.0.0"},"devDependencies":{"@babel/eslint-parser":"^7.13.14","@quasar/app":"^3.0.0","eslint":"^7.14.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.0.0","eslint-webpack-plugin":"^2.4.0","prettier":"^2.5.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 12.22.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}'),Pi={class:"bg-primary q-pa-md"},Mi={class:"q-pa-md bg-white rounded-borders"},Li=(0,a._)("div",{class:"text-h4"},"System",-1),Ai=(0,a._)("div",{class:"text-h6"},"Backend",-1),Yi=(0,a._)("div",{class:"text-h6"},"Frontend",-1),$i={__name:"System",setup(e){const l=(0,a.f3)("store"),t=()=>{l.methods.STOP_SERVER()};return(e,o)=>{const s=(0,a.up)("q-card"),i=(0,a.up)("q-btn"),d=(0,a.up)("q-input"),r=(0,a.up)("q-checkbox");return(0,a.wg)(),(0,a.iD)("div",Pi,[(0,a._)("div",Mi,[Li,(0,a.Wm)(s,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[Ai,(0,a._)("div",null,"Backend App version "+(0,n.zw)(JSON.stringify((0,W.SU)(l).state.version.App)),1),(0,a._)("div",null,"API version "+(0,n.zw)(JSON.stringify((0,W.SU)(l).state.version.API)),1),(0,a._)("div",null,"node version "+(0,n.zw)(JSON.stringify((0,W.SU)(l).state.version.node)),1)])),_:1}),(0,a.Wm)(s,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[Yi,(0,a._)("div",null,"Frontend App version "+(0,n.zw)((0,W.SU)(Fi).version),1),(0,a._)("div",null,"Quasar framework "+(0,n.zw)(e.$q.version),1),(0,a._)("div",null,"Vue version "+(0,n.zw)(a.i8))])),_:1}),(0,a.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{color:"negative",label:"stop Server",onClick:o[0]||(o[0]=e=>t()),"no-caps":""}),(0,a.Uk)(" This will signal the server to stop and close the page ")])),_:1}),(0,a.wy)((0,a.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"Next Assigned Node ID",hint:"hint",outlined:"",modelValue:(0,W.SU)(l).state.layout.layoutDetails.nextNodeId,"onUpdate:modelValue":o[1]||(o[1]=e=>(0,W.SU)(l).state.layout.layoutDetails.nextNodeId=e),onChange:o[2]||(o[2]=e=>(0,W.SU)(l).methods.update_layout())},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:(0,W.SU)(l).state.layout.layoutDetails.assignId,"onUpdate:modelValue":o[3]||(o[3]=e=>(0,W.SU)(l).state.layout.layoutDetails.assignId=e),label:"Assign Id"},null,8,["modelValue"])])),_:1},512),[[ie.F8,(0,W.SU)(l).state.advanced]]),(0,a.Wm)(s,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{modelValue:(0,W.SU)(l).state.debug,"onUpdate:modelValue":o[4]||(o[4]=e=>(0,W.SU)(l).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:(0,W.SU)(l).state.advanced,"onUpdate:modelValue":o[5]||(o[5]=e=>(0,W.SU)(l).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:(0,W.SU)(l).state.develop,"onUpdate:modelValue":o[6]||(o[6]=e=>(0,W.SU)(l).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1})])])}}},Ji=$i,Ri=Ji;q()($i,"components",{QCard:L.Z,QBtn:$.Z,QInput:Y.Z,QCheckbox:De.Z});const Gi=(0,a._)("div",{class:"text-h6"}," Bus Events Dialog ",-1),Ki=(0,a._)("div",{class:"col-2 q-table__title text-h4"},"Bus Events",-1),Xi="BusEventsDialog",ed={__name:"BusEventsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=((0,W.iH)("nodes"),(0,W.iH)("")),s={rowsPerPage:0};let i=(0,W.iH)();const d=[{name:"expand",field:"expand",required:!0,label:"Expand",align:"left",sortable:!1},{name:"eventName",field:"name",required:!0,label:"Event Name",align:"left",sortable:!1},{name:"eventIdentifier",field:"id",required:!0,label:"Event Identifier",align:"left",sortable:!1},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!1},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event Number",align:"left",sortable:!1},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!1},{name:"type",field:"type",required:!0,label:"Type",align:"left",sortable:!1},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],r=e,u=l,p=(0,a.Fl)({get(){return r.modelValue},set(e){u("update:modelValue",e)}});(0,a.YP)(p,(()=>{console.log(Xi+": WATCH model")}));const m=(0,a.Fl)((()=>Object.values(t.state.events))),c=(0,a.Fl)((()=>t.state.layout));(0,a.YP)(m,(()=>{b()})),(0,a.YP)(c,(()=>{b()}));const b=()=>{let e=[],l=t.state.events;for(let t of Object.keys(l).sort()){let a={};a["id"]=l[t].id,a["nodeNumber"]=l[t].nodeNumber,a["eventNumber"]=l[t].eventNumber,a["status"]=l[t].status,a["type"]=l[t].type,a["count"]=l[t].count,a["name"]=v(l[t].id),a["colour"]=y(l[t].id),a["group"]=f(l[t].id),e.push(a)}i.value=e},v=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].name:JSON.stringify(e),y=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].colour:"blue",f=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].group:"";return(0,a.wF)((()=>{t.methods.query_all_nodes()})),(0,a.bv)((()=>{for(var e in t.methods.refresh_events(),t.state.nodes)console.log("request Events for node "+e),t.methods.request_all_node_events(e)})),(e,l)=>{const r=(0,a.up)("q-btn"),u=(0,a.up)("q-banner"),m=(0,a.up)("q-space"),c=(0,a.up)("q-icon"),b=(0,a.up)("q-input"),v=(0,a.up)("q-td"),f=(0,a.up)("q-chip"),w=(0,a.up)("q-tr"),g=(0,a.up)("q-table"),_=(0,a.up)("q-card-actions"),V=(0,a.up)("q-card"),N=(0,a.up)("q-dialog"),x=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(N,{modelValue:p.value,"onUpdate:modelValue":l[4]||(l[4]=e=>p.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(V,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(r,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[x]])])),default:(0,a.w5)((()=>[Gi])),_:1}),(0,a.Wm)(g,{title:"Events",rows:(0,W.SU)(i),columns:d,filter:o.value,"row-key":"id","virtual-scroll":"",pagnation:s,"onUpdate:pagnation":l[3]||(l[3]=e=>s=e),"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[Ki,(0,a.Wm)(m),(0,a.Wm)(b,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(c,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(m),(0,a.Wm)(r,{color:"negative",label:"Refresh Events",onClick:l[1]||(l[1]=e=>(0,W.SU)(t).methods.refresh_events()),"no-caps":""}),(0,a.Wm)(m),(0,a.Wm)(r,{color:"negative",label:"Clear Events",onClick:l[2]||(l[2]=e=>(0,W.SU)(t).methods.clear_events()),"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(w,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{key:"expand","auto-width":""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{size:"sm",color:"accent",round:"",dense:"",onClick:l=>e.expand=!e.expand,icon:e.expand?"remove":"add"},null,8,["onClick","icon"])])),_:2},1024),(0,a.Wm)(v,{key:"eventName",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.name),1)])),_:2},1032,["props","class"]),(0,a.Wm)(v,{key:"eventIdentifier",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props","class"]),(0,a.Wm)(v,{key:"nodeNumber",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.nodeNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(v,{key:"eventNumber",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.eventNumber),1)])),_:2},1032,["props","class"]),(0,a.Wm)(v,{key:"status",props:e},{default:(0,a.w5)((()=>["on"==e.row.status?((0,a.wg)(),(0,a.j4)(f,{key:0,color:"white","text-color":"green"},{default:(0,a.w5)((()=>[(0,a.Uk)("ON")])),_:1})):((0,a.wg)(),(0,a.j4)(f,{key:1,color:"white","text-color":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)("OFF")])),_:1}))])),_:2},1032,["props"]),(0,a.Wm)(v,{key:"type",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props","class"]),(0,a.Wm)(v,{key:"count",props:e,class:(0,n.C_)("text-"+y(e.row.id))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props","class"])])),_:2},1032,["props"]),(0,a.wy)((0,a.Wm)(w,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{colspan:"100%"},{default:(0,a.w5)((()=>[(0,a.Wm)(Ne,{eventIdentifier:e.row.id,nodeNumber:e.row.nodeNumber,eventNumber:e.row.eventNumber,type:e.row.type},null,8,["eventIdentifier","nodeNumber","eventNumber","type"])])),_:2},1024)])),_:2},1032,["props"]),[[ie.F8,e.expand]])])),_:1},8,["rows","filter"]),(0,a.Wm)(_,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(r,{flat:"",label:"Close"},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},ld=ed,td=ld;q()(ed,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QSpace:te.Z,QInput:Y.Z,QIcon:N.Z,QTr:ae.Z,QTd:R.Z,QChip:ne.Z,QCardActions:Ye.Z}),q()(ed,"directives",{ClosePopup:$e.Z});const ad=(0,a._)("div",{class:"text-h6"}," Cbus Error Dialog ",-1),nd=(0,a._)("div",{class:"col-4 q-table__title text-h4"},"CBUS Errors",-1),od={key:0},sd="CbusErrorsDialog",id={__name:"CbusErrorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(""),s=[{name:"id",field:"id",required:!0,label:"Error Id",align:"left",sortable:!0},{name:"Error",field:"Error",required:!0,label:"Error",align:"left",sortable:!0},{name:"Message",field:"Message",required:!0,label:"Message",align:"left",sortable:!0},{name:"node",field:"node",required:!0,label:"Node",align:"left",sortable:!0},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],i=e,d=l,r=(0,a.Fl)({get(){return i.modelValue},set(e){d("update:modelValue",e)}});(0,a.YP)(r,(()=>{console.log(sd+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const u=()=>{t.methods.clear_cbus_errors()};return(e,l)=>{const i=(0,a.up)("q-btn"),d=(0,a.up)("q-banner"),p=(0,a.up)("q-space"),m=(0,a.up)("q-icon"),c=(0,a.up)("q-input"),b=(0,a.up)("q-td"),v=(0,a.up)("q-tr"),y=(0,a.up)("q-table"),f=(0,a.up)("q-card-actions"),w=(0,a.up)("q-card"),g=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(g,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[ad])),_:1}),(0,a.Wm)(y,{title:"Nodes",rows:Object.values((0,W.SU)(t).state.cbus_errors),columns:s,filter:o.value,"row-key":"id","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.w5)((()=>[nd,(0,a.Wm)(p),(0,a.Wm)(c,{outlined:"",dense:"",debounce:"300",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),placeholder:"Search"},{append:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"search"})])),_:1},8,["modelValue"]),(0,a.Wm)(p),(0,a.Wm)(i,{color:"negative",label:"Clear Errors",onClick:u,"no-caps":""})])),body:(0,a.w5)((e=>[(0,a.Wm)(v,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{key:"id",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.id),1)])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"type",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.type),1)])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"Error",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Error),1)])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"Message",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.Message),1)])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"node",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.node),1)])),_:2},1032,["props"]),(0,a.Wm)(b,{key:"count",props:e},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.row.count),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),(0,W.SU)(t).state.debug?((0,a.wg)(),(0,a.iD)("p",od,(0,n.zw)(Object.values((0,W.SU)(t).state.cbus_errors)),1)):(0,a.kq)("",!0),(0,a.Wm)(f,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(i,{flat:"",label:"Close"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},dd=id,rd=dd;q()(id,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QTable:J.Z,QSpace:te.Z,QInput:Y.Z,QIcon:N.Z,QTr:ae.Z,QTd:R.Z,QCardActions:Ye.Z}),q()(id,"directives",{ClosePopup:$e.Z});const ud=(0,a._)("div",{class:"text-h6"}," JSON Dialog ",-1),pd=(0,a._)("div",{class:"text-h6"},"Nodes",-1),md=(0,a._)("div",{class:"text-h6"},"Node Descriptors",-1),cd=(0,a._)("div",{class:"text-h6"},"Events",-1),bd=(0,a._)("div",{class:"text-h6"},"Layout",-1),vd=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),yd=(0,a._)("div",{class:"text-h6"},"Node Traffic",-1),fd=(0,a._)("div",{class:"text-h6"},"Cbus Errors",-1),wd="JsonDialog",gd={__name:"JsonDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)("nodes"),s=e,i=l,d=(0,a.Fl)({get(){return s.modelValue},set(e){i("update:modelValue",e)}});return(0,a.YP)(d,(()=>{console.log(wd+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const s=(0,a.up)("q-btn"),i=(0,a.up)("q-banner"),r=(0,a.up)("q-tab"),u=(0,a.up)("q-tabs"),p=(0,a.up)("q-tab-panel"),m=(0,a.up)("q-tab-panels"),c=(0,a.up)("q-card"),b=(0,a.up)("q-card-actions"),v=(0,a.up)("q-dialog"),y=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(v,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.w5)((()=>[(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[y]])])),default:(0,a.w5)((()=>[ud])),_:1}),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{name:"cbusErrors",label:"Cbus Errors"}),(0,a.Wm)(r,{name:"events",label:"Events"}),(0,a.Wm)(r,{name:"layout",label:"Layout"}),(0,a.Wm)(r,{name:"layouts",label:"Layouts"}),(0,a.Wm)(r,{name:"nodes",label:"Nodes"}),(0,a.Wm)(r,{name:"nodeDescriptors",label:"Node Descriptors"}),(0,a.Wm)(r,{name:"traffic",label:"Traffic"})])),_:1},8,["modelValue"]),(0,a.Wm)(m,{modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),animated:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{name:"nodes"},{default:(0,a.w5)((()=>[pd,(0,a._)("pre",null,"              "+(0,n.zw)((0,W.SU)(t).state.nodes)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"nodeDescriptors"},{default:(0,a.w5)((()=>[md,(0,a._)("pre",null,"              "+(0,n.zw)((0,W.SU)(t).state.nodeDescriptors)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"events"},{default:(0,a.w5)((()=>[cd,(0,a._)("pre",null,"              "+(0,n.zw)((0,W.SU)(t).state.events)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"layout"},{default:(0,a.w5)((()=>[bd,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(t).state.layout)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"layouts"},{default:(0,a.w5)((()=>[vd,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(t).state.layouts_list)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"traffic"},{default:(0,a.w5)((()=>[yd,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(t).state.nodeTraffic)+"\n            ",1)])),_:1}),(0,a.Wm)(p,{name:"cbusErrors"},{default:(0,a.w5)((()=>[fd,(0,a._)("pre",null,"            "+(0,n.zw)((0,W.SU)(t).state.cbus_errors)+"\n            ",1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.Wm)(b,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(s,{flat:"",label:"Close"},null,512),[[y]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},_d=gd,Vd=_d;q()(gd,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QTabs:rt.Z,QTab:ut.Z,QTabPanels:pt.Z,QTabPanel:mt.Z,QCardActions:Ye.Z}),q()(gd,"directives",{ClosePopup:$e.Z});const Nd=(0,a._)("div",{class:"text-h6"}," Manage Layout ",-1),xd={class:"q-pa-md q-mr-sm rounded-borders"},Sd={class:"text-h5 text-black"},qd={class:"text-h6 text-black"},hd={class:"q-pa-md row"},kd=(0,a._)("div",{class:"text-h6"},"Change layout",-1),Wd=(0,a._)("p",null,"Click on the list of layouts to select an existing layout, or enter a name for a new layout, then click change",-1),Id=(0,a._)("div",{class:"text-h6"},"List of Layouts",-1),Ud=(0,a._)("div",{class:"text-h6 text-black"},"Edit layout details",-1),Td="LayoutDialog",Dd={__name:"LayoutDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=(0,W.iH)(""),s=(0,W.iH)([]),i=[{name:"layout",field:"layout",required:!0,label:"Layout",align:"left",sortable:!0}],d=e,r=l,u=(0,a.Fl)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.YP)(u,(()=>{console.log(Td+": WATCH model"),m()}));const p=(0,a.Fl)((()=>Object.values(t.state.layouts_list)));(0,a.YP)(p,(()=>{console.log(Td+": WATCH layoutList"),m()}));const m=()=>{s.value=[],p.value.forEach((e=>{console.log(Td+": update "+e),s.value.push({layout:e})}))},c=()=>{console.log(Td+": Change layout"),t.methods.change_layout(o.value),t.methods.request_layout_list(),o.value=""},b=e=>{console.log(Td+": clickLayouts on ",e),o.value=e};return(0,a.wF)((()=>{})),(0,a.bv)((()=>{})),(e,l)=>{const d=(0,a.up)("q-btn"),r=(0,a.up)("q-banner"),p=(0,a.up)("q-input"),m=(0,a.up)("q-card-section"),v=(0,a.up)("q-card"),y=(0,a.up)("q-td"),f=(0,a.up)("q-table"),w=(0,a.up)("q-card-actions"),g=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(g,{modelValue:u.value,"onUpdate:modelValue":l[4]||(l[4]=e=>u.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{style:{"min-width":"900px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.w5)((()=>[Nd])),_:1}),(0,a._)("div",xd,[(0,a._)("div",Sd,(0,n.zw)((0,W.SU)(t).state.layout.layoutDetails.title),1),(0,a._)("div",qd,(0,n.zw)((0,W.SU)(t).state.layout.layoutDetails.subTitle),1)]),(0,a._)("div",hd,[(0,a.Wm)(v,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[kd,(0,a.Wm)(p,{class:"q-pa-sm",outlined:"",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),label:"layout name",maxlength:"30"},null,8,["modelValue"]),Wd,(0,a.Wm)(d,{color:"negative",label:"change",onClick:l[1]||(l[1]=e=>c()),"no-caps":""})])),_:1})])),_:1}),(0,a.Wm)(v,{inline:"",class:"q-pa-xs",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"q-pa-xs"},{default:(0,a.w5)((()=>[Id,(0,a.Wm)(f,{flat:"",bordered:"",dense:"",rows:s.value,columns:i,"row-key":"name","hide-header":"",pagination:{rowsPerPage:10}},{"body-cell":(0,a.w5)((e=>[(0,a.Wm)(y,{props:e},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{flat:"",color:"primary",label:e.value,onClick:l=>b(e.value)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.Wm)(v,{inline:"",class:"q-pa-md",flat:"",style:{"max-width":"500px"}},{default:(0,a.w5)((()=>[Ud,(0,a.Wm)(p,{label:"Sub Title",outlined:"",modelValue:(0,W.SU)(t).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,W.SU)(t).state.layout.layoutDetails.subTitle=e),onChange:l[3]||(l[3]=e=>(0,W.SU)(t).methods.update_layout())},null,8,["modelValue"])])),_:1})]),(0,a.Wm)(w,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(d,{flat:"",label:"Close"},null,512),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Cd=Dd,Ed=Cd;q()(Dd,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QCardSection:A.Z,QInput:Y.Z,QTable:J.Z,QTd:R.Z,QCardActions:Ye.Z}),q()(Dd,"directives",{ClosePopup:$e.Z});const Zd=(0,a._)("div",{class:"text-h6"}," Manage Layout ",-1),Bd=(0,a._)("div",{class:"text-h6"},"Backend",-1),Qd=(0,a._)("div",{class:"text-h6"},"Frontend",-1),Hd="SystemDialog",zd={__name:"SystemDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.f3)("store"),o=e,s=l,i=(0,a.Fl)({get(){return o.modelValue},set(e){s("update:modelValue",e)}});(0,a.YP)(i,(()=>{console.log(Hd+": WATCH model")})),(0,a.wF)((()=>{})),(0,a.bv)((()=>{}));const d=()=>{console.log(Hd+": clickStop"),t.methods.STOP_SERVER()};return(e,l)=>{const o=(0,a.up)("q-btn"),s=(0,a.up)("q-banner"),r=(0,a.up)("q-card"),u=(0,a.up)("q-input"),p=(0,a.up)("q-checkbox"),m=(0,a.up)("q-card-actions"),c=(0,a.up)("q-dialog"),b=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(c,{modelValue:i.value,"onUpdate:modelValue":l[7]||(l[7]=e=>i.value=e),persistent:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{style:{"min-width":"900px"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[b]])])),default:(0,a.w5)((()=>[Zd])),_:1}),(0,a.Wm)(r,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[Bd,(0,a._)("div",null,"Backend App version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.App)),1),(0,a._)("div",null,"API version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.API)),1),(0,a._)("div",null,"node version "+(0,n.zw)(JSON.stringify((0,W.SU)(t).state.version.node)),1)])),_:1}),(0,a.Wm)(r,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.w5)((()=>[Qd,(0,a._)("div",null,"Frontend App version "+(0,n.zw)((0,W.SU)(Fi).version),1),(0,a._)("div",null,"Quasar framework "+(0,n.zw)(e.$q.version),1),(0,a._)("div",null,"Vue version "+(0,n.zw)(a.i8))])),_:1}),(0,a.Wm)(r,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(o,{color:"negative",label:"stop Server",onClick:l[0]||(l[0]=e=>d()),"no-caps":""}),(0,a.Uk)(" This will signal the server to stop and close the page ")])),_:1}),(0,a.wy)((0,a.Wm)(r,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:"Next Assigned Node ID",hint:"hint",outlined:"",modelValue:(0,W.SU)(t).state.layout.layoutDetails.nextNodeId,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,W.SU)(t).state.layout.layoutDetails.nextNodeId=e),onChange:l[2]||(l[2]=e=>(0,W.SU)(t).methods.update_layout())},null,8,["modelValue"]),(0,a.Wm)(p,{modelValue:(0,W.SU)(t).state.layout.layoutDetails.assignId,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,W.SU)(t).state.layout.layoutDetails.assignId=e),label:"Assign Id"},null,8,["modelValue"])])),_:1},512),[[ie.F8,(0,W.SU)(t).state.advanced]]),(0,a.Wm)(r,{class:"q-pa-md",flat:""},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{modelValue:(0,W.SU)(t).state.debug,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,W.SU)(t).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,a.Wm)(p,{modelValue:(0,W.SU)(t).state.advanced,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,W.SU)(t).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,a.Wm)(p,{modelValue:(0,W.SU)(t).state.develop,"onUpdate:modelValue":l[6]||(l[6]=e=>(0,W.SU)(t).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{align:"right",class:"text-primary"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(o,{flat:"",label:"Close"},null,512),[[b]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},jd=zd,Od=jd;q()(zd,"components",{QDialog:Le.Z,QCard:L.Z,QBanner:Ae.Z,QBtn:$.Z,QInput:Y.Z,QCheckbox:De.Z,QCardActions:Ye.Z}),q()(zd,"directives",{ClosePopup:$e.Z});const Fd=[],Pd=(0,a.aZ)({components:{busEventsDialog:td,cbusErrorsDialog:rd,jsonDialog:Vd,layoutDialog:Ed,systemDialog:Od,EssentialLink:k,Home:Z,Layout:K,NodePage:bo,Nodes:se,JSON:Wi,events:ke,settings:Ee,node:fi,Elements:Oi,CbusErrors:Ci,system:Ri},setup(){const e="MainLayout",l=(0,W.iH)(!1),t=(0,a.f3)("store"),n=(0,W.iH)(!1),o=(0,W.iH)(!1),s=(0,W.iH)(!1),i=(0,W.iH)(!1),d=(0,W.iH)(!1),r=t.state.nodeTraffic;function u(){console.log(e+": clickCbusErrors"),o.value=!0}function p(){console.log(e+": clickBusEvents"),n.value=!0}function m(){console.log(e+": clickJson"),s.value=!0}function c(){console.log(e+": clickLayout"),i.value=!0}function b(){console.log(e+": clickSystem"),d.value=!0}return{store:t,essentialLinks:Fd,traffic:r,leftDrawerOpen:l,clickBusEvents:p,clickCbusErrors:u,clickJson:m,clickLayout:c,clickSystem:b,showBusEventsDialog:n,showCbusErrorsDialog:o,showJsonDialog:s,showLayoutDialog:i,showSystemDialog:d,toggleLeftDrawer(){l.value=!l.value}}}});var Md=t(4267),Ld=t(3812),Ad=t(9570),Yd=t(6335),$d=t(7011),Jd=t(3747),Rd=t(2901),Gd=t(2652),Kd=t(4379),Xd=t(6489);const er=(0,g.Z)(Pd,[["render",y],["__scopeId","data-v-e9fd4424"]]),lr=er;q()(Pd,"components",{QLayout:Md.Z,QHeader:Ld.Z,QToolbar:Ad.Z,QBtn:$.Z,QMenu:Yd.Z,QList:$d.Z,QItem:_.Z,QItemSection:V.Z,QToolbarTitle:Jd.Z,QDrawer:Rd.Z,QCard:L.Z,QBanner:Ae.Z,QItemLabel:x.Z,QPageContainer:Gd.Z,QPage:Kd.Z}),q()(Pd,"directives",{Ripple:Xd.Z})}}]);