"use strict";(globalThis["webpackChunkMMC_CLIENT"]=globalThis["webpackChunkMMC_CLIENT"]||[]).push([[149],{3149:(e,l,t)=>{t.r(l),t.d(l,{default:()=>Gs});var a=t(1758),n=t(8734),o=t(8790),s=(t(9862),t(4907)),i=t(8336);t(239);function d(e){return new Promise((function(l,t){setTimeout((()=>{l()}),e)}))}const r={__name:"EventVariableBit",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},bit:{type:Number,required:!0},name:{type:String,required:!1},hint:{type:String,default:""}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.WQ)("store")),o={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},s=(0,n.KR)(!1),i=(0,a.EW)((()=>t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex)));(0,a.wB)(i,(()=>{s.value=!!(i.value&o[l.bit])}));const d=()=>{let e=i.value;console.log(`EventVariableBit update_checked ${s.value} ${e}`),s.value?e|=o[l.bit]:e&=~o[l.bit],console.log(`EventVariableBit update_checked-2 ${s.value} ${e}`),t.methods.event_teach_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex,e)};return(0,a.sV)((()=>{var e=t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex);s.value=!!(e&o[l.bit])})),(l,t)=>{const n=(0,a.g2)("q-checkbox");return(0,a.uX)(),(0,a.Wv)(n,{"min-width":"100",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),label:e.name,onClick:d,"left-label":""},null,8,["modelValue","label"])}}};var u=t(7022),c=t(8582),m=t.n(c);const b=r,v=b;m()(r,"components",{QCheckbox:u.A});const p={class:"text-h6"},g={class:"text-subtitle2"},f={__name:"EventVariableBitArray",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){(0,a.WQ)("store");return(0,a.sV)((()=>{})),(l,t)=>{const s=(0,a.g2)("q-card-section"),i=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(i,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",p,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",g,(0,o.v_)(e.displaySubTitle),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.bitCollection,(l=>((0,a.uX)(),(0,a.CE)("div",{key:l},[(0,a.bF)((0,n.R1)(v),{nodeNumber:e.nodeNumber,eventVariableIndex:e.eventVariableIndex,eventIdentifier:e.eventIdentifier,bit:l.bitPosition,name:l.label},null,8,["nodeNumber","eventVariableIndex","eventIdentifier","bit","name"])])))),128))])),_:1})])),_:1})}}};var y=t(3316),k=t(4189);const _=f,V=_;m()(f,"components",{QCard:y.A,QCardSection:k.A});const N={class:"text-h6"},h={class:"text-subtitle2"},q={__name:"EventVariableBitSingle",props:{nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},bit:{type:Number,required:!0}},setup(e){(0,a.WQ)("store");return(0,a.sV)((()=>{})),(l,t)=>{const s=(0,a.g2)("q-card-section"),i=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(i,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",N,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",h,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)((0,n.R1)(v),{nodeNumber:e.nodeNumber,eventIdentifier:e.eventIdentifier,eventVariableIndex:e.eventVariableIndex,bit:e.bit},null,8,["nodeNumber","eventIdentifier","eventVariableIndex","bit"])])),_:1})])),_:1})}}},x=q,F=x;m()(q,"components",{QCard:y.A,QCardSection:k.A});const C={class:"q-pa-xs row"},I={style:{border:"2px solid grey"},class:"q-pa-xs no-margin"},w={class:"GroupTitle q-py-none"},A="EventVariableGroup",R={__name:"EventVariableGroup",props:{configuration:Object,nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},setup(e){(0,a.WQ)("store");return(0,a.sV)((()=>{console.log(A+": onMounted")})),(l,t)=>((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("div",I,[(0,a.Lk)("div",w,(0,o.v_)(e.configuration.displayTitle),1),(0,a.bF)((0,n.R1)(fe),{configuration:e.configuration.groupItems,nodeNumber:e.nodeNumber,eventIndex:e.eventIndex,eventIdentifier:e.eventIdentifier},null,8,["configuration","nodeNumber","eventIndex","eventIdentifier"])])]))}};var Q=t(2807);const E=(0,Q.A)(R,[["__scopeId","data-v-079347a0"]]),S=E,T={class:"text-h6"},W={class:"text-subtitle2"},L={__name:"EventVariableNumber",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},name:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7},displayOffset:{type:Number,default:0}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,n.KR)(),r=(0,a.EW)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableNumber: bitMask2 : ${r.value}`);const u=(0,a.EW)((()=>t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex)));(0,a.wB)(u,(()=>{d.value=((u.value&r.value)>>l.startBit)+l.displayOffset}));const c=e=>{let a=u.value,n=e;n-=l.displayOffset,n<l.min||n>l.max||""==e?(s.value=!0,i.value="Invalid Value "+e+" : Valid Range "+(l.min+l.displayOffset)+" - "+(l.max+l.displayOffset)):(n<<=l.startBit,a|=n&r.value,a&=n|~r.value,i.value="",s.value=!1,t.methods.event_teach_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex,a))};return(0,a.sV)((()=>{console.log("EventVariableNumber: onMounted");let e=t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex);d.value=((e&r.value)>>l.startBit)+l.displayOffset})),(l,t)=>{const n=(0,a.g2)("q-input"),r=(0,a.g2)("q-card-section"),u=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(u,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",T,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",W,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{mask:"###",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":i.value,error:s.value,onChange:c},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}};var B=t(7837);const D=L,K=D;function U(e,l,t){var a=null;if(l.nv){var n=t.state.nodes[e].nodeVariables[l.nv];for(var o in l.labels)n==l.labels[o].value&&(a=l.labels[o].label)}return console.log("overloadedLabel: element "+JSON.stringify(l)+" result = "+a),a}function X(e,l,t,a){var n=!0;if(void 0!=l.evBit)if(void 0!=a){var o=t.state.nodes[e].storedEventsNI[a];if(o){var s=o.variables[l.evBit.index];s=(s&2**l.evBit.bit)>>l.evBit.bit,n=O(s,l),console.log("parseLogicElement: evBit result = "+n)}else console.log("parseLogicElement: ERROR: evBit - event variables undefined ")}else console.log("parseLogicElement: ERROR: evBit - event index (argument3) not defined ");if(void 0!=l.ev)if(void 0!=a){o=t.state.nodes[e].storedEventsNI[a];if(o){s=o.variables[l.ev];n=O(s,l),console.log("parseLogicElement: ev result = "+n)}else console.log("parseLogicElement: ERROR: ev - event variables undefined ")}else console.log("parseLogicElement: ERROR: ev - event index (argument3) not defined ");if(void 0!=l.nvBit){s=t.state.nodes[e].nodeVariables[l.nvBit.index];s=(s&2**l.nvBit.bit)>>l.nvBit.bit,n=O(s,l),console.log("parseLogicElement: nvBit result = "+n)}if(void 0!=l.nv){s=t.state.nodes[e].nodeVariables[l.nv];n=O(s,l),console.log("parseLogicElement: nv result = "+n)}return n}function O(e,l){console.log("testCondition: value "+e+" logic "+JSON.stringify(l));var t=!0;return void 0!=l.equals&&l.equals!=e&&(t=!1),void 0!=l.greaterThan&&e<=l.greaterThan&&(t=!1),void 0!=l.in&&(t=!1,l.in.forEach((function(l){e==l&&(t=!0)}))),void 0!=l.lessThan&&e>=l.lessThan&&(t=!1),void 0!=l.notEqual&&l.notEqual==e&&(t=!1),t}m()(L,"components",{QCard:y.A,QCardSection:k.A,QInput:B.A});const M={class:"text-h6"},P={class:"text-subtitle2"},z={__name:"EventVariableSelect",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)();var i=(0,n.KR)();const d=(0,a.EW)((()=>t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex)));(0,a.wB)(d,(()=>{s.value=d.value&l.bitMask}));const r=e=>{console.log(`EventVariableSelect: newValue ${e.value}`);let a=d.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`EventVariableSelect: byteValue ${a}`),t.methods.event_teach_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex,a)};return(0,a.sV)((()=>{console.log("EventVariableSelect: onMounted");let e=t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex);for(var a in s.value=e&l.bitMask,i.value=[],l.options)if(console.log(`EventVariableComplexSelect: item: ${a}`),void 0!=l.options[a].overload){var n=U(l.nodeNumber,l.options[a].overload,t);if(n){var o={value:l.options[a].value,label:n};i.value.push(o)}}else void 0!=l.options[a].label&&i.value.push(l.options[a]);console.log(`EventVariableSelect: items: ${JSON.stringify(i.value)}`)})),(l,t)=>{const d=(0,a.g2)("q-select"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(c,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",M,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",P,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(d,{modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>s.value=e),r],options:(0,n.R1)(i),"popup-content-class":"q-pm-none","map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}};var $=t(5848);const j=z,H=j;m()(z,"components",{QCard:y.A,QCardSection:k.A,QSelect:$.A});const J={class:"text-h6"},G={class:"text-subtitle2"},Y={__name:"EventVariableSlider",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7}},setup(e){const l=e,t=(l.name?l.name:l.eventVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,a.EW)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));console.log(`EventVariableSlider: bitMask : ${d.value}`);const r=(0,a.EW)({get(){return t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex)},set(e){let a=t.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex);if(console.log(`OldByteValue : ${a}`),console.log(`NewValue : ${e}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let n=e;n<<=l.startBit,a|=n&d.value,a&=n|~d.value,s.value=!1,i.value="",t.methods.event_teach_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex,a)}else console.log(`Invalid Value : ${e}`),i.value="Invalid Value",s.value=!0}}),u=e=>{s.value?console.log(`Invalid Value : ${e}`):console.log(`update slider value : ${e}`)};return(0,a.sV)((()=>{console.log("EventVariableSlider onMounted")})),(l,t)=>{const n=(0,a.g2)("q-badge"),s=(0,a.g2)("q-slider"),i=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(d,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",J,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",G,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{color:"secondary"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(r.value*e.displayScale+e.displayOffset)+" "+(0,o.v_)(e.displayUnits),1)])),_:1}),(0,a.bF)(s,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),max:e.max,min:e.min,onChange:u},null,8,["modelValue","max","min"])])),_:1})])),_:1})}}};var Z=t(3954),ee=t(1444);const le=Y,te=le;m()(Y,"components",{QCard:y.A,QCardSection:k.A,QBadge:Z.A,QSlider:ee.A});const ae={class:"no-padding no-margin"},ne={class:"no-padding no-margin"},oe={class:"no-padding no-margin row",style:{border:"1px solid grey"}},se={__name:"EventVariableTabs",props:{configuration:Object,nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},setup(e){const l=e,t=(0,n.KR)(),o=(0,n.KR)();(0,a.WQ)("store");return(0,a.sV)((()=>{t.value=l.configuration.tabPanels,o.value=t.value[0].displayTitle})),(e,s)=>{const i=(0,a.g2)("q-tab"),d=(0,a.g2)("q-tabs"),r=(0,a.g2)("q-tab-panel"),u=(0,a.g2)("q-tab-panels");return(0,a.uX)(),(0,a.CE)("div",ae,[(0,a.bF)(d,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e),"outside-arrows":"","narrow-indicator":"",dense:"",style:{"max-width":"92vw"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,(e=>((0,a.uX)(),(0,a.Wv)(i,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.Lk)("div",ne,[(0,a.bF)(u,{"keep-alive":"",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=e=>o.value=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,(e=>((0,a.uX)(),(0,a.Wv)(r,{key:e.displayTitle,name:e.displayTitle},{default:(0,a.k6)((()=>[(0,a.Lk)("div",oe,[(0,a.bF)((0,n.R1)(fe),{configuration:e.items,nodeNumber:l.nodeNumber,eventIndex:l.eventIndex,eventIdentifier:l.eventIdentifier},null,8,["configuration","nodeNumber","eventIndex","eventIdentifier"])])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])])}}};var ie=t(2980),de=t(327),re=t(9041),ue=t(1746);const ce=se,me=ce;m()(se,"components",{QTabs:ie.A,QTab:de.A,QTabPanels:re.A,QTabPanel:ue.A});const be={class:"q-pa-xs row"},ve="EventVariables",pe={__name:"EventVariables",props:{configuration:Object,nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},setup(e){const l=e,t=(0,a.WQ)("store"),o=e=>{var a=!0;return e.visibilityLogic&&(a=X(l.nodeNumber,e.visibilityLogic,t,l.eventIdentifier),console.log(ve+": isVisible: eventIndex "+l.eventIndex+" result "+a)),a};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{})),(t,s)=>((0,a.uX)(),(0,a.CE)("div",be,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configuration,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e},["EventVariableBitArray"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(V),{key:0,nodeNumber:l.nodeNumber,eventIdentifier:l.eventIdentifier,eventVariableIndex:e.eventVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIdentifier","eventVariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.Q3)("",!0),"EventVariableBitSingle"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(F),{key:1,nodeNumber:l.nodeNumber,eventIdentifier:l.eventIdentifier,eventVariableIndex:e.eventVariableIndex,bit:e.bit,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["nodeNumber","eventIdentifier","eventVariableIndex","bit","displayTitle","displaySubTitle"])):(0,a.Q3)("",!0),"EventVariableGroup"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(S),{key:2,"node-number":l.nodeNumber,eventIndex:l.eventIndex,eventIdentifier:l.eventIdentifier,configuration:e},null,8,["node-number","eventIndex","eventIdentifier","configuration"])):(0,a.Q3)("",!0),"EventVariableNumber"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(K),{key:3,"node-number":l.nodeNumber,eventIdentifier:l.eventIdentifier,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,startBit:e.startBit,endBit:e.endBit,displayOffset:e.displayOffset,min:e.min,max:e.max,configuration:e},null,8,["node-number","eventIdentifier","eventVariableIndex","displayTitle","displaySubTitle","startBit","endBit","displayOffset","min","max","configuration"])):(0,a.Q3)("",!0),"EventVariableSelect"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(H),{key:4,nodeNumber:l.nodeNumber,eventIdentifier:l.eventIdentifier,eventVariableIndex:e.eventVariableIndex,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeNumber","eventIdentifier","eventVariableIndex","bitMask","displayTitle","displaySubTitle","options"])):(0,a.Q3)("",!0),"EventVariableSlider"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(te),{key:5,"node-number":l.nodeNumber,eventIdentifier:l.eventIdentifier,eventVariableIndex:e.eventVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit},null,8,["node-number","eventIdentifier","eventVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit"])):(0,a.Q3)("",!0),"EventVariableTabs"==e.type&&o(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(me),{key:6,"node-number":l.nodeNumber,eventIndex:l.eventIndex,eventIdentifier:l.eventIdentifier,configuration:e},null,8,["node-number","eventIndex","eventIdentifier","configuration"])):(0,a.Q3)("",!0)])))),128))]))}},ge=pe,fe=ge,ye="EventVariableRaw",ke={__name:"EventVariableRaw",props:{nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0},eventVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Event Variable "+l.eventVariableIndex,o=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,n.KR)(),r=(0,a.EW)((()=>o.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex)));(0,a.wB)(r,(()=>{d.value=r.value}));const u=e=>{try{e<0||e>255||""==e?(s.value=!0,i.value="Invalid Value"):(i.value="",s.value=!1,o.methods.event_teach_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex,e))}catch(t){console.log(ye+": update_event : "+t)}};return(0,a.sV)((()=>{d.value=o.getters.event_variable_by_identifier(l.nodeNumber,l.eventIdentifier,l.eventVariableIndex),console.log(ye+": onMounted: eventValue "+d.value)})),(e,l)=>{const o=(0,a.g2)("q-input"),r=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(c,{class:"q-pa-none",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(o,{mask:"###",label:(0,n.R1)(t),debounce:"1000",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),outlined:"","error-message":i.value,error:s.value,onChange:u},null,8,["label","modelValue","error-message","error"])])),_:1})])),_:1})}}},_e=ke,Ve=_e;m()(ke,"components",{QCard:y.A,QCardSection:k.A,QInput:B.A});const Ne=(0,a.Lk)("div",{class:"text-h6"}," Module Descriptor ",-1),he={class:"row items-start q-gutter-md"},qe={key:0,class:"text-subtitle2"},xe=(0,a.Lk)("p",{class:"text-negative"},"Module Descriptor not found",-1),Fe=[xe],Ce=(0,a.Lk)("div",{class:"text-h6"}," Module Descriptor Data ",-1),Ie={class:"text-h6"},we=(0,a.Lk)("div",{class:"text-h6"}," File upload ",-1),Ae=(0,a.Lk)("div",{class:"text-subtitle2"},"Select a file to upload",-1),Re=(0,a.Lk)("div",{class:"text-subtitle2"},[(0,a.eW)(" The file will be stored with it's original filename"),(0,a.Lk)("br"),(0,a.eW)(" If the module name is currently unknown, the 'name' portion from the filename will be used"),(0,a.Lk)("br"),(0,a.eW)(" The filename format is moduleName-moduleIdentity-moduleVersion.json ")],-1),Qe=(0,a.Lk)("div",{class:"text-subtitle2"},"Current node:",-1),Ee={class:"text-subtitle2"},Se=(0,a.Lk)("br",null,null,-1),Te=(0,a.Lk)("br",null,null,-1),We=(0,a.Lk)("br",null,null,-1),Le=(0,a.Lk)("div",{class:"text-subtitle2"},"If this module descriptor already exists on the server, it will be overwritten ",-1),Be="ManageModuleDescriptorsDialog",De={__name:"ManageModuleDescriptorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=(0,n.KR)(!1),d=(0,n.KR)(!1),r=(0,n.KR)(!1),u=(0,n.KR)(),c=e,m=l,b=(0,a.EW)({get(){return c.modelValue},set(e){m("update:modelValue",e)}});(0,a.wB)(b,(()=>{console.log(Be+": WATCH model")}));const v=(0,a.EW)((()=>t.state.nodes[t.state.selected_node].moduleDescriptorFilename)),p=(0,a.EW)((()=>{var e="";return t.state.nodes[t.state.selected_node].moduleDescriptorFilename&&(e=t.state.nodes[t.state.selected_node].moduleDescriptorFilename.split(".",1)[0],g()),e}));(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const g=()=>{console.log("checkFileLoad"),t.state.nodeDescriptors[t.state.selected_node]?(r.value=!0,console.log(Be+": WATCH moduleDescriptorFilename "+r.value)):console.log(Be+": checkFileLoad failed for node "+t.state.selected_node)},f=()=>{let e=JSON.stringify(t.state.nodeDescriptors[t.state.selected_node],null,"  "),l=document.createElement("a");l.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(e)),l.setAttribute("download",t.state.nodes[t.state.selected_node].moduleDescriptorFilename),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)},y=()=>{if(u.value){var e=u.value.name;console.log(Be+": selected filename "+e);let l=new FileReader;l.readAsText(u.value),l.onload=function(){try{var a=JSON.parse(l.result);a["moduleDescriptorFilename"]=e,console.log(Be+": actionUpload: "+a.moduleDescriptorFilename),console.log(Be+": actionUpload: result: "+JSON.stringify(a)),t.methods.import_module_descriptor(a)}catch(n){console.log(Be+": actionUpload: failed JSON parse")}},u.value=null}else console.log(Be+": actionUpload: uploadFile no value ")},k=()=>{console.log(Be+": clickDownload"),s.value=!0},_=()=>{console.log(Be+": clickUpload"),i.value=!0},V=()=>{console.log(Be+": clickView"),d.value=!0};return(e,l)=>{const c=(0,a.g2)("q-btn"),m=(0,a.g2)("q-banner"),g=(0,a.g2)("q-card-section"),N=(0,a.g2)("q-card-actions"),h=(0,a.g2)("q-card"),q=(0,a.g2)("q-dialog"),x=(0,a.g2)("q-file"),F=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(q,{modelValue:b.value,"onUpdate:modelValue":l[9]||(l[9]=e=>b.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[F]])])),default:(0,a.k6)((()=>[Ne])),_:1}),(0,a.Lk)("div",he,[(0,a.bF)(h,{class:"q-pa-sm",style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(p.value)+" ",1),r.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",qe,Fe))])),_:1}),(0,a.bF)(N,{align:"evenly",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{color:"positive",disabled:!r.value,label:"View",onClick:l[0]||(l[0]=e=>V()),"no-caps":""},null,8,["disabled"]),(0,a.bF)(c,{color:"positive",disabled:!r.value,label:"Download",onClick:l[1]||(l[1]=e=>k()),"no-caps":""},null,8,["disabled"]),(0,a.bF)(c,{color:"positive",label:"Upload",onClick:l[2]||(l[2]=e=>_()),"no-caps":""})])),_:1})])),_:1})]),(0,a.bF)(q,{modelValue:d.value,"onUpdate:modelValue":l[3]||(l[3]=e=>d.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[F]])])),default:(0,a.k6)((()=>[Ce])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(N,{align:"right",class:"text-primary"}),(0,a.Lk)("p",null,(0,o.v_)(JSON.stringify((0,n.R1)(t).state.nodeDescriptors[(0,n.R1)(t).state.selected_node],null,"  ")),1)])),_:1}),(0,a.bF)(N,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{color:"positive",label:"Close"},null,512),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(q,{modelValue:s.value,"onUpdate:modelValue":l[5]||(l[5]=e=>s.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[F]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Ie," Download "+(0,o.v_)(v.value),1)])),_:1}),(0,a.bF)(N,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{color:"positive",label:"Download",onClick:l[4]||(l[4]=e=>f(v.value))},null,512),[[F,2]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)(q,{modelValue:i.value,"onUpdate:modelValue":l[8]||(l[8]=e=>i.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{style:{"min-width":"500px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[F]])])),default:(0,a.k6)((()=>[we])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[Ae,Re])),_:1}),(0,a.bF)(x,{modelValue:u.value,"onUpdate:modelValue":l[6]||(l[6]=e=>u.value=e),label:"Pick one file",filled:"",style:{"max-width":"300px"}},null,8,["modelValue"]),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[Qe,(0,a.Lk)("div",Ee,[(0,a.eW)(" Module name: "+(0,o.v_)((0,n.R1)(t).state.nodes[(0,n.R1)(t).state.selected_node].moduleName),1),Se,(0,a.eW)(" Module identifier: "+(0,o.v_)((0,n.R1)(t).state.nodes[(0,n.R1)(t).state.selected_node].moduleIdentifier),1),Te,(0,a.eW)(" Module version: "+(0,o.v_)((0,n.R1)(t).state.nodes[(0,n.R1)(t).state.selected_node].moduleVersion),1),We])])),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)((()=>[Le])),_:1}),(0,a.bF)(N,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{color:"positive",label:"Upload",onClick:l[7]||(l[7]=e=>y())},null,512),[[F]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])}}};var Ke=t(2156),Ue=t(6868),Xe=t(1693),Oe=t(2669),Me=t(9980),Pe=t(8672);const ze=De,$e=ze;m()(De,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QCardActions:Oe.A,QFile:Me.A}),m()(De,"directives",{ClosePopup:Pe.A});const je={class:"text-h6"},He={key:0,class:"text-h6"},Je={class:"q-pa-xs row"},Ge={class:"q-pa-xs row"},Ye=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Variables descriptor"),(0,a.Lk)("br")],-1),Ze={class:"text-body2"},el={class:"q-pa-xs row"},ll=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Stored events"),(0,a.Lk)("br")],-1),tl={class:"text-body2"},al="EventVariablesdialog",nl={__name:"EventVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIndex:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,s.A)(),i=(0,a.WQ)("store"),d=(0,n.KR)(),r=(0,n.KR)(!1),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(!1),v=(0,n.KR)(null),p=e,g=l,f=(0,a.EW)({get(){return p.modelValue},set(e){g("update:modelValue",e)}});(0,a.wB)(f,(()=>{r.value=!1,m.value=!1,v.value=p.eventIndex})),(0,a.wB)(p.nodeNumber,(()=>{})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{console.log(al+": onUpdated:");try{for(let e in i.state.nodes[p.nodeNumber].storedEvents);p.nodeNumber&&p.eventIndex?(void 0!=i.state.nodeDescriptors[p.nodeNumber]?(d.value=i.state.nodeDescriptors[p.nodeNumber].eventVariables,u.value=!1):(d.value={},r.value=!0,u.value=!0),y()):r.value=!0}catch(e){console.log(al+": onUpdated: error: "+e)}}));const y=()=>{1!=i.state.loadFile_notification_raised[p.nodeNumber]&&("Unknown"==i.state.nodes[p.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),i.state.loadFile_notification_raised[p.nodeNumber]=!0):void 0!=i.state.nodes[p.nodeNumber].moduleDescriptorFilename&&void 0==i.state.nodeDescriptors[p.nodeNumber]&&(t.notify({message:"Failed to load module file "+i.state.nodes[p.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),i.state.loadFile_notification_raised[p.nodeNumber]=!0),i.state.loadFile_notification_raised[p.nodeNumber])},k=()=>{console.log(al+": clickToggleVariablesDescriptor"),m.value?m.value=!1:m.value=!0},_=()=>{console.log(al+": clickToggleRaw"),r.value?r.value=!1:r.value=!0},V=()=>{console.log(al+": clickToggleStoredEvents:"),b.value=!b.value},N=()=>{console.log(al+": clickUpdateModuleDescriptor"),c.value=!0};return(e,l)=>{const t=(0,a.g2)("q-btn"),s=(0,a.g2)("q-banner"),g=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-separator"),h=(0,a.g2)("q-card"),q=(0,a.g2)("q-card-actions"),x=(0,a.g2)("q-dialog"),F=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(x,{modelValue:f.value,"onUpdate:modelValue":l[5]||(l[5]=e=>f.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bF)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>N())}),(0,a.bo)((0,a.bF)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[F]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",je," Node: "+(0,o.v_)((0,n.R1)(i).getters.node_name(p.nodeNumber))+"       Event: "+(0,o.v_)((0,n.R1)(i).getters.event_name(p.eventIdentifier))+"       ",1)])),_:1})])),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{action:(0,a.k6)((()=>[(0,a.bF)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[1]||(l[1]=e=>N())})])),default:(0,a.k6)((()=>[u.value?((0,a.uX)(),(0,a.CE)("div",He," *** Descriptor not loaded for this node *** ")):(0,a.Q3)("",!0)])),_:1}),(0,a.Lk)("div",Je,[(0,n.R1)(i).state.nodeDescriptors[p.nodeNumber]?((0,a.uX)(),(0,a.Wv)((0,n.R1)(fe),{key:0,configuration:(0,n.R1)(i).state.nodeDescriptors[p.nodeNumber].eventVariables,nodeNumber:p.nodeNumber,eventIndex:v.value,eventIdentifier:p.eventIdentifier},null,8,["configuration","nodeNumber","eventIndex","eventIdentifier"])):(0,a.Q3)("",!0)]),(0,a.bF)(y),r.value?((0,a.uX)(),(0,a.Wv)(g,{key:0,class:"q-pa-xs row"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(i).state.nodes[p.nodeNumber].parameters[5],(e=>((0,a.uX)(),(0,a.Wv)((0,n.R1)(Ve),{eventVariableIndex:e,nodeNumber:p.nodeNumber,eventIdentifier:p.eventIdentifier,key:e},null,8,["eventVariableIndex","nodeNumber","eventIdentifier"])))),128)),(0,a.bF)(y)])),_:1})):(0,a.Q3)("",!0),m.value?((0,a.uX)(),(0,a.Wv)(g,{key:1,class:"q-pa-xs"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ge,[Ye,(0,a.Lk)("div",Ze,[(0,a.Lk)("pre",null,(0,o.v_)(d.value),1)])]),(0,a.bF)(y)])),_:1})):(0,a.Q3)("",!0),b.value?((0,a.uX)(),(0,a.Wv)(g,{key:2,class:"q-pa-xs"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",el,[ll,(0,a.Lk)("div",tl,[(0,a.Lk)("pre",null,(0,o.v_)((0,n.R1)(i).state.nodes[p.nodeNumber].storedEventsNI),1)])]),(0,a.bF)(y)])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(q,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(t,{flat:"",label:"Toggle stored events view",onClick:l[2]||(l[2]=e=>V())}),(0,a.bF)(t,{flat:"",label:"Toggle variable descriptor view",onClick:l[3]||(l[3]=e=>k())}),(0,a.bF)(t,{flat:"",label:"Toggle raw view",onClick:l[4]||(l[4]=e=>_())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)($e),{modelValue:c.value,"onUpdate:modelValue":l[6]||(l[6]=e=>c.value=e)},null,8,["modelValue"])],64)}}};var ol=t(386);const sl=nl,il=sl;m()(nl,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QSeparator:ol.A,QCardActions:Oe.A}),m()(nl,"directives",{ClosePopup:Pe.A});const dl={class:"text-h6"},rl={key:0,class:"text-h6"},ul={key:0},cl={class:"q-gutter-sm"},ml={key:0},bl=(0,a.Lk)("div",{class:"text-h4"},"Node Number",-1),vl=(0,a.Lk)("div",{class:"text-h6"},"Consumed events will need the number of the node that produces the event",-1),pl=(0,a.Lk)("div",{class:"text-h6"},"Events produced by this node will need the number of this node, as well as editing the event variables",-1),gl=(0,a.Lk)("div",{class:"text-h4"},"Event Number",-1),fl={key:1},yl=(0,a.Lk)("div",{class:"text-h4"},"Device Number",-1),kl={key:2},_l=(0,a.Lk)("div",{class:"text-h6"},"Once event is added, select edit for the event from the event list to modify event variables",-1),Vl="AddEventDialog",Nl={__name:"AddEventDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(),i=(0,n.KR)(),d=(0,n.KR)(!0);var r=(0,n.KR)();const u=(0,n.KR)(!1),c=(0,n.KR)(""),m=(0,n.KR)(0),b=e,v=l,p=(0,a.EW)({get(){return b.modelValue},set(e){v("update:modelValue",e)}});(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{console.log(Vl+" OnUpdated"),0==t.state.nodes[t.state.selected_node].parameters[4]&&d.value,s.value=null,i.value=null,r.value=null,0==t.state.nodes[t.state.selected_node].parameters[4]&&(d.value=!1,console.log(Vl+" OnUpdated - addEvent disabled "))}));const g=()=>{"short"==r.value&&(s.value=0),c.value=parseInt(s.value).toString(16).toUpperCase().padStart(4,0)+parseInt(i.value).toString(16).toUpperCase().padStart(4,0);var e=t.state.nodes[t.state.selected_node];e.storedEventsNI[c.value]={eventIdentifier:c.value,eventIndex:1,node:t.state.selected_node,variables:{}},e.storedEventsNI[c.value].variables[0]=e.parameters[5];for(var l=1;l<=e.parameters[5];l++)e.storedEventsNI[c.value].variables[l]=0;console.log("createNewEvent - newEventIdentifier "+c.value),u.value=!0};return(e,l)=>{const b=(0,a.g2)("q-btn"),v=(0,a.g2)("q-banner"),f=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-radio"),k=(0,a.g2)("q-input"),_=(0,a.g2)("q-card-actions"),V=(0,a.g2)("q-card"),N=(0,a.g2)("q-dialog"),h=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(N,{modelValue:p.value,"onUpdate:modelValue":l[6]||(l[6]=e=>p.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(V,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(b,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[h]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",dl," Add event for node "+(0,o.v_)((0,n.R1)(t).getters.node_name((0,n.R1)(t).state.selected_node)),1)])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[0==d.value?((0,a.uX)(),(0,a.CE)("div",rl," This module does not support any stored events ")):(0,a.Q3)("",!0)])),_:1}),d.value?((0,a.uX)(),(0,a.CE)("div",ul,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",cl,[(0,a.bF)(y,{modelValue:(0,n.R1)(r),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,n.i9)(r)?r.value=e:r=e),val:"long",label:"Long event"},null,8,["modelValue"]),(0,a.bF)(y,{modelValue:(0,n.R1)(r),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.i9)(r)?r.value=e:r=e),val:"short",label:"Short event"},null,8,["modelValue"])])])),_:1}),"long"==(0,n.R1)(r)?((0,a.uX)(),(0,a.CE)("div",ml,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[bl])),_:1}),(0,a.bF)(f,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[vl,pl])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[gl])),_:1}),(0,a.bF)(f,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{dense:"",modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.Q3)("",!0),"short"==(0,n.R1)(r)?((0,a.uX)(),(0,a.CE)("div",fl,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[yl])),_:1}),(0,a.bF)(f,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{dense:"",modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value=e),autofocus:""},null,8,["modelValue"])])),_:1})])):(0,a.Q3)("",!0),null!=(0,n.R1)(r)?((0,a.uX)(),(0,a.CE)("div",kl,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[_l])),_:1})])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),(0,a.bF)(_,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[d.value?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(b,{key:0,flat:"",label:"Add Event",onClick:l[5]||(l[5]=e=>g())},null,512)),[[h]]):(0,a.Q3)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)(il),{modelValue:u.value,"onUpdate:modelValue":l[7]||(l[7]=e=>u.value=e),nodeNumber:(0,n.R1)(t).state.selected_node,eventIndex:m.value,eventIdentifier:c.value},null,8,["modelValue","nodeNumber","eventIndex","eventIdentifier"])],64)}}};var hl=t(7878);const ql=Nl,xl=ql;m()(Nl,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QRadio:hl.A,QInput:B.A,QCardActions:Oe.A}),m()(Nl,"directives",{ClosePopup:Pe.A});const Fl={class:"text-h6"},Cl=(0,a.Lk)("div",{class:"text-h6"},"Are you sure you want to delete all events for this node?",-1),Il="DeleteAllEventsDialog",wl={__name:"DeleteAllEventsDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=e,i=l,d=(0,a.EW)({get(){return s.modelValue},set(e){i("update:modelValue",e)}}),r=()=>{console.log(Il+": deleteAllEvents "+s.nodeNumber),t.methods.delete_all_events(t.state.selected_node)};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const s=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),b=(0,a.g2)("q-dialog"),v=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(b,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Fl," Delete all events for node "+(0,o.v_)((0,n.R1)(t).getters.node_name((0,n.R1)(t).state.selected_node)),1)])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[Cl])),_:1}),(0,a.bF)(c,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",color:"positive",label:"Yes",onClick:l[0]||(l[0]=e=>r())},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Al=wl,Rl=Al;m()(wl,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QCardActions:Oe.A}),m()(wl,"directives",{ClosePopup:Pe.A});const Ql={class:"text-h6"},El="AdvancedEventsDialog",Sl={__name:"AdvancedEventsDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}}),u=()=>{console.log(El+": deleteAllEvents "+i.nodeNumber),s.value=!0};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const d=(0,a.g2)("q-btn"),c=(0,a.g2)("q-banner"),m=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),p=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(v,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Ql," Advanced events : "+(0,o.v_)((0,n.R1)(t).getters.event_name(i.eventIdentifier)),1)])),_:1}),(0,a.bF)(m,{align:"left",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"positive",label:"Delete all events",onClick:l[0]||(l[0]=e=>u())},null,512),[[p]])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)(Rl),{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=e=>s.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"])],64)}}},Tl=Sl,Wl=Tl;m()(Sl,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardActions:Oe.A}),m()(Sl,"directives",{ClosePopup:Pe.A});const Ll={class:"text-h6"},Bl={class:"text-h6"},Dl={class:"text-h6"},Kl=(0,a.Lk)("div",{class:"text-h6"},"Generate event",-1),Ul=(0,a.Lk)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),Xl={class:"q-pa-md q-gutter-sm"},Ol="SendEventDialog",Ml={__name:"SendEventDialog",props:{modelValue:{type:Boolean,required:!0},eventNumber:{type:Number,required:!0},sendingNodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}});(0,a.wB)(r,(()=>{console.log(Ol+": WATCH model")})),(0,a.KC)((()=>{console.log("SendEventDialog onBeforeMount")})),(0,a.sV)((()=>{console.log("SendEventDialog onMounted")}));const u=()=>{console.log("send on "+i.eventIdentifier);var e=parseInt(i.eventIdentifier.slice(0,4),16);0==e?t.methods.short_on_event(i.sendingNodeNumber,i.eventNumber):t.methods.long_on_event(e,i.eventNumber)},c=()=>{console.log("send off "+i.eventIdentifier);var e=parseInt(i.eventIdentifier.slice(0,4),16);0==e?t.methods.short_off_event(i.sendingNodeNumber,i.eventNumber):t.methods.long_off_event(e,i.eventNumber)};return(e,l)=>{const d=(0,a.g2)("q-btn"),m=(0,a.g2)("q-banner"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-card-actions"),p=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(g,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[f]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Ll," Test event : "+(0,o.v_)((0,n.R1)(t).getters.event_name(i.eventIdentifier)),1)])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.Lk)("div",Bl,"Sending Node "+(0,o.v_)(i.sendingNodeNumber),1),(0,a.Lk)("div",Dl,"Event "+(0,o.v_)(s.value)+":"+(0,o.v_)(i.eventNumber),1)])),_:1}),(0,a.bF)(b,{class:"q-pa-md"},{default:(0,a.k6)((()=>[Kl,Ul,(0,a.Lk)("div",Xl,[(0,a.bo)((0,a.bF)(d,{color:"green",label:"ON",onClick:l[0]||(l[0]=e=>u())},null,512),[[f]]),(0,a.bo)((0,a.bF)(d,{color:"negative",label:"OFF",onClick:l[1]||(l[1]=e=>c())},null,512),[[f]])])])),_:1}),(0,a.bF)(v,{align:"right",class:"text-primary"})])),_:1})])),_:1},8,["modelValue"])}}},Pl=Ml,zl=Pl;m()(Ml,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QCardActions:Oe.A}),m()(Ml,"directives",{ClosePopup:Pe.A});const $l={class:"text-h6"},jl=(0,a.Lk)("div",{class:"text-h6"},"Are you sure you want to delete this event?",-1),Hl={__name:"DeleteEventDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=e,i=l,d=(0,a.EW)({get(){return s.modelValue},set(e){i("update:modelValue",e)}}),r=()=>{console.log("removeEvent "+s.nodeNumber+" "+s.eventIdentifier),t.methods.remove_event(s.nodeNumber,s.eventIdentifier)};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const i=(0,a.g2)("q-btn"),u=(0,a.g2)("q-banner"),c=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),p=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",$l," Delete event : "+(0,o.v_)((0,n.R1)(t).getters.event_name(s.eventIdentifier)),1)])),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[jl])),_:1}),(0,a.bF)(m,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(i,{flat:"",color:"positive",label:"Yes",onClick:l[0]||(l[0]=e=>r())},null,512),[[p]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Jl=Hl,Gl=Jl;m()(Hl,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QCardActions:Oe.A}),m()(Hl,"directives",{ClosePopup:Pe.A});const Yl={class:"text-h6"},Zl=(0,a.Lk)("div",{class:"text-h6"},"Event name",-1),et={__name:"NameEventDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}}),u=()=>{console.log("new event name: "+i.eventIdentifier+" "+s.value),t.setters.event_name(i.eventIdentifier,s.value),s.value=""};return(0,a.$u)((()=>{console.log("NameEventDialog onUpdated "+i.eventIdentifier),t.state.layout.eventDetails[i.eventIdentifier]&&(s.value=t.state.layout.eventDetails[i.eventIdentifier].name)})),(e,l)=>{const d=(0,a.g2)("q-btn"),c=(0,a.g2)("q-banner"),m=(0,a.g2)("q-input"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-card-actions"),p=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(g,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(c,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[f]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Yl," Edit name for event : "+(0,o.v_)((0,n.R1)(t).getters.event_name(i.eventIdentifier)),1)])),_:1}),(0,a.bF)(b,{class:"q-pt-none"},{default:(0,a.k6)((()=>[Zl,(0,a.bF)(m,{dense:"",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(v,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",label:"Accept",onClick:l[1]||(l[1]=e=>u())},null,512),[[f]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},lt=et,tt=lt;m()(et,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QInput:B.A,QCardActions:Oe.A}),m()(et,"directives",{ClosePopup:Pe.A});const at={class:"text-h6"},nt=(0,a.Lk)("div",{class:"text-h6"},"Teach Event",-1),ot=(0,a.Lk)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),st={class:"q-pa-xs q-gutter-sm"},it=(0,a.Lk)("div",{class:"text-h6"},"Taught Events",-1),dt=(0,a.Lk)("div",{class:"text-subtitle2"},"Nodes using this event",-1),rt="EventTeachDialog",ut={__name:"EventTeachDialog",props:{modelValue:{type:Boolean,required:!0},eventIdentifier:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=(0,n.KR)(0),d=(0,n.KR)(0),r=(0,n.KR)(!1),u=e,c=l,m=(0,a.EW)({get(){return u.modelValue},set(e){c("update:modelValue",e)}}),b=(0,n.KR)(),v=(0,n.KR)([]),p=(0,n.KR)([]),g=(0,n.KR)([]),f=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0},{name:"index",field:"index",required:!0,label:"Index",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],y=(0,a.EW)((()=>Object.values(t.state.nodes)));(0,a.wB)(y,(()=>{k()}));const k=()=>{g.value=[],p.value=[],y.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let l=Object.values(e.storedEvents);l.forEach((l=>{if(l.eventIdentifier==u.eventIdentifier){p.value.push(l.node);var a=t.state.layout.nodeDetails[e.nodeNumber].name;g.value.push({number:e.nodeNumber,name:a,eventIndex:l.eventIndex,eventIdentifier:l.eventIdentifier}),V(e.nodeNumber)}}))}})),_()},_=()=>{v.value=[];var e=t.state.nodes;for(var l in e){var a=!0;for(var n in p.value)p.value[n]==l&&(a=!1);if(a&&e[l].consumer){var o=l+": ";t.state.layout.nodeDetails[l]&&(o+=t.state.layout.nodeDetails[l].name),v.value.push(o)}}};(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{console.log("EventTeachDialog onUpdated"),u.eventIdentifier&&k()}));const V=e=>{console.log(rt+": checkNodeParameters "+e),t.state.nodes[e].parameters[9]?console.log(rt+": parameters exist"):(console.log(rt+": need to read parameters"),t.methods.request_all_node_parameters(e,20,100))},N=e=>{for(var l=t.state.nodes[e].parameters[4],a=null,n=1;n<l;n++)if(!t.state.nodes[e].storedEvents[n]){a=n+3;break}return a},h=()=>{if(console.log(rt+`: ${b.value} : ${u.eventIdentifier}`),""!=b.value){var e=b.value.split(":"),l=parseInt(e[0]),a=N(parseInt(e[0]));console.log(`teach_event : ${l} : ${a} : ${u.eventIdentifier}`),t.state.nodes[l].storedEvents[a]={eventIdentifier:u.eventIdentifier,eventIndex:a,node:l,variables:{}},i.value=l,d.value=a,s.value=u.eventIdentifier,r.value=!0}},q=(e,l,t)=>{console.log(rt+": clickVariables "+e+" "+l+" "+t),i.value=e,d.value=l,s.value=t,r.value=!0};return(e,l)=>{const c=(0,a.g2)("q-btn"),p=(0,a.g2)("q-banner"),y=(0,a.g2)("q-card-section"),k=(0,a.g2)("q-select"),_=(0,a.g2)("q-card"),V=(0,a.g2)("q-td"),N=(0,a.g2)("q-tr"),x=(0,a.g2)("q-table"),F=(0,a.g2)("q-dialog"),C=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(F,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(_,{class:"q-pa-none q-ma-none",style:{"min-width":"850px"}},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin g-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(c,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[C]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",at," Teach event : "+(0,o.v_)((0,n.R1)(t).getters.event_name(u.eventIdentifier)),1)])),_:1})])),_:1}),(0,a.bF)(_,{style:{"min-width":"800px"}},{default:(0,a.k6)((()=>[(0,a.bF)(y,{style:{"max-height":"75vh"},class:"q-py-none row"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{style:{width:"250px",height:"200px"},class:"q-ma-md q-py-none"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[nt,ot,(0,a.bF)(k,{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),options:v.value},null,8,["modelValue","options"]),(0,a.Lk)("div",st,[(0,a.bF)(c,{color:"negative",label:"Teach",onClick:l[1]||(l[1]=e=>h()),"no-caps":""})])])),_:1})])),_:1}),(0,a.bF)(_,{style:{"max-height":"70vh"},class:"scroll q-ma-md"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"no-margin q-py-none-xs",style:{width:"450px"}},{default:(0,a.k6)((()=>[it,dt,(0,a.bF)(x,{flat:"",bordered:"",dense:"",rows:g.value,columns:f,"row-key":"number","hide-header":"","hide-bottom":"","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{body:(0,a.k6)((e=>[(0,a.bF)(N,{props:e,class:"q-my-none q-py-none"},{default:(0,a.k6)((()=>[(0,a.bF)(V,{key:"number",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.number),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"name",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.name),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"actions",props:e},{default:(0,a.k6)((()=>[(0,a.bF)(c,{dense:"",class:"q-mx-xs",outline:"",color:"primary",size:"md",label:"Variables",onClick:l=>q(e.row.number,e.row.eventIndex,e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)(il),{modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=e=>r.value=e),nodeNumber:i.value,eventIndex:d.value,eventIdentifier:s.value},null,8,["modelValue","nodeNumber","eventIndex","eventIdentifier"])],64)}}};var ct=t(528),mt=t(4488),bt=t(5262);const vt=ut,pt=vt;m()(ut,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QSelect:$.A,QTable:ct.A,QTr:mt.A,QTd:bt.A}),m()(ut,"directives",{ClosePopup:Pe.A});const gt={style:{height:"45vh"}},ft={class:"text-h6"},yt={class:"full-width"},kt="EventsListByNode",_t={__name:"EventsListByNode",props:{nodeNumber:{type:Number,required:!0}},setup(e){const l=(0,a.WQ)("store"),t=(0,n.KR)([]),s=(0,n.KR)(!1),i=(0,n.KR)(!1),d=(0,n.KR)(!1),r=(0,n.KR)(!1),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(),v=(0,n.KR)(""),p=((0,n.KR)(0),(0,n.KR)(0)),g=(0,n.KR)(0);(0,n.KR)();const f=e,y=[{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"Identifier",align:"left",sortable:!0},{name:"eventName",field:"eventName",required:!1,label:"Name",align:"left",sortable:!0},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Event node",align:"left",sortable:!0},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event number",align:"left",sortable:!0},{name:"eventIndex",field:"eventIndex",required:!0,label:"Event index",align:"left",sortable:!0},{name:"eventType",field:"eventType",required:!0,label:"Event type",align:"left",sortable:!0},{name:"source",field:"source",required:!0,label:"Event source",align:"left",sortable:!0},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!0}],k=(0,a.EW)((()=>l.state.selected_node));(0,a.wB)(k,(()=>{h()}));const _=(0,a.EW)((()=>Object.values(l.state.nodes[l.state.selected_node].storedEvents)));(0,a.wB)(_,(()=>{h()}));const V=(0,a.EW)((()=>Object.values(l.state.busEvents)));(0,a.wB)(V,(()=>{h()}));const N=(0,a.EW)((()=>l.state.layout.eventDetails));(0,a.wB)(N,(()=>{h()}));const h=()=>{t.value=[];var e=Object.values(l.state.nodes[l.state.selected_node].storedEvents);e.forEach((e=>{var a=parseInt(e.eventIdentifier.substr(0,4),16),n=parseInt(e.eventIdentifier.substr(4,4),16);let o={};o["eventIdentifier"]=e.eventIdentifier,o["eventName"]=l.getters.event_name(e.eventIdentifier),o["eventIndex"]=e.eventIndex,o["nodeNumber"]=a,o["eventNumber"]=n,o["eventType"]=0==a?"short":"long",o["storedEvent"]=!0,o["source"]="stored event",t.value.push(o)}));var a=Object.values(l.state.busEvents);a.forEach((a=>{if(a.nodeNumber==l.state.selected_node){var n=!1,o=a.eventIdentifier;if("short"==a.type&&(o="0000"+o.substr(4,4)),e.forEach((e=>{o==e.eventIdentifier&&(n=!0)})),0==n){let e={};e["eventIdentifier"]=o,e["eventName"]=l.getters.event_name(o),e["nodeNumber"]=a.nodeNumber,e["eventNumber"]=a.eventNumber,e["eventType"]=a.type,e["storedEvent"]=!1,e["source"]="bus event",t.value.push(e)}}})),t.value.sort((function(e,l){return e.eventIdentifier<l.eventIdentifier?-1:1}))},q=e=>{console.log(kt+": readEventVariables - eventIndex "+e),l.methods.request_all_event_variables(l.state.selected_node,e,100,l.state.nodes[l.state.selected_node].parameters[5])};(0,a.KC)((()=>{console.log(kt+": onBeforeMount"),h()})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{}));const x=()=>{console.log(kt+": clickAddEvent"),s.value=!0},F=()=>{console.log(kt+": clickAdvanced"),i.value=!0},C=e=>{console.log(kt+": clickDelete"),d.value=!0,v.value=e},I=e=>{console.log(kt+": clickEventName "+e),v.value=e,b.value=l.getters.event_name(e),c.value=!0},w=()=>{console.log(kt+": clickRefresh"),l.methods.request_all_node_events(l.state.selected_node),h()},A=e=>{console.log(kt+": send OFF "+e);var t=parseInt(e.slice(0,4),16),a=parseInt(e.slice(4,8),16);0==t?l.methods.short_off_event(f.nodeNumber,a):l.methods.long_off_event(t,a)},R=e=>{console.log(kt+": send ON "+e);var t=parseInt(e.slice(0,4),16),a=parseInt(e.slice(4,8),16);0==t?l.methods.short_on_event(f.nodeNumber,a):l.methods.long_on_event(t,a)},Q=e=>{console.log(kt+": clickTeach"),v.value=e,r.value=!0},E=(e,t)=>{q(e),g.value=e,v.value=t,console.log(kt+": clickVariables: node, index "+l.state.selected_node+" "+g.value),u.value=!0};return(e,b)=>{const k=(0,a.g2)("q-btn"),_=(0,a.g2)("q-banner"),V=(0,a.g2)("q-td"),N=(0,a.g2)("q-tr"),h=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)("div",gt,[(0,a.bF)(_,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bF)(k,{class:"q-mx-xs q-my-none",color:"blue",size:"sm",label:"Add Event",onClick:b[0]||(b[0]=e=>x())}),(0,a.bF)(k,{class:"q-mx-xs q-my-none",color:"blue",size:"sm",label:"Advanced",onClick:b[1]||(b[1]=e=>F())}),(0,a.bF)(k,{class:"q-mx-xs q-my-none",color:"blue",size:"sm",label:"Refresh",onClick:b[2]||(b[2]=e=>w())})])),default:(0,a.k6)((()=>[(0,a.Lk)("div",ft," Events for node : "+(0,o.v_)((0,n.R1)(l).getters.node_name((0,n.R1)(l).state.selected_node)),1)])),_:1}),(0,a.Lk)("div",yt,[(0,a.bF)(h,{class:"my-sticky-header-table",bordered:"",dense:"",rows:t.value,columns:y,"row-key":"eventIdentifier","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,"hide-bottom":""},{body:(0,a.k6)((e=>[(0,a.bF)(N,{props:e,class:(0,o.C4)([v.value==e.row.eventIdentifier?"bg-blue-1":"bg-white","q-my-none q-py-none"])},{default:(0,a.k6)((()=>[(0,a.bF)(V,{key:"eventIdentifier",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventIdentifier),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"eventName",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventName),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"nodeNumber",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.nodeNumber),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"eventNumber",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventNumber),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"eventIndex",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventIndex),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"eventType",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventType),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"source",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.source),1)])),_:2},1032,["props"]),(0,a.bF)(V,{key:"actions",props:e},{default:(0,a.k6)((()=>[(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"primary",label:"Name",onClick:l=>I(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",disabled:!e.row.storedEvent,color:"primary",size:"md",label:"Variables",onClick:l=>E(e.row.eventIndex,e.row.eventIdentifier),"no-caps":""},null,8,["disabled","onClick"]),(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"primary",label:"Teach",onClick:l=>Q(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"positive",onClick:l=>R(e.row.eventIdentifier),"no-caps":""},{default:(0,a.k6)((()=>[(0,a.eW)("send ON")])),_:2},1032,["onClick"]),(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"positive",onClick:l=>A(e.row.eventIdentifier),"no-caps":""},{default:(0,a.k6)((()=>[(0,a.eW)("send OFF")])),_:2},1032,["onClick"]),(0,a.bF)(k,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"negative",label:"Delete",onClick:l=>C(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props","class"])])),_:1},8,["rows"])]),(0,a.bF)((0,n.R1)(xl),{modelValue:s.value,"onUpdate:modelValue":b[3]||(b[3]=e=>s.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(Wl),{modelValue:i.value,"onUpdate:modelValue":b[4]||(b[4]=e=>i.value=e),nodeNumber:(0,n.R1)(l).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(tt),{modelValue:c.value,"onUpdate:modelValue":b[5]||(b[5]=e=>c.value=e),eventIdentifier:v.value},null,8,["modelValue","eventIdentifier"]),(0,a.bF)((0,n.R1)(pt),{modelValue:r.value,"onUpdate:modelValue":b[6]||(b[6]=e=>r.value=e),eventIdentifier:v.value},null,8,["modelValue","eventIdentifier"]),(0,a.bF)((0,n.R1)(zl),{modelValue:m.value,"onUpdate:modelValue":b[7]||(b[7]=e=>m.value=e),sendingNodeNumber:(0,n.R1)(l).state.selected_node,eventNumber:p.value,eventIdentifier:v.value},null,8,["modelValue","sendingNodeNumber","eventNumber","eventIdentifier"]),(0,a.bF)((0,n.R1)(Gl),{modelValue:d.value,"onUpdate:modelValue":b[8]||(b[8]=e=>d.value=e),nodeNumber:(0,n.R1)(l).state.selected_node,eventIdentifier:v.value},null,8,["modelValue","nodeNumber","eventIdentifier"]),(0,a.bF)((0,n.R1)(il),{modelValue:u.value,"onUpdate:modelValue":b[9]||(b[9]=e=>u.value=e),nodeNumber:f.nodeNumber,eventIndex:g.value,eventIdentifier:v.value},null,8,["modelValue","nodeNumber","eventIndex","eventIdentifier"])])}}},Vt=_t,Nt=Vt;m()(_t,"components",{QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QTr:mt.A,QTd:bt.A});const ht={class:"text-h6"},qt=(0,a.Lk)("div",{class:"text-h6"},"Are you sure you want to delete this node?",-1),xt="DeleteNodeDialog",Ft={__name:"DeleteNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=e,i=l,d=(0,a.EW)({get(){return s.modelValue},set(e){i("update:modelValue",e)}}),r=()=>{console.log(xt+": deleting node "+s.nodeNumber),t.methods.remove_node(s.nodeNumber),t.eventBus.emit("NODE_DELETED_EVENT",s.nodeNumber)};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const s=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card-actions"),m=(0,a.g2)("q-card"),b=(0,a.g2)("q-dialog"),v=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(b,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[v]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",ht," Delete for node "+(0,o.v_)((0,n.R1)(t).getters.node_name((0,n.R1)(t).state.selected_node)),1)])),_:1}),(0,a.bF)(u,null,{default:(0,a.k6)((()=>[qt])),_:1}),(0,a.bF)(c,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",colour:"positive",label:"Yes",onClick:l[0]||(l[0]=e=>r())},null,512),[[v]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Ct=Ft,It=Ct;m()(Ft,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QCardActions:Oe.A}),m()(Ft,"directives",{ClosePopup:Pe.A});const wt={class:"text-h6"},At={__name:"NameNodeDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}}),u=()=>{console.log("new node name: "+s.value),t.setters.node_name(i.nodeNumber,s.value)};return(0,a.$u)((()=>{console.log("NameNodeDialog onUpdated"),t.state.layout.nodeDetails[i.nodeNumber]&&(s.value=t.state.layout.nodeDetails[i.nodeNumber].name)})),(l,t)=>{const n=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),d=(0,a.g2)("q-input"),c=(0,a.g2)("q-card-section"),m=(0,a.g2)("q-card-actions"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),p=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",wt," Edit name for node : "+(0,o.v_)(e.nodeNumber),1)])),_:1}),(0,a.bF)(c,{class:"q-pt-none"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{dense:"",modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(m,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",label:"Accept",onClick:t[1]||(t[1]=e=>u())},null,512),[[p]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Rt=At,Qt=Rt;m()(At,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QInput:B.A,QCardActions:Oe.A}),m()(At,"directives",{ClosePopup:Pe.A});const Et={__name:"NodeParameter",props:["Name","Value"],setup(e){return(l,t)=>{const n=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(n,{class:"q-pa-xs",flat:""},{default:(0,a.k6)((()=>[(0,a.Lk)("b",null,(0,o.v_)(e.Name),1),(0,a.eW)(" : "+(0,o.v_)(e.Value),1)])),_:1})}}},St=Et,Tt=St;m()(Et,"components",{QCard:y.A});const Wt={class:"text-h6"},Lt={__name:"NodeParametersDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}}),u=(0,a.EW)((()=>t.state.nodes[i.nodeNumber].moduleDescriptorFilename));(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const c=()=>{console.log(name+": clickUpdateModuleDescriptor"),s.value=!0};return(e,l)=>{const d=(0,a.g2)("q-btn"),m=(0,a.g2)("q-banner"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-card"),p=(0,a.g2)("q-dialog"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(p,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,{style:{"min-width":"700px"}},{default:(0,a.k6)((()=>[(0,a.bF)(m,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bF)(d,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>c())}),(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[g]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Wt," Parameter Information for "+(0,o.v_)((0,n.R1)(t).getters.node_name(i.nodeNumber)),1)])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(Tt),{Name:"Node Number",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].nodeNumber},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Events Currently Stored",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].eventCount},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Manufacturer",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].moduleManufacturerName},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Module",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].moduleName},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Module Identifier",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].moduleIdentifier},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Producer",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].producer},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Consumer",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].consumer},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Consume own Events",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].coe},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"VLCB",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].VLCB},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Node Variables",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].parameters[6]},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Events Supported",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].parameters[4]},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Event Variables",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].parameters[5]},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"CPU Name",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].cpuName},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Interface",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].interfaceName},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Firmware Version",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].parameters[7]+String.fromCharCode((0,n.R1)(t).state.nodes[i.nodeNumber].parameters[2])},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Beta Version",Value:(0,n.R1)(t).state.nodes[i.nodeNumber].parameters[20]},null,8,["Value"]),(0,a.bF)((0,n.R1)(Tt),{Name:"Module Descriptor Filename",Value:u.value},null,8,["Value"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)($e),{modelValue:s.value,"onUpdate:modelValue":l[2]||(l[2]=e=>s.value=e)},null,8,["modelValue"])],64)}}},Bt=Lt,Dt=Bt;m()(Lt,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A}),m()(Lt,"directives",{ClosePopup:Pe.A});const Kt={__name:"NodeVariableBit",props:{NodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e;console.log("Node Variable Bit : "+l.NodeNumber);l.Name?l.Name:l.VariableIndex;const t=(0,a.WQ)("store"),o=(0,n.KR)(!1),s={0:1,1:2,2:4,3:8,4:16,5:32,6:64,7:128},i=(0,a.EW)({get(){return t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]},set(e){l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)}});(0,a.wB)(i,((e,a)=>{o.value=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&s[l.Bit])}));const d=()=>{console.log("NodeVariableBit update_checked");let e=i.value;o.value?(e|=s[l.Bit],console.log(`bit ${s[l.Bit]} set, new byte value ${e}`)):(e&=~s[l.Bit],console.log(`bit ${s[l.Bit]} cleared, new byte value ${e}`)),l.learn?t.methods.update_node_variable_in_learn_mode(l.NodeNumber,l.VariableIndex,e):t.methods.update_node_variable(l.NodeNumber,l.VariableIndex,e)};return(0,a.sV)((()=>{const e=!!(t.state.nodes[l.NodeNumber].nodeVariables[l.VariableIndex]&s[l.Bit]);console.log("NodeVariableBit onMounted: Checked"+e),o.value=e})),(l,t)=>{const n=(0,a.g2)("q-checkbox");return(0,a.uX)(),(0,a.Wv)(n,{"min-width":"100",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value=e),label:e.Name,onClick:d,"right-label":""},null,8,["modelValue","label"])}}},Ut=Kt,Xt=Ut;m()(Kt,"components",{QCheckbox:u.A});const Ot={class:"text-h6"},Mt={class:"text-subtitle2"},Pt={__name:"NodeVariableBitArray",props:{nodeNumber:{type:Number,required:!0},VariableIndex:{type:Number,required:!0},bitCollection:{required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""}},setup(e){const l=(0,a.WQ)("store");(0,n.KR)();var t=(0,n.KR)();const s=e,i=(0,a.EW)((()=>l.state.nodes[s.nodeNumber].nodeVariables));function d(){for(var e in t.value=[],s.bitCollection)if(s.bitCollection[e].overload){var a=U(s.nodeNumber,s.bitCollection[e].overload,l);if(a){var n={bitPosition:s.bitCollection[e].bitPosition,label:a};t.value.push(n)}}else s.bitCollection[e].label&&t.value.push(s.bitCollection[e])}return(0,a.wB)(i,(()=>{d()})),(0,a.sV)((()=>{console.log("NodeVariableBitArray onMounted:"),d()})),(s,i)=>{const d=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Ot,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",Mt,(0,o.v_)(e.displaySubTitle),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(t),(t=>((0,a.uX)(),(0,a.CE)("div",{key:t},[(0,a.bF)((0,n.R1)(Xt),{NodeNumber:(0,n.R1)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:t.bitPosition,Name:t.label},null,8,["NodeNumber","VariableIndex","Bit","Name"])])))),128))])),_:1})])),_:1})}}},zt=Pt,$t=zt;m()(Pt,"components",{QCard:y.A,QCardSection:k.A});const jt={class:"text-h6"},Ht={class:"text-subtitle2"},Jt={__name:"NodeVariableBitSingle",props:{VariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,default:""},Bit:{type:Number,required:!0},Name:{type:String,required:!1},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=(0,a.WQ)("store");return(0,a.sV)((()=>{console.log("NodeVariableBitSingle onMounted")})),(t,s)=>{const i=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(d,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",jt,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",Ht,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)((0,n.R1)(Xt),{NodeNumber:(0,n.R1)(l).state.selected_node,VariableIndex:e.VariableIndex,Bit:e.Bit,learn:e.learn,Name:e.Name},null,8,["NodeNumber","VariableIndex","Bit","learn","Name"])])),_:1})])),_:1})}}},Gt=Jt,Yt=Gt;m()(Jt,"components",{QCard:y.A,QCardSection:k.A});const Zt={class:"text-h6"},ea={class:"text-subtitle2"},la={__name:"NodeVariableDual",props:{NodeNumber:{type:Number,required:!0},NodeVariableIndexHigh:{type:Number,required:!0},NodeVariableIndexLow:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:65025},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name&&l.name,(0,a.WQ)("store")),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,n.KR)(),r=(0,a.EW)((()=>(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow]));(0,a.wB)(r,(()=>{d.value=r.value}));const u=e=>{e<l.min||e>l.max?(console.log(`Invalid Value : ${e}`),s.value=!0,i.value="Invalid Value"):(console.log(`Value Ok : ${e}`),s.value=!1,i.value="",t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexHigh,e>>8),t.methods.update_node_variable(l.NodeNumber,l.NodeVariableIndexLow,255&e))};return(0,a.sV)((()=>{d.value=(t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexHigh]<<8)+t.state.nodes[l.NodeNumber].nodeVariables[l.NodeVariableIndexLow],console.log(`NodeVariableDual ${d.value}`)})),(l,t)=>{const n=(0,a.g2)("q-input"),r=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(c,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Zt,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",ea,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{mask:"#####",debounce:"1000",hint:e.hint,modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":i.value,error:s.value,onChange:u},null,8,["hint","modelValue","error-message","error"])])),_:1})])),_:1})}}},ta=la,aa=ta;m()(la,"components",{QCard:y.A,QCardSection:k.A,QInput:B.A});const na={class:"q-pa-xs row"},oa={style:{border:"2px solid grey"},class:"q-pa-xs no-margin"},sa={class:"GroupTitle q-py-none"},ia="NodeVariableGroup",da={__name:"NodeVariableGroup",props:{configuration:Object},setup(e){(0,a.WQ)("store"),(0,n.KR)("nvGroup");return(0,a.sV)((()=>{console.log(ia+": onMounted")})),(0,a.$u)((()=>{console.log(ia+": onUpdated")})),(l,t)=>((0,a.uX)(),(0,a.CE)("div",na,[(0,a.Lk)("div",oa,[(0,a.Lk)("div",sa,(0,o.v_)(e.configuration.displayTitle),1),(0,a.bF)((0,n.R1)(Ba),{configuration:e.configuration.groupItems},null,8,["configuration"])])]))}},ra=(0,Q.A)(da,[["__scopeId","data-v-0e3f6613"]]),ua=ra,ca={class:"text-h6"},ma={class:"text-subtitle2"},ba={__name:"NodeVariableNumber",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},max:{type:Number,default:255},min:{type:Number,default:0},hint:{type:String,default:""},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,n.KR)(),r=(0,a.EW)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.wB)(r,(()=>{d.value=r.value}));const u=e=>{e<l.min||e>l.max?(s.value=!0,i.value="Invalid Value"):(s.value=!1,i.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.sV)((()=>{d.value=r.value})),(l,t)=>{const n=(0,a.g2)("q-input"),r=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(c,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ca,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",ma,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{mask:"###",debounce:"1000",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),outlined:"","error-message":i.value,error:s.value,onChange:u},null,8,["modelValue","error-message","error"])])),_:1})])),_:1})}}},va=ba,pa=va;m()(ba,"components",{QCard:y.A,QCardSection:k.A,QInput:B.A});const ga={class:"text-h6"},fa={class:"text-subtitle2"},ya={__name:"NodeVariableSelect",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},bitMask:{type:Number,default:255},name:{type:String,required:!1},options:{required:!0},hint:{type:String,default:""},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},learn:{type:Boolean,default:!1}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)(),i=(0,a.EW)((()=>t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.wB)(i,(()=>{s.value=i.value&l.bitMask,console.log("NodeVariableSelect watch variableValue "+s.value+" bitMask "+l.bitMask)}));const d=e=>{console.log(`NodeVariableSelect update_variable ${e.value}`);let a=i.value;a|=e.value&l.bitMask,a&=e.value|~l.bitMask,console.log(`NodeVariableSelect: byteValue ${a}`),t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,a)};return(0,a.sV)((()=>{console.log("NodeVariableSelect: onMounted"),s.value=i.value&l.bitMask})),(l,t)=>{const n=(0,a.g2)("q-select"),i=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{height:"120px"},class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",ga,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",fa,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>s.value=e),d],options:e.options,"map-options":""},null,8,["modelValue","options"])])),_:1})])),_:1})}}},ka=ya,_a=ka;m()(ya,"components",{QCard:y.A,QCardSection:k.A,QSelect:$.A});const Va={class:"text-h6"},Na={class:"text-subtitle2"},ha={key:0},qa="NodeVariableSlider",xa={__name:"NodeVariableSlider",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},displayTitle:{type:String,required:!1},displaySubTitle:{type:String,required:!1},displayScale:{type:Number,default:1},displayUnits:{type:String,default:""},displayOffset:{type:Number,default:0},max:{type:Number,default:255},min:{type:Number,default:0},startBit:{type:Number,default:0},endBit:{type:Number,default:7},configuration:{type:Object}},setup(e){const l=e,t=(l.name?l.name:l.nodeVariableIndex,(0,a.WQ)("store")),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,a.EW)((()=>{for(var e=0,t=l.startBit;t<=l.endBit;t++)e+=1<<t;return e}));let r=t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex];console.log(`NodeVariableSlider: bitMask : ${d.value}`);const u=(0,a.EW)((()=>c.value?{height:"150px"}:{height:"120px"})),c=(0,a.EW)((()=>{var e=!1;return l&&(e=!!l.configuration.outputOnWrite),e}));console.log(qa+": computed outputOnWrite: "+c.value),(0,a.wB)(c,(()=>{console.log(qa+": WATCH outputOnWrite: "+c.value)}));const m=(0,a.EW)({get(){return(t.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]&d.value)>>l.startBit},set(e){if(console.log(`OldByteValue : ${r}`),e<=l.max&&e>=l.min){console.log(`update_variable : ${e}`);let a=e;a<<=l.startBit,r|=a&d.value,r&=a|~d.value,s.value=!1,i.value="",t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,r),console.log(`NewByteValue : ${r}`)}else console.log(`Invalid Value : ${e}`),i.value="Invalid Value",s.value=!0}}),b=e=>{s.value?console.log(`Invalid Value : ${e}`):console.log(`update_variable : ${e}`)};(0,a.$u)((()=>{})),(0,a.sV)((()=>{}));const v=()=>{console.log(qa+": clickTest"),t.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,r)};return(l,t)=>{const n=(0,a.g2)("q-badge"),s=(0,a.g2)("q-slider"),i=(0,a.g2)("q-btn"),d=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-ma-xs no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{style:(0,o.Tr)(u.value),class:"no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Va,(0,o.v_)(e.displayTitle),1),(0,a.Lk)("div",Na,(0,o.v_)(e.displaySubTitle),1),(0,a.bF)(n,{color:"secondary"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(m.value*e.displayScale+e.displayOffset)+" "+(0,o.v_)(e.displayUnits),1)])),_:1}),(0,a.bF)(s,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=e=>m.value=e),max:e.max,min:e.min,onChange:b},null,8,["modelValue","max","min"]),c.value?((0,a.uX)(),(0,a.CE)("div",ha,[(0,a.bF)(i,{dense:"",label:"Test",onClick:t[1]||(t[1]=e=>v()),"no-caps":""})])):(0,a.Q3)("",!0)])),_:1},8,["style"])])),_:1})}}},Fa=xa,Ca=Fa;m()(xa,"components",{QCard:y.A,QCardSection:k.A,QBadge:Z.A,QSlider:ee.A,QBtn:Xe.A});const Ia={class:"no-padding no-margin"},wa={class:"no-padding no-margin row",style:{border:"1px solid grey"}},Aa="NodeVariableTabsA",Ra={__name:"NodeVariableTabs",props:{configuration:Object},setup(e){const l=e,t=(0,n.KR)(),o=(0,n.KR)();(0,a.WQ)("store"),(0,n.KR)("nvTabs"),(0,n.KR)("92vw");return(0,a.sV)((()=>{t.value=l.configuration.tabPanels,o.value=t.value[0].displayTitle})),(0,a.wB)(o,(()=>{console.log(Aa+": WATCH selectedTab "+JSON.stringify(o.value))})),(0,a.$u)((()=>{})),(e,l)=>{const s=(0,a.g2)("q-tab"),i=(0,a.g2)("q-tabs"),d=(0,a.g2)("q-tab-panel"),r=(0,a.g2)("q-tab-panels");return(0,a.uX)(),(0,a.CE)("div",Ia,[(0,a.bF)(i,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),"outside-arrows":"","narrow-indicator":"",dense:"",style:{"max-width":"92vw"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,(e=>((0,a.uX)(),(0,a.Wv)(s,{key:e.displayTitle,label:e.displayTitle,name:e.displayTitle},null,8,["label","name"])))),128))])),_:1},8,["modelValue"]),(0,a.bF)(r,{"keep-alive":"",modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e),class:"no-padding no-margin"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.value,(e=>((0,a.uX)(),(0,a.Wv)(d,{key:e.displayTitle,name:e.displayTitle,class:"no-padding no-margin"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",wa,[(0,a.bF)((0,n.R1)(Ba),{configuration:e.items},null,8,["configuration"])])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}}},Qa=Ra,Ea=Qa;m()(Ra,"components",{QTabs:ie.A,QTab:de.A,QTabPanels:re.A,QTabPanel:ue.A});const Sa={class:"q-pa-xs row"},Ta="NodeVariables",Wa={__name:"NodeVariables",props:{configuration:Object},setup(e){const l=(0,a.WQ)("store");function t(e){var t=!0;return e.visibilityLogic&&(t=X(l.state.selected_node,e.visibilityLogic,l)),console.log(Ta+": isVisible: "+t+" "+e.type),t}return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(0,a.$u)((()=>{})),(o,s)=>((0,a.uX)(),(0,a.CE)("div",Sa,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.configuration,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e},["NodeVariableBitArray"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)($t),{key:0,nodeNumber:(0,n.R1)(l).state.selected_node,VariableIndex:e.nodeVariableIndex,bitCollection:e.bitCollection,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,learn:!1},null,8,["nodeNumber","VariableIndex","bitCollection","displayTitle","displaySubTitle"])):(0,a.Q3)("",!0),"NodeVariableBitSingle"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(Yt),{key:1,NodeNumber:(0,n.R1)(l).state.selected_node,VariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,Bit:e.bit},null,8,["NodeNumber","VariableIndex","displayTitle","displaySubTitle","Bit"])):(0,a.Q3)("",!0),"NodeVariableDual"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(aa),{key:2,NodeVariableIndexLow:e.nodeVariableIndexLow,NodeVariableIndexHigh:e.nodeVariableIndexHigh,NodeNumber:(0,n.R1)(l).state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle},null,8,["NodeVariableIndexLow","NodeVariableIndexHigh","NodeNumber","displayTitle","displaySubTitle"])):(0,a.Q3)("",!0),"NodeVariableGroup"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(ua),{key:3,configuration:e},null,8,["configuration"])):(0,a.Q3)("",!0),"NodeVariableNumber"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(pa),{key:4,"node-number":(0,n.R1)(l).state.selected_node,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,"node-variable-index":e.nodeVariableIndex},null,8,["node-number","displayTitle","displaySubTitle","node-variable-index"])):(0,a.Q3)("",!0),"NodeVariableSelect"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(_a),{key:5,nodeVariableIndex:e.nodeVariableIndex,nodeNumber:(0,n.R1)(l).state.selected_node,bitMask:e.bitMask,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,options:e.options},null,8,["nodeVariableIndex","nodeNumber","bitMask","displayTitle","displaySubTitle","options"])):(0,a.Q3)("",!0),"NodeVariableSlider"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(Ca),{key:6,"node-number":(0,n.R1)(l).state.selected_node,nodeVariableIndex:e.nodeVariableIndex,displayTitle:e.displayTitle,displaySubTitle:e.displaySubTitle,displayScale:e.displayScale,displayUnits:e.displayUnits,displayOffset:e.displayOffset,min:e.min,max:e.max,startBit:e.startBit,endBit:e.endBit,configuration:e},null,8,["node-number","nodeVariableIndex","displayTitle","displaySubTitle","displayScale","displayUnits","displayOffset","min","max","startBit","endBit","configuration"])):(0,a.Q3)("",!0),"NodeVariableTabs"==e.type&&t(e)?((0,a.uX)(),(0,a.Wv)((0,n.R1)(Ea),{key:7,configuration:e},null,8,["configuration"])):(0,a.Q3)("",!0)])))),128))]))}},La=Wa,Ba=La,Da={__name:"NodeVariableRaw",props:{nodeNumber:{type:Number,required:!0},nodeVariableIndex:{type:Number,required:!0},name:{type:String,required:!1}},setup(e){const l=e,t=l.name?l.name:"Variable"+l.nodeVariableIndex,o=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=(0,n.KR)(""),d=(0,n.KR)(),r=(0,a.EW)((()=>o.state.nodes[l.nodeNumber].nodeVariables[l.nodeVariableIndex]));(0,a.wB)(r,(()=>{d.value=r.value}));const u=e=>{e<0||e>255||""==e?(s.value=!0,i.value="Invalid Value"):(s.value=!1,i.value="",o.methods.update_node_variable(l.nodeNumber,l.nodeVariableIndex,e))};return(0,a.sV)((()=>{d.value=r.value})),(e,l)=>{const o=(0,a.g2)("q-input"),r=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(r,{class:"q-pa-xs",flat:"",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(o,{mask:"###",class:"bg-white",filled:"",label:(0,n.R1)(t),debounce:"1000",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),outlined:"","error-message":i.value,error:s.value,onChange:u},null,8,["label","modelValue","error-message","error"])])),_:1})}}},Ka=Da,Ua=Ka;m()(Da,"components",{QCard:y.A,QInput:B.A});const Xa={class:"text-h6"},Oa={key:0,class:"text-h6"},Ma={key:1,class:"text-h6"},Pa={key:1,class:"q-pa-none row"},za={class:"q-pa-xs row"},$a=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Variables descriptor"),(0,a.Lk)("br")],-1),ja={class:"text-body2"},Ha="NodevariablesDialog",Ja={__name:"NodeVariablesDialog",props:{modelValue:{type:Boolean,required:!0},nodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,s.A)(),i=(0,a.WQ)("store"),d=(0,n.KR)(!1),r=(0,n.KR)(!1),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(!1),b=e,v=l,p=(0,a.EW)({get(){return b.modelValue},set(e){v("update:modelValue",e)}});(0,a.wB)(p,(()=>{console.log(Ha+": WATCH model"),r.value=!1,m.value=!1}));const g=(0,a.EW)((()=>{var e=void 0;return b.nodeNumber&&void 0!=i.state.nodeDescriptors[b.nodeNumber]&&(e=i.state.nodeDescriptors[b.nodeNumber].nodeVariables),e}));(0,a.wB)(g,(()=>{console.log(Ha+": WATCH variablesDescriptor"),void 0==g.value?(r.value=!0,d.value=!0):d.value=!1})),(0,a.KC)((()=>{console.log(Ha+": onBeforeMount")})),(0,a.sV)((()=>{console.log(Ha+": onMounted")})),(0,a.$u)((()=>{console.log(Ha+": onUpdated"),b.nodeNumber&&(console.log("NodeVariableDialog onUpdated - nodeNumber "+b.nodeNumber),f(),0==i.state.nodes[b.nodeNumber].parameters[6]?u.value=!0:u.value=!1)}));const f=()=>{console.log(Ha+": checkFileLoad"),void 0==i.state.loadFile_notification_raised[b.nodeNumber]&&("Unknown"==i.state.nodes[b.nodeNumber].moduleName?(t.notify({message:"module name unknown",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),i.state.loadFile_notification_raised[b.nodeNumber]=!0):void 0!=i.state.nodes[b.nodeNumber].moduleDescriptorFilename&&void 0==i.state.nodeDescriptors[b.nodeNumber]&&(t.notify({message:"Failed to load module file "+i.state.nodes[b.nodeNumber].moduleDescriptorFilename,timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]}),i.state.loadFile_notification_raised[b.nodeNumber]=!0),i.state.loadFile_notification_raised[b.nodeNumber]&&console.log(Ha+": checkLoadFile notification raised")),void 0==g.value?(r.value=!0,d.value=!0):d.value=!1},y=()=>{console.log(Ha+": clickToggleRaw"),r.value?r.value=!1:r.value=!0},k=()=>{console.log(Ha+": clickToggleNodeDescriptor"),m.value?m.value=!1:m.value=!0},_=()=>{console.log(Ha+": clickUpdateModuleDescriptor"),c.value=!0};return(e,l)=>{const t=(0,a.g2)("q-btn"),s=(0,a.g2)("q-banner"),v=(0,a.g2)("q-card-section"),f=(0,a.g2)("q-card"),V=(0,a.g2)("q-card-actions"),N=(0,a.g2)("q-dialog"),h=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(N,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.k6)((()=>[(0,a.bF)(f,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin g-py-none"},{action:(0,a.k6)((()=>[(0,a.bF)(t,{color:"cyan-1",size:"sm","text-color":"black",label:"update Module Descriptor",onClick:l[0]||(l[0]=e=>_())}),(0,a.bo)((0,a.bF)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[h]])])),default:(0,a.k6)((()=>[(0,a.Lk)("div",Xa," Node Variables for node : "+(0,o.v_)((0,n.R1)(i).getters.node_name((0,n.R1)(i).state.selected_node)),1)])),_:1})])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[d.value?((0,a.uX)(),(0,a.CE)("div",Oa," *** Descriptor not loaded for this node *** ")):(0,a.Q3)("",!0),u.value?((0,a.uX)(),(0,a.CE)("div",Ma," this node has no variables to display ")):(0,a.Q3)("",!0)])),_:1}),(0,n.R1)(i).state.nodeDescriptors[b.nodeNumber]?((0,a.uX)(),(0,a.Wv)((0,n.R1)(Ba),{key:0,configuration:(0,n.R1)(i).state.nodeDescriptors[b.nodeNumber].nodeVariables},null,8,["configuration"])):(0,a.Q3)("",!0),r.value?((0,a.uX)(),(0,a.CE)("div",Pa,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(i).state.nodes[b.nodeNumber].parameters[6],(e=>((0,a.uX)(),(0,a.Wv)((0,n.R1)(Ua),{"node-variable-index":e,"node-number":b.nodeNumber,key:e},null,8,["node-variable-index","node-number"])))),128))])):(0,a.Q3)("",!0),m.value?((0,a.uX)(),(0,a.Wv)(v,{key:2,class:"q-pa-sm"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",za,[$a,(0,a.Lk)("div",ja,[(0,a.Lk)("pre",null,(0,o.v_)(g.value),1)])])])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(V,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(t,{flat:"",label:"Toggle variables descriptor view",onClick:l[1]||(l[1]=e=>k())}),(0,a.bF)(t,{flat:"",label:"Toggle raw view",onClick:l[2]||(l[2]=e=>y())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)($e),{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=e=>c.value=e)},null,8,["modelValue"])],64)}}},Ga=Ja,Ya=Ga;m()(Ja,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QCardActions:Oe.A}),m()(Ja,"directives",{ClosePopup:Pe.A});const Za=(0,a.Lk)("div",{class:"text-h6"},"Node parameters are still loading",-1),en=(0,a.Lk)("div",{class:"text-h6"},"Please wait",-1),ln={__name:"parametersLoadingDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.WQ)("store");const t=e,n=l,o=(0,a.EW)({get(){return t.modelValue},set(e){n("update:modelValue",e)}});return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const t=(0,a.g2)("q-card-section"),n=(0,a.g2)("q-btn"),s=(0,a.g2)("q-card-actions"),i=(0,a.g2)("q-card"),d=(0,a.g2)("q-dialog"),r=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(d,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[Za,en])),_:1}),(0,a.bF)(s,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",label:"Close"},null,512),[[r]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},tn=ln,an=tn;m()(ln,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QCardActions:Oe.A,QBtn:Xe.A}),m()(ln,"directives",{ClosePopup:Pe.A});const nn=(0,a.Lk)("div",{class:"text-h6"},"Node Variables are still loading",-1),on=(0,a.Lk)("div",{class:"text-h6"},"Please wait",-1),sn={__name:"NodevariablesLoadingDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.WQ)("store");const t=e,n=l,o=(0,a.EW)({get(){return t.modelValue},set(e){n("update:modelValue",e)}});return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const t=(0,a.g2)("q-card-section"),n=(0,a.g2)("q-btn"),s=(0,a.g2)("q-card-actions"),i=(0,a.g2)("q-card"),d=(0,a.g2)("q-dialog"),r=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(d,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[nn,on])),_:1}),(0,a.bF)(s,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",label:"Close"},null,512),[[r]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},dn=sn,rn=dn;m()(sn,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QCardActions:Oe.A,QBtn:Xe.A}),m()(sn,"directives",{ClosePopup:Pe.A});const un=(0,a.Lk)("div",{class:"text-h6"}," VLCB Diagnostics ",-1),cn={key:0,class:"q-pa-xs row"},mn=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Diagnostics"),(0,a.Lk)("br")],-1),bn={class:"text-body2"},vn="VLCBDiagnosticsDialog",pn={__name:"VLCBDiagnosticsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=(0,n.KR)([]),d=e,r=l,u=(0,a.EW)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.wB)(u,(()=>{console.log(vn+": WATCH model")}));const c=[{name:"diagnosticCode",field:"diagnosticCode",required:!0,label:"Diagnostic Code",align:"left",sortable:!0},{name:"diagnosticValue",field:"diagnosticValue",required:!1,label:"Diagnostic Value",align:"left",sortable:!0},{name:"diagnosticName",field:"diagnosticName",required:!0,label:"Name",align:"left",sortable:!0}],m=(0,a.EW)((()=>{var e=void 0;return t.state.selected_node&&t.state.nodes[t.state.selected_node].services[t.state.selected_service_index]&&(e=Object.values(t.state.nodes[t.state.selected_node].services[t.state.selected_service_index].diagnostics)),e}));(0,a.wB)(m,(()=>{m.value&&b()}));const b=()=>{i.value=[],m.value.forEach((e=>{let l={};l["diagnosticCode"]=e.DiagnosticCode,l["diagnosticValue"]=e.DiagnosticValue,l["diagnosticName"]=e.DiagnosticName,i.value.push(l)}))};(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const v=()=>{console.log(vn+": clickToggleShowDiagnosticsJSON"),s.value?s.value=!1:s.value=!0};return(e,l)=>{const d=(0,a.g2)("q-btn"),r=(0,a.g2)("q-banner"),m=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-td"),p=(0,a.g2)("q-tr"),g=(0,a.g2)("q-table"),f=(0,a.g2)("q-card"),y=(0,a.g2)("q-card-actions"),k=(0,a.g2)("q-dialog"),_=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(k,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(f,{style:{"min-width":"800px"},class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.k6)((()=>[un])),_:1})])),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"no-margin q-pa-xs"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{class:"vlcb-diagnostics-table",dense:"",rows:i.value,columns:c,"row-key":"diagnosticCode","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,"hide-bottom":""},{body:(0,a.k6)((e=>[(0,a.bF)(p,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(b,{key:"diagnosticCode",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.diagnosticCode),1)])),_:2},1032,["props"]),(0,a.bF)(b,{key:"diagnosticValue",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.diagnosticValue),1)])),_:2},1032,["props"]),(0,a.bF)(b,{key:"diagnosticName",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.diagnosticName),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"]),s.value?((0,a.uX)(),(0,a.CE)("div",cn,[mn,(0,a.Lk)("div",bn,[(0,a.Lk)("pre",null,(0,o.v_)((0,n.R1)(t).state.nodes[(0,n.R1)(t).state.selected_node].services[(0,n.R1)(t).state.selected_service_index].diagnostics),1)])])):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(y,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{flat:"",label:"Toggle diagnostics json",onClick:l[0]||(l[0]=e=>v())})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},gn=pn,fn=gn;m()(pn,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QTr:mt.A,QTd:bt.A,QCardActions:Oe.A}),m()(pn,"directives",{ClosePopup:Pe.A});const yn=(0,a.Lk)("div",{class:"text-h6"}," VLCB Services ",-1),kn={key:0,class:"q-pa-xs row"},_n=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Services"),(0,a.Lk)("br")],-1),Vn={class:"text-body2"},Nn="VLCBServicesDialog",hn={__name:"VLCBServicesDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(!1),i=(0,n.KR)(!1),d=(0,n.KR)([]),r=e,u=l,c=(0,a.EW)({get(){return r.modelValue},set(e){u("update:modelValue",e)}});(0,a.wB)(c,(()=>{}));const m=[{name:"serviceIndex",field:"serviceIndex",required:!0,label:"Service Index",align:"left",sortable:!0},{name:"serviceType",field:"serviceType",required:!1,label:"Service Type",align:"left",sortable:!0},{name:"serviceName",field:"serviceName",required:!0,label:"Name",align:"left",sortable:!0},{name:"diagnostics",field:"diagnostics",required:!0,label:"",align:"left"}],b=(0,a.EW)((()=>{var e={};return t.state.selected_node&&(e=Object.values(t.state.nodes[t.state.selected_node].services)),e}));(0,a.wB)(b,(()=>{v()}));const v=()=>{d.value=[],b.value.forEach((e=>{let l={};l["serviceIndex"]=e.ServiceIndex,l["serviceType"]=e.ServiceType,l["serviceName"]=e.ServiceName,d.value.push(l)}))};(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const p=()=>{console.log(Nn+": clickToggleShowServicesJSON"),s.value?s.value=!1:s.value=!0},g=e=>{console.log(`clickiagnostics: index ${e}`),t.methods.request_diagnostics(t.state.selected_node,e),t.state.selected_service_index=e,i.value=!0};return(e,l)=>{const r=(0,a.g2)("q-btn"),u=(0,a.g2)("q-banner"),b=(0,a.g2)("q-card-section"),v=(0,a.g2)("q-td"),f=(0,a.g2)("q-tr"),y=(0,a.g2)("q-table"),k=(0,a.g2)("q-card"),_=(0,a.g2)("q-card-actions"),V=(0,a.g2)("q-dialog"),N=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(V,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{style:{"min-width":"900px"},class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(r,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[N]])])),default:(0,a.k6)((()=>[yn])),_:1})])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"no-margin q-pa-xs"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{class:"vlcb-services-table",dense:"",rows:d.value,columns:m,"row-key":"serviceIndex","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,"hide-bottom":""},{body:(0,a.k6)((e=>[(0,a.bF)(f,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(v,{key:"serviceIndex",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.serviceIndex),1)])),_:2},1032,["props"]),(0,a.bF)(v,{key:"serviceType",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.serviceType),1)])),_:2},1032,["props"]),(0,a.bF)(v,{key:"serviceName",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.serviceName),1)])),_:2},1032,["props"]),(0,a.bF)(v,{key:"diagnostics",props:e},{default:(0,a.k6)((()=>[(0,a.bF)(r,{color:"primary",flat:"",rounded:"",label:"diagnostics",onClick:l=>g(e.row.serviceIndex),"no-caps":""},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows"]),s.value?((0,a.uX)(),(0,a.CE)("div",kn,[_n,(0,a.Lk)("div",Vn,[(0,a.Lk)("pre",null,(0,o.v_)((0,n.R1)(t).state.nodes[(0,n.R1)(t).state.selected_node].services),1)])])):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(_,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{flat:"",label:"Toggle services json",onClick:l[0]||(l[0]=e=>p())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)(fn),{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e)},null,8,["modelValue"])],64)}}},qn=hn,xn=qn;m()(hn,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QTr:mt.A,QTd:bt.A,QCardActions:Oe.A}),m()(hn,"directives",{ClosePopup:Pe.A});const Fn=(0,a.Lk)("div",{class:"text-h6"}," Example banner ",-1),Cn=["src"],In="DialogExampleCompositionAPI",wn={__name:"iFrameDialog",props:{modelValue:{type:Boolean,required:!0},URL:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.WQ)("store"),(0,n.KR)(!1);const t=e,o=l,s=(0,a.EW)({get(){return t.modelValue},set(e){o("update:modelValue",e)}});(0,a.wB)(s,(()=>{console.log(In+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));return(l,t)=>{const n=(0,a.g2)("q-btn"),o=(0,a.g2)("q-banner"),i=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-card"),r=(0,a.g2)("q-dialog"),u=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(r,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.k6)((()=>[(0,a.bF)(d,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{"max-height":"12vh"},class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(o,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[u]])])),default:(0,a.k6)((()=>[Fn])),_:1})])),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{"max-height":"88vh"},class:"scroll no-margin no-padding"},{default:(0,a.k6)((()=>[(0,a.Lk)("iframe",{src:e.URL,style:{width:"100vw",height:"100vh"}},null,8,Cn)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},An=wn,Rn=An;m()(wn,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A}),m()(wn,"directives",{ClosePopup:Pe.A});const Qn={style:{height:"45vh"}},En=(0,a.Lk)("div",{class:"text-h6"},"Nodes list",-1),Sn={key:1},Tn="NodesList",Wn={__name:"NodesList",setup(e){const l=[{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node number",align:"left",sortable:!0},{name:"CANID",field:"CANID",required:!0,label:"CAN ID",align:"left",sortable:!0},{name:"nodeName",field:"nodeName",required:!0,label:"Name",align:"left",sortable:!0},{name:"moduleName",field:"moduleName",required:!0,label:"Module name",align:"left",sortable:!0},{name:"mode",field:"mode",required:!0,label:"Mode",align:"left",sortable:!0},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!0},{name:"events",field:"events",required:!0,label:"Stored Events",align:"left",sortable:!1},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=(0,n.KR)([]),r=(0,n.KR)(!1),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(!1),v=(0,n.KR)(),p=(0,n.KR)(!1),g=(0,n.KR)(!1),f=(0,n.KR)(!1),y=(0,n.KR)(!1),k=(0,n.KR)("dummyModule/index.html"),_=(0,a.EW)((()=>Object.values(t.state.nodes)));(0,a.wB)(_,(()=>{N()}));const V=(0,a.EW)((()=>t.state.layout.nodeDetails));(0,a.wB)(V,(()=>{N()}));const N=()=>{i.value=[],_.value.forEach((e=>{let l={};l["nodeNumber"]=e.nodeNumber,l["CANID"]=e.CANID,l["nodeName"]=t.getters.node_name(e.nodeNumber),l["moduleName"]=e.moduleName,l["component"]=e.component,l["status"]=e.status,l["mode"]=e.flim,l["events"]=e.eventCount,l["vlcb"]=e.VLCB,i.value.push(l)}))},h=e=>e in t.state.layout.nodeDetails?t.state.layout.nodeDetails[e].colour:"blue";(0,a.KC)((()=>{t.methods.query_all_nodes()}));const q=async e=>{if(t.state.nodes[e].parameters[9]);else{t.methods.request_all_node_parameters(e,20,100),p.value=!0;var l=0;try{while(void 0==t.state.nodes[e].parameters[9])if(await d(10),l++,l>500)throw"failed to read Node Parameters";p.value=!1}catch(a){console.log(Tn+": checkNodeParameters: "+a),p.value=!1}}},x=async e=>{var l=t.state.nodes[e].parameters[6];if(t.state.nodes[e].nodeVariables[l]);else{t.methods.request_all_node_variables(e,t.state.nodes[e].parameters[6],100,1),g.value=!0;var a=10*l+20;try{while(void 0==t.state.nodes[e].nodeVariables[l])if(await d(10),a--,a<0)throw"failed to read Node Variables";g.value=!1}catch(n){console.log(Tn+": checkNodeParameters: "+n),g.value=!1}}},F=e=>{t.state.selected_node!=e&&(console.log(Tn+": request_all_node_events"),t.state.selected_node=e,t.methods.request_all_node_events(t.state.selected_node),v.value=e,r.value=!0,t.methods.request_service_discovery(t.state.selected_node),console.log(Tn+": node row ",t.state.selected_node+" selected"))};t.eventBus.on("NODE_DELETED_EVENT",(e=>{console.log(Tn+": NODE_DELETED_EVENT - node number "+e),t.state.selected_node==e&&(r.value=!1)}));const C=async e=>{await q(e),F(e),u.value=!0,console.log(Tn+": clickDeleteNode: node"+t.state.selected_node)},I=async e=>{await q(e),await x(e),F(e),console.log(Tn+": clickEvents: node",e)},w=async e=>{await q(e),F(e),console.log(Tn+": clickNameNode: node "+e),c.value=!0},A=async e=>{await q(e),F(e),console.log(Tn+": clickParameters: node "+e),m.value=!0},R=()=>{console.log(Tn+": clickRefresh"),t.methods.query_all_nodes()},Q=async e=>{await q(e),F(e),console.log(Tn+": clickVariables: node "+e),1e3==e&&t.state.develop?y.value=!0:t.state.nodes[e].parameters[9]&&(t.methods.request_all_node_variables(e,t.state.nodes[e].parameters[6],100,1),b.value=!0)},E=e=>{console.log(Tn+": clickVLCB"),F(e),t.methods.request_diagnostics(e),f.value=!0};return(e,d)=>{const _=(0,a.g2)("q-btn"),V=(0,a.g2)("q-banner"),N=(0,a.g2)("q-td"),q=(0,a.g2)("q-chip"),x=(0,a.g2)("q-tr"),F=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)("div",Qn,[(0,a.bF)(V,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bF)(_,{class:"q-mx-xs q-my-none",color:"blue",size:"sm",label:"Refresh",onClick:d[0]||(d[0]=e=>R())})])),default:(0,a.k6)((()=>[En])),_:1}),(0,a.Lk)("div",null,[(0,a.bF)(F,{class:"my-sticky-header-table",bordered:"",dense:"",rows:i.value,columns:l,filter:s.value,"row-key":"nodeNumber","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,"hide-bottom":""},{body:(0,a.k6)((e=>[(0,a.bF)(x,{props:e,class:(0,o.C4)([v.value==e.row.nodeNumber?"bg-blue-1":"bg-white","q-my-none q-py-none"])},{default:(0,a.k6)((()=>[(0,a.bF)(N,{key:"nodeNumber",class:(0,o.C4)("text-"+h(e.row.nodeNumber)),props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.nodeNumber),1)])),_:2},1032,["class","props"]),(0,a.bF)(N,{key:"CANID",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.CANID),1)])),_:2},1032,["props"]),(0,a.bF)(N,{key:"nodeName",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.nodeName),1)])),_:2},1032,["props"]),(0,a.bF)(N,{key:"moduleName",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.moduleName),1)])),_:2},1032,["props"]),(0,a.bF)(N,{key:"mode",props:e},{default:(0,a.k6)((()=>[e.row.mode?((0,a.uX)(),(0,a.Wv)(q,{key:0,dense:"",color:"white","text-color":"blue"},{default:(0,a.k6)((()=>[(0,a.eW)("Flim")])),_:1})):((0,a.uX)(),(0,a.Wv)(q,{key:1,dense:"",color:"white","text-color":"red"},{default:(0,a.k6)((()=>[(0,a.eW)("Slim")])),_:1}))])),_:2},1032,["props"]),(0,a.bF)(N,{key:"status",props:e},{default:(0,a.k6)((()=>[e.row.status?((0,a.uX)(),(0,a.Wv)(q,{key:0,dense:"",color:"white","text-color":"green"},{default:(0,a.k6)((()=>[(0,a.eW)("OK")])),_:1})):((0,a.uX)(),(0,a.Wv)(q,{key:1,dense:"",color:"white","text-color":"red"},{default:(0,a.k6)((()=>[(0,a.eW)("Error")])),_:1}))])),_:2},1032,["props"]),(0,a.bF)(N,{key:"events",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.events),1)])),_:2},1032,["props"]),(0,a.bF)(N,{key:"actions"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{dense:"",class:"q-mx-xs q-my-none",color:"cyan-1","text-color":"black",size:"md",label:"Events",onClick:l=>I(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.bF)(_,{dense:"",class:"q-mx-xs q-my-none",outline:"",color:"primary",size:"md",label:"Name",onClick:l=>w(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.bF)(_,{dense:"",class:"q-mx-xs q-my-none",outline:"",color:"primary",size:"md",label:"Parameters",onClick:l=>A(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),(0,a.bF)(_,{dense:"",class:"q-mx-xs q-my-none",outline:"",color:"primary",size:"md",label:"Variables",onClick:l=>Q(e.row.nodeNumber),"no-caps":""},null,8,["onClick"]),e.row.vlcb?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(_,{key:0,dense:"",class:"q-mx-xs q-my-none",outline:"",disabled:"",color:"primary",size:"md",label:"CBUS",onClick:l=>E(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])),e.row.vlcb?((0,a.uX)(),(0,a.Wv)(_,{key:1,dense:"",class:"q-mx-xs q-my-none",outline:"",color:"primary",size:"md",label:"VLCB",onClick:l=>E(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])):(0,a.Q3)("",!0),(0,a.bF)(_,{dense:"",class:"q-mx-xs q-my-none",outline:"",color:"negative",size:"md",label:"Delete",onClick:l=>C(e.row.nodeNumber),"no-caps":""},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["props","class"])])),_:1},8,["rows","filter"]),1==r.value?((0,a.uX)(),(0,a.Wv)((0,n.R1)(Nt),{key:0,nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["nodeNumber"])):(0,a.Q3)("",!0),(0,a.bF)((0,n.R1)(It),{modelValue:u.value,"onUpdate:modelValue":d[1]||(d[1]=e=>u.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(Qt),{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=e=>c.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(Dt),{modelValue:m.value,"onUpdate:modelValue":d[3]||(d[3]=e=>m.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(Ya),{modelValue:b.value,"onUpdate:modelValue":d[4]||(d[4]=e=>b.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(an),{modelValue:p.value,"onUpdate:modelValue":d[5]||(d[5]=e=>p.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(rn),{modelValue:g.value,"onUpdate:modelValue":d[6]||(d[6]=e=>g.value=e),nodeNumber:(0,n.R1)(t).state.selected_node},null,8,["modelValue","nodeNumber"]),(0,a.bF)((0,n.R1)(xn),{modelValue:f.value,"onUpdate:modelValue":d[7]||(d[7]=e=>f.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(Rn),{modelValue:y.value,"onUpdate:modelValue":d[8]||(d[8]=e=>y.value=e),URL:k.value},null,8,["modelValue","URL"]),(0,n.R1)(t).state.debug?((0,a.uX)(),(0,a.CE)("p",Sn,(0,o.v_)(Object.values((0,n.R1)(t).state.nodes)),1)):(0,a.Q3)("",!0)])])}}};var Ln=t(6760);const Bn=Wn,Dn=Bn;m()(Wn,"components",{QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QTr:mt.A,QTd:bt.A,QChip:Ln.A});const Kn={class:"q-pa-md row items-start q-gutter-md"},Un=(0,a.Lk)("div",{class:"text-h6"},"Event Details",-1),Xn=(0,a.Lk)("div",{class:"text-subtitle2"},"Details to help identify the Event",-1),On=(0,a.Lk)("div",{class:"text-h6"},"Teach Event",-1),Mn=(0,a.Lk)("div",{class:"text-subtitle2"},"To consumer nodes only",-1),Pn={class:"q-pa-xs q-gutter-sm"},zn=(0,a.Lk)("div",{class:"text-h6"},"Taught Events",-1),$n=(0,a.Lk)("div",{class:"text-subtitle2"},"Nodes using this event",-1),jn=(0,a.Lk)("div",{class:"text-h6"},"Generate event",-1),Hn=(0,a.Lk)("div",{class:"text-subtitle2"},"Send this event as ON or OFF",-1),Jn={class:"q-pa-md q-gutter-sm"},Gn={__name:"EventDetails",props:{eventIdentifier:{type:String,required:!0},nodeNumber:{type:Number,required:!0},eventNumber:{type:Number,required:!0},type:{type:String,required:!0}},setup(e){const l=e,t=(0,n.KR)(""),o=(0,n.KR)(""),s=(0,n.KR)(""),i=(0,n.KR)(),d=(0,n.KR)([]),r=(0,n.KR)([]),u=(0,n.KR)([]),c=(0,n.KR)([]),m=[{name:"number",field:"number",required:!0,label:"Number",align:"left",sortable:!0},{name:"name",field:"name",required:!0,label:"Name",align:"left",sortable:!0}],b=(0,a.WQ)("store"),v=(0,a.EW)((()=>Object.values(b.state.layout.eventDetails)));(0,a.wB)(v,(()=>{console.log("WATCH Node Details"),f(),p()}));const p=()=>{u.value=[],v.value.forEach((e=>{u.value.includes(e.group)||u.value.push(e.group)}))},g=(0,a.EW)((()=>Object.values(b.state.nodes)));(0,a.wB)(g,(()=>{f(),p()}));const f=()=>{c.value=[],r.value=[],g.value.forEach((e=>{if(Object.values(e.storedEvents).length>0){let t=Object.values(e.storedEvents);t.forEach((t=>{if(t.eventIdentifier==l.eventIdentifier){r.value.push(t.node);var a=b.state.layout.nodeDetails[e.nodeNumber].name;c.value.push({number:e.nodeNumber,name:a})}}))}})),y()},y=()=>{d.value=[];var e=b.state.nodes;for(var l in e){var t=!0;for(var a in r.value)r.value[a]==l&&(t=!1);if(t&&e[l].consumer){var n=l+": ";b.state.layout.nodeDetails[l]&&(n+=b.state.layout.nodeDetails[l].name),d.value.push(n)}}};(0,a.sV)((()=>{l.eventIdentifier in b.state.layout.eventDetails?(t.value=b.state.layout.eventDetails[l.eventIdentifier].name,o.value=b.state.layout.eventDetails[l.eventIdentifier].colour,s.value=b.state.layout.eventDetails[l.eventIdentifier].group):(t.value=l.eventIdentifier,o.value="black",s.value=""),f(),p()}));const k=()=>{if(console.log(`teach_event : ${i.value} : ${l.eventIdentifier}`),""!=i.value){var e=i.value.split(":");console.log(`teach_event : ${e[0]} : ${l.eventIdentifier}`),b.methods.teach_event(e[0],l.eventIdentifier,l.eventIndex),i.value=void 0}},_=()=>{l.eventIdentifier in b.state.layout.eventDetails===!1&&(b.state.layout.eventDetails[l.eventIdentifier]={}),b.state.layout.eventDetails[l.eventIdentifier].name=t.value,b.state.layout.eventDetails[l.eventIdentifier].colour=o.value,b.state.layout.eventDetails[l.eventIdentifier].group=s.value,b.methods.update_layout()},V=()=>{"long"==l.type?b.methods.long_on_event(l.nodeNumber,l.eventNumber):b.methods.short_on_event(l.nodeNumber,l.eventNumber)},N=()=>{"long"==l.type?b.methods.long_off_event(l.nodeNumber,l.eventNumber):b.methods.short_off_event(l.nodeNumber,l.eventNumber)};return(e,l)=>{const n=(0,a.g2)("q-input"),o=(0,a.g2)("q-card-section"),s=(0,a.g2)("q-card"),r=(0,a.g2)("q-select"),u=(0,a.g2)("q-btn"),b=(0,a.g2)("q-table");return(0,a.uX)(),(0,a.CE)("div",Kn,[(0,a.bF)(s,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[Un,Xn,(0,a.bF)(n,{class:"q-pa-sm",outlined:"",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),label:"Event Name",maxlength:"30",onChange:_},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.bF)(s,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[On,Mn,(0,a.bF)(r,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e),options:d.value},null,8,["modelValue","options"]),(0,a.Lk)("div",Pn,[(0,a.bF)(u,{color:"negative",label:"Teach",onClick:l[2]||(l[2]=e=>k()),"no-caps":""})])])),_:1})])),_:1}),(0,a.bF)(s,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[zn,$n,(0,a.bF)(b,{flat:"",bordered:"",dense:"",rows:c.value,columns:m,"row-key":"number","hide-header":"",pagination:{rowsPerPage:10}},null,8,["rows"])])),_:1})])),_:1}),(0,a.bF)(s,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(o,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[jn,Hn,(0,a.Lk)("div",Jn,[(0,a.bF)(u,{color:"green",label:"ON",onClick:l[3]||(l[3]=e=>V())}),(0,a.bF)(u,{color:"negative",label:"OFF",onClick:l[4]||(l[4]=e=>N())})])])),_:1})])),_:1})])}}};m()(Gn,"components",{QCard:y.A,QCardSection:k.A,QInput:B.A,QSelect:$.A,QBtn:Xe.A,QTable:ct.A});const Yn=(0,a.Lk)("div",{class:"text-h6"}," Bus Events Dialog ",-1),Zn=(0,a.Lk)("div",{class:"col-2 q-table__title text-h4"},"Bus Events",-1),eo={class:"q-pa-xs row"},lo=(0,a.Lk)("div",{class:"text-body1"},[(0,a.eW)("Bus events"),(0,a.Lk)("br")],-1),to={class:"text-body2"},ao="BusEventsDialog",no={__name:"BusEventsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=((0,n.KR)("nodes"),(0,n.KR)("")),i={rowsPerPage:0};let d=(0,n.KR)();const r=(0,n.KR)(!1),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(""),b=(0,n.KR)(),v=(0,n.KR)(0),p=(0,n.KR)(0),g=(0,n.KR)(!1),f=[{name:"eventName",field:"name",required:!0,label:"Event Name",align:"left",sortable:!1},{name:"eventIdentifier",field:"eventIdentifier",required:!0,label:"Event Identifier",align:"left",sortable:!1},{name:"nodeNumber",field:"nodeNumber",required:!0,label:"Node Number",align:"left",sortable:!1},{name:"eventNumber",field:"eventNumber",required:!0,label:"Event Number",align:"left",sortable:!1},{name:"status",field:"status",required:!0,label:"Status",align:"left",sortable:!1},{name:"type",field:"type",required:!0,label:"Type",align:"left",sortable:!1},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1},{name:"actions",field:"actions",required:!0,label:"Actions",align:"left",sortable:!1}],y=e,k=l,_=(0,a.EW)({get(){return y.modelValue},set(e){k("update:modelValue",e)}});(0,a.wB)(_,(()=>{}));const V=(0,a.EW)((()=>Object.values(t.state.busEvents))),N=(0,a.EW)((()=>t.state.layout));(0,a.wB)(V,(()=>{h()})),(0,a.wB)(N,(()=>{h()}));const h=()=>{let e=[],l=t.state.busEvents;for(let t of Object.keys(l).sort()){let a={};a["eventIdentifier"]=l[t].eventIdentifier,a["nodeNumber"]=l[t].nodeNumber,a["eventNumber"]=l[t].eventNumber,a["status"]=l[t].status,a["type"]=l[t].type,a["count"]=l[t].count,a["name"]=q(l[t].eventIdentifier),a["colour"]=x(l[t].eventIdentifier),a["group"]=F(l[t].eventIdentifier),e.push(a)}d.value=e},q=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].name:JSON.stringify(e),x=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].colour:"blue",F=e=>e in t.state.layout.eventDetails?t.state.layout.eventDetails[e].group:"";(0,a.KC)((()=>{t.methods.query_all_nodes()})),(0,a.sV)((()=>{t.methods.refresh_bus_events()}));const C=e=>{console.log(ao+": clickEventName "+e),m.value=e,b.value=t.getters.event_name(e),r.value=!0},I=(e,l)=>{console.log(ao+": send OFF "+e+" "+l);var a=parseInt(l.slice(0,4),16),n=parseInt(l.slice(4,8),16);0==a?t.methods.short_off_event(e,n):t.methods.long_off_event(a,n)},w=(e,l)=>{console.log(ao+": send ON "+e+" "+l);var a=parseInt(l.slice(0,4),16),n=parseInt(l.slice(4,8),16);0==a?t.methods.short_on_event(e,n):t.methods.long_on_event(a,n)},A=e=>{console.log(ao+": clickTeach"),m.value=e,c.value=!0},R=()=>{console.log(ao+": clickToggleShowBusEventsJSON"),g.value?g.value=!1:g.value=!0};return(e,l)=>{const b=(0,a.g2)("q-btn"),y=(0,a.g2)("q-banner"),k=(0,a.g2)("q-card-section"),V=(0,a.g2)("q-space"),N=(0,a.g2)("q-icon"),h=(0,a.g2)("q-input"),q=(0,a.g2)("q-td"),F=(0,a.g2)("q-chip"),Q=(0,a.g2)("q-tr"),E=(0,a.g2)("q-table"),S=(0,a.g2)("q-card"),T=(0,a.g2)("q-card-actions"),W=(0,a.g2)("q-dialog"),L=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(W,{modelValue:_.value,"onUpdate:modelValue":l[5]||(l[5]=e=>_.value=e),persistent:"","full-width":""},{default:(0,a.k6)((()=>[(0,a.bF)(S,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(b,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[L]])])),default:(0,a.k6)((()=>[Yn])),_:1})])),_:1}),(0,a.bF)(S,null,{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"no-margin no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(E,{title:"Bus Events",class:"bus-events-table",dense:"",rows:(0,n.R1)(d),columns:f,filter:s.value,"row-key":"eventIdentifier","virtual-scroll":"",pagnation:i,"onUpdate:pagnation":l[3]||(l[3]=e=>i=e),"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,"hide-bottom":""},{top:(0,a.k6)((()=>[Zn,(0,a.bF)(V),(0,a.bF)(h,{outlined:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),placeholder:"Search"},{append:(0,a.k6)((()=>[(0,a.bF)(N,{name:"search"})])),_:1},8,["modelValue"]),(0,a.bF)(V),(0,a.bF)(b,{color:"negative",label:"Refresh Events",onClick:l[1]||(l[1]=e=>(0,n.R1)(t).methods.refresh_bus_events()),"no-caps":""}),(0,a.bF)(V),(0,a.bF)(b,{color:"negative",label:"Clear Events",onClick:l[2]||(l[2]=e=>(0,n.R1)(t).methods.clear_bus_events()),"no-caps":""})])),body:(0,a.k6)((e=>[(0,a.bF)(Q,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(q,{key:"eventName",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.name),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"eventIdentifier",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventIdentifier),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"nodeNumber",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.nodeNumber),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"eventNumber",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.eventNumber),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"status",props:e},{default:(0,a.k6)((()=>["on"==e.row.status?((0,a.uX)(),(0,a.Wv)(F,{key:0,color:"white","text-color":"green"},{default:(0,a.k6)((()=>[(0,a.eW)("ON")])),_:1})):((0,a.uX)(),(0,a.Wv)(F,{key:1,color:"white","text-color":"red"},{default:(0,a.k6)((()=>[(0,a.eW)("OFF")])),_:1}))])),_:2},1032,["props"]),(0,a.bF)(q,{key:"type",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.type),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"count",props:e,class:(0,o.C4)("text-"+x(e.row.eventIdentifier))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.count),1)])),_:2},1032,["props","class"]),(0,a.bF)(q,{key:"actions",props:e},{default:(0,a.k6)((()=>[(0,a.bF)(b,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"primary",label:"Name",onClick:l=>C(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.bF)(b,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"primary",label:"Teach",onClick:l=>A(e.row.eventIdentifier),"no-caps":""},null,8,["onClick"]),(0,a.bF)(b,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"positive",onClick:l=>w(e.row.nodeNumber,e.row.eventIdentifier),"no-caps":""},{default:(0,a.k6)((()=>[(0,a.eW)("send ON")])),_:2},1032,["onClick"]),(0,a.bF)(b,{dense:"",class:"q-mx-xs",outline:"",size:"md",color:"positive",onClick:l=>I(e.row.nodeNumber,e.row.eventIdentifier),"no-caps":""},{default:(0,a.k6)((()=>[(0,a.eW)("send OFF")])),_:2},1032,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"]),g.value?((0,a.uX)(),(0,a.Wv)(k,{key:0,class:"q-pa-sm"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",eo,[lo,(0,a.Lk)("div",to,[(0,a.Lk)("pre",null,(0,o.v_)((0,n.R1)(t).state.busEvents),1)])])])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1}),(0,a.bF)(T,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{flat:"",label:"Toggle bus events json",onClick:l[4]||(l[4]=e=>R())})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.bF)((0,n.R1)(tt),{modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e),eventIdentifier:m.value},null,8,["modelValue","eventIdentifier"]),(0,a.bF)((0,n.R1)(pt),{modelValue:c.value,"onUpdate:modelValue":l[7]||(l[7]=e=>c.value=e),eventIdentifier:m.value},null,8,["modelValue","eventIdentifier"]),(0,a.bF)((0,n.R1)(zl),{modelValue:u.value,"onUpdate:modelValue":l[8]||(l[8]=e=>u.value=e),sendingNodeNumber:v.value,eventNumber:p.value,eventIdentifier:m.value},null,8,["modelValue","sendingNodeNumber","eventNumber","eventIdentifier"])],64)}}};var oo=t(3676),so=t(492);const io=no,ro=io;m()(no,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QSpace:oo.A,QInput:B.A,QIcon:so.A,QTr:mt.A,QTd:bt.A,QChip:Ln.A,QCardActions:Oe.A}),m()(no,"directives",{ClosePopup:Pe.A});const uo={class:"q-pa-md q-gutter-sm"},co=(0,a.Lk)("div",{class:"text-h6"}," Bus Traffic ",-1),mo="BusTrafficDialog",bo={__name:"BusTrafficDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=((0,n.KR)(!1),e),i=l,d=(0,a.EW)({get(){return s.modelValue},set(e){i("update:modelValue",e)}});(0,a.wB)(d,(()=>{console.log(mo+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));return(e,l)=>{const s=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),r=(0,a.g2)("q-card-section"),u=(0,a.g2)("q-item-label"),c=(0,a.g2)("q-item"),m=(0,a.g2)("q-list"),b=(0,a.g2)("q-card"),v=(0,a.g2)("q-dialog"),p=(0,a.gN)("close-popup"),g=(0,a.gN)("ripple");return(0,a.uX)(),(0,a.CE)("div",uo,[(0,a.bF)(v,{modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),position:e.left},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"300px"},class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.k6)((()=>[co])),_:1})])),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{"max-height":"50vh"},class:"scroll q-py-none no-margin"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{bordered:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(t).state.nodeTraffic,(e=>(0,a.bo)(((0,a.uX)(),(0,a.Wv)(c,{key:e,clickable:"",dense:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{dense:"",class:"q-pa-none q-my-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.direction+"   "+e.json.mnemonic),1)])),_:2},1024)])),_:2},1024)),[[g]]))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","position"])])}}};var vo=t(3999),po=t(124),go=t(3796),fo=t(9626);const yo=bo,ko=yo;m()(bo,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QList:vo.A,QItem:po.A,QItemLabel:go.A}),m()(bo,"directives",{ClosePopup:Pe.A,Ripple:fo.A});const _o=(0,a.Lk)("div",{class:"text-h6"}," Cbus Error Dialog ",-1),Vo=(0,a.Lk)("div",{class:"col-4 q-table__title text-h4"},"CBUS Errors",-1),No="CbusErrorsDialog",ho={__name:"CbusErrorsDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=[{name:"id",field:"id",required:!0,label:"Error Id",align:"left",sortable:!0},{name:"Error",field:"Error",required:!0,label:"Error",align:"left",sortable:!0},{name:"Message",field:"Message",required:!0,label:"Message",align:"left",sortable:!0},{name:"node",field:"node",required:!0,label:"Node",align:"left",sortable:!0},{name:"count",field:"count",required:!0,label:"Count",align:"left",sortable:!1}],d=e,r=l,u=(0,a.EW)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.wB)(u,(()=>{console.log(No+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const c=()=>{t.methods.clear_cbus_errors()};return(e,l)=>{const d=(0,a.g2)("q-btn"),r=(0,a.g2)("q-banner"),m=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-space"),v=(0,a.g2)("q-icon"),p=(0,a.g2)("q-input"),g=(0,a.g2)("q-td"),f=(0,a.g2)("q-tr"),y=(0,a.g2)("q-table"),k=(0,a.g2)("q-card"),_=(0,a.g2)("q-dialog"),V=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(_,{modelValue:u.value,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(d,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[V]])])),default:(0,a.k6)((()=>[_o])),_:1})])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{style:{"max-height":"75vh"},class:"scroll no-margin no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(y,{title:"Nodes",rows:Object.values((0,n.R1)(t).state.cbus_errors),columns:i,filter:s.value,"row-key":"id","virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},{top:(0,a.k6)((()=>[Vo,(0,a.bF)(b),(0,a.bF)(p,{outlined:"",dense:"",debounce:"300",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),placeholder:"Search"},{append:(0,a.k6)((()=>[(0,a.bF)(v,{name:"search"})])),_:1},8,["modelValue"]),(0,a.bF)(b),(0,a.bF)(d,{color:"negative",label:"Clear Errors",onClick:c,"no-caps":""})])),body:(0,a.k6)((e=>[(0,a.bF)(f,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(g,{key:"id",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.id),1)])),_:2},1032,["props"]),(0,a.bF)(g,{key:"type",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.type),1)])),_:2},1032,["props"]),(0,a.bF)(g,{key:"Error",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.Error),1)])),_:2},1032,["props"]),(0,a.bF)(g,{key:"Message",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.Message),1)])),_:2},1032,["props"]),(0,a.bF)(g,{key:"node",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.node),1)])),_:2},1032,["props"]),(0,a.bF)(g,{key:"count",props:e},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.row.count),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","filter"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},qo=ho,xo=qo;m()(ho,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QTable:ct.A,QSpace:oo.A,QInput:B.A,QIcon:so.A,QTr:mt.A,QTd:bt.A}),m()(ho,"directives",{ClosePopup:Pe.A});const Fo=(0,a.Lk)("div",{class:"text-h6"}," JSON Dialog ",-1),Co=(0,a.Lk)("div",{class:"text-h6"},"Nodes",-1),Io=(0,a.Lk)("div",{class:"text-h6"},"Node Descriptors",-1),wo=(0,a.Lk)("div",{class:"text-h6"},"Node Descriptor List",-1),Ao=(0,a.Lk)("div",{class:"text-h6"},"Events",-1),Ro=(0,a.Lk)("div",{class:"text-h6"},"Layout",-1),Qo=(0,a.Lk)("div",{class:"text-h6"},"List of Layouts",-1),Eo=(0,a.Lk)("div",{class:"text-h6"},"Node Traffic",-1),So=(0,a.Lk)("div",{class:"text-h6"},"Cbus Errors",-1),To="JsonDialog",Wo={__name:"JsonDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)("nodes"),i=e,d=l,r=(0,a.EW)({get(){return i.modelValue},set(e){d("update:modelValue",e)}});return(0,a.wB)(r,(()=>{console.log(To+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const i=(0,a.g2)("q-btn"),d=(0,a.g2)("q-banner"),u=(0,a.g2)("q-card-section"),c=(0,a.g2)("q-tab"),m=(0,a.g2)("q-tabs"),b=(0,a.g2)("q-tab-panel"),v=(0,a.g2)("q-tab-panels"),p=(0,a.g2)("q-card"),g=(0,a.g2)("q-dialog"),f=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(g,{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),persistent:"","full-width":"","full-height":""},{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(i,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[f]])])),default:(0,a.k6)((()=>[Fo])),_:1})])),_:1}),(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{name:"cbusErrors",label:"Cbus Errors"}),(0,a.bF)(c,{name:"busEvents",label:"Bus Events"}),(0,a.bF)(c,{name:"layout",label:"Layout"}),(0,a.bF)(c,{name:"layouts",label:"Layouts"}),(0,a.bF)(c,{name:"nodes",label:"Nodes"}),(0,a.bF)(c,{name:"nodeDescriptors",label:"Node Descriptors"}),(0,a.bF)(c,{name:"nodeDescriptorList",label:"Node Descriptor Lists"}),(0,a.bF)(c,{name:"traffic",label:"Traffic"})])),_:1},8,["modelValue"]),(0,a.bF)(v,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),animated:""},{default:(0,a.k6)((()=>[(0,a.bF)(b,{name:"nodes"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Co,(0,a.Lk)("pre",null,"                "+(0,o.v_)((0,n.R1)(t).state.nodes)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"nodeDescriptors"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Io,(0,a.Lk)("pre",null,"                "+(0,o.v_)((0,n.R1)(t).state.nodeDescriptors)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"nodeDescriptorList"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[wo,(0,a.Lk)("pre",null,"                "+(0,o.v_)((0,n.R1)(t).state.nodeDescriptorList)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"busEvents"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Ao,(0,a.Lk)("pre",null,"                "+(0,o.v_)((0,n.R1)(t).state.busEvents)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"layout"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Ro,(0,a.Lk)("pre",null,"              "+(0,o.v_)((0,n.R1)(t).state.layout)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"layouts"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Qo,(0,a.Lk)("pre",null,"              "+(0,o.v_)((0,n.R1)(t).state.layouts_list)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"traffic"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[Eo,(0,a.Lk)("pre",null,"              "+(0,o.v_)((0,n.R1)(t).state.nodeTraffic)+"\n              ",1)])),_:1})])),_:1}),(0,a.bF)(b,{name:"cbusErrors"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"max-height":"75vh"},class:"scroll no-margin q-py-none"},{default:(0,a.k6)((()=>[So,(0,a.Lk)("pre",null,"              "+(0,o.v_)((0,n.R1)(t).state.cbus_errors)+"\n              ",1)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Lo=Wo,Bo=Lo;m()(Wo,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QTabs:ie.A,QTab:de.A,QTabPanels:re.A,QTabPanel:ue.A}),m()(Wo,"directives",{ClosePopup:Pe.A});const Do=(0,a.Lk)("div",{class:"text-h6"}," Manage Layout ",-1),Ko={class:"q-pa-md q-mr-sm rounded-borders"},Uo={class:"text-h5 text-black"},Xo={class:"text-h6 text-black"},Oo={class:"q-pa-md row"},Mo=(0,a.Lk)("div",{class:"text-h6"},"Change layout",-1),Po=(0,a.Lk)("p",null,"Click on the list of layouts to select an existing layout, or enter a name for a new layout, then click change",-1),zo=(0,a.Lk)("div",{class:"text-h6"},"List of Layouts",-1),$o=(0,a.Lk)("div",{class:"text-h6 text-black"},"Edit layout details",-1),jo="LayoutDialog",Ho={__name:"LayoutDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=(0,n.KR)([]),d=[{name:"layout",field:"layout",required:!0,label:"Layout",align:"left",sortable:!0}],r=e,u=l,c=(0,a.EW)({get(){return r.modelValue},set(e){u("update:modelValue",e)}});(0,a.wB)(c,(()=>{console.log(jo+": WATCH model"),b()}));const m=(0,a.EW)((()=>Object.values(t.state.layouts_list)));(0,a.wB)(m,(()=>{console.log(jo+": WATCH layoutList"),b()}));const b=()=>{i.value=[],m.value.forEach((e=>{console.log(jo+": update "+e),i.value.push({layout:e})}))},v=()=>{console.log(jo+": Change layout"),t.methods.change_layout(s.value),t.methods.request_layout_list(),s.value=""},p=e=>{console.log(jo+": clickLayouts on ",e),s.value=e};return(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(e,l)=>{const r=(0,a.g2)("q-btn"),u=(0,a.g2)("q-banner"),m=(0,a.g2)("q-input"),b=(0,a.g2)("q-card-section"),g=(0,a.g2)("q-card"),f=(0,a.g2)("q-td"),y=(0,a.g2)("q-table"),k=(0,a.g2)("q-dialog"),_=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(k,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=e=>c.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(g,{style:{"min-width":"900px"}},{default:(0,a.k6)((()=>[(0,a.bF)(u,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(r,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[_]])])),default:(0,a.k6)((()=>[Do])),_:1}),(0,a.Lk)("div",Ko,[(0,a.Lk)("div",Uo,(0,o.v_)((0,n.R1)(t).state.layout.layoutDetails.title),1),(0,a.Lk)("div",Xo,(0,o.v_)((0,n.R1)(t).state.layout.layoutDetails.subTitle),1)]),(0,a.Lk)("div",Oo,[(0,a.bF)(g,{class:"q-pa-xs",style:{"max-width":"300px"}},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[Mo,(0,a.bF)(m,{class:"q-pa-sm",outlined:"",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),label:"layout name",maxlength:"30"},null,8,["modelValue"]),Po,(0,a.bF)(r,{color:"negative",label:"change",onClick:l[1]||(l[1]=e=>v()),"no-caps":""})])),_:1})])),_:1}),(0,a.bF)(g,{inline:"",class:"q-pa-xs",flat:"",style:{"max-width":"500px"}},{default:(0,a.k6)((()=>[(0,a.bF)(b,{class:"q-pa-xs"},{default:(0,a.k6)((()=>[zo,(0,a.bF)(y,{flat:"",bordered:"",dense:"",rows:i.value,columns:d,"row-key":"name","hide-header":"",pagination:{rowsPerPage:10}},{"body-cell":(0,a.k6)((e=>[(0,a.bF)(f,{props:e},{default:(0,a.k6)((()=>[(0,a.bF)(r,{flat:"",color:"primary",label:e.value,onClick:l=>p(e.value)},null,8,["label","onClick"])])),_:2},1032,["props"])])),_:1},8,["rows"])])),_:1})])),_:1}),(0,a.bF)(g,{inline:"",class:"q-pa-md",flat:"",style:{"max-width":"500px"}},{default:(0,a.k6)((()=>[$o,(0,a.bF)(m,{label:"Sub Title",outlined:"",modelValue:(0,n.R1)(t).state.layout.layoutDetails.subTitle,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,n.R1)(t).state.layout.layoutDetails.subTitle=e),onChange:l[3]||(l[3]=e=>(0,n.R1)(t).methods.update_layout())},null,8,["modelValue"])])),_:1})])])),_:1})])),_:1},8,["modelValue"])}}},Jo=Ho,Go=Jo;m()(Ho,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QInput:B.A,QTable:ct.A,QTd:bt.A}),m()(Ho,"directives",{ClosePopup:Pe.A});const Yo=(0,a.Lk)("div",{class:"text-h6"}," Bus message ",-1),Zo={class:"text-h6"},es={class:"text-h6"},ls={class:"text-h6"},ts="ModifiedGridConnectDialog",as={__name:"ModifiedGridConnectDialog",props:{modelValue:{type:Boolean,required:!0},busMessage:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.WQ)("store");const t=e,n=l,s=(0,a.EW)({get(){return t.modelValue},set(e){n("update:modelValue",e)}});return(0,a.wB)(s,(()=>{console.log(ts+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{})),(l,t)=>{const n=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),d=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-card"),u=(0,a.g2)("q-dialog"),c=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(u,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{"min-width":"350px"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[c]])])),default:(0,a.k6)((()=>[Yo])),_:1}),(0,a.bF)(d,{class:"fit"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Zo,"direction: "+(0,o.v_)(e.busMessage.direction),1),(0,a.Lk)("div",es," message: "+(0,o.v_)(e.busMessage.json.text),1),(0,a.Lk)("div",ls," encoded: "+(0,o.v_)(e.busMessage.json.encoded),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},ns=as,os=ns;m()(as,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A}),m()(as,"directives",{ClosePopup:Pe.A});const ss=(0,a.Lk)("div",{class:"text-h6"}," New node detected ",-1),is=(0,a.Lk)("div",{class:"text-h6"},[(0,a.eW)(" Accept the first free node number below "),(0,a.Lk)("br"),(0,a.eW)(" or enter a new one ")],-1),ds={class:"text-h6"},rs=(0,a.Lk)("div",{class:"text-h6"}," Enter a name for this node (optional) ",-1),us="NewNodeDialog",cs={__name:"NewNodeDialog",props:{modelValue:{type:Boolean,required:!0},previousNodeNumber:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=(0,n.KR)(""),i=(0,n.KR)(0),d=e,r=l,u=(0,a.EW)({get(){return d.modelValue},set(e){r("update:modelValue",e)}});(0,a.wB)(u,(()=>{console.log(us+": WATCH model"),console.log(us+": WATCH model: previousNodeNumber "+d.previousNodeNumber),i.value=c()}));const c=()=>{var e=0,l=256;t.state.layout.layoutDetails.baseNodeNumber&&(l=t.state.layout.layoutDetails.baseNodeNumber);for(var a=Object.keys(t.state.nodes),n=l;n<65535;n++)if(!a.includes(n.toString())){console.log(us+" first free node number: "+n),e=n;break}return e};(0,a.$u)((()=>{}));const m=()=>{console.log(us+" new node number: "+i.value),console.log(us+" new node name: "+s.value),t.methods.set_node_number(i.value),t.setters.node_name(i.value,s.value)};return(e,l)=>{const t=(0,a.g2)("q-btn"),n=(0,a.g2)("q-banner"),r=(0,a.g2)("q-input"),c=(0,a.g2)("q-card-section"),b=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-card"),p=(0,a.g2)("q-dialog"),g=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(p,{modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=e=>u.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,{style:{"min-width":"350px"},class:"bg-amber-2"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-padding"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(t,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[g]])])),default:(0,a.k6)((()=>[ss])),_:1}),(0,a.bF)(c,{class:"q-pa-md",color:"orange-1"},{default:(0,a.k6)((()=>[is,(0,a.bF)(r,{type:"number",style:{"max-width":"150px"},"input-style":{fontSize:"25px"},dense:"",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),autofocus:""},null,8,["modelValue"]),(0,a.Lk)("div",ds," This node was previously "+(0,o.v_)(d.previousNodeNumber),1)])),_:1}),(0,a.bF)(c,{class:"q-pa-md"},{default:(0,a.k6)((()=>[rs,(0,a.bF)(r,{"input-style":{fontSize:"25px"},dense:"",modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),autofocus:""},null,8,["modelValue"])])),_:1}),(0,a.bF)(b,{align:"right",class:"text-primary"},{default:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(t,{flat:"",label:"Accept",onClick:l[2]||(l[2]=e=>m())},null,512),[[g]])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},ms=cs,bs=ms;m()(cs,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QCardSection:k.A,QInput:B.A,QCardActions:Oe.A}),m()(cs,"directives",{ClosePopup:Pe.A});var vs=t(9104);const ps=JSON.parse('{"name":"MMC-CLIENT","version":"0.4.2","description":"Module Management Console Client","productName":"MMC","author":"David Ellis","private":true,"scripts":{"lint":"eslint --ext .js,.vue ./","format":"prettier --write \\"**/*.{js,vue,scss,html,md,json}\\" --ignore-path .gitignore","test":"echo \\"No test specified\\" && exit 0"},"dependencies":{"@quasar/extras":"^1.0.0","core-js":"^3.6.5","quasar":"^2.0.0","sass":"^1.69.5","socket.io-client":"^4.4.1","vue":"^3.0.0","vue-json-pretty":"^1.8.2","vue-router":"^4.0.0"},"devDependencies":{"@babel/eslint-parser":"^7.13.14","@quasar/app-webpack":"^3.13.2","eslint":"^7.14.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^7.0.0","eslint-webpack-plugin":"^2.4.0","prettier":"^2.5.1"},"browserslist":["last 10 Chrome versions","last 10 Firefox versions","last 4 Edge versions","last 7 Safari versions","last 8 Android versions","last 8 ChromeAndroid versions","last 8 FirefoxAndroid versions","last 10 iOS versions","last 5 Opera versions"],"engines":{"node":">= 12.22.1","npm":">= 6.13.4","yarn":">= 1.21.1"}}'),gs=(0,a.Lk)("div",{class:"text-h6"}," System ",-1),fs=(0,a.Lk)("div",{class:"text-h6"},"Backend",-1),ys=(0,a.Lk)("div",{class:"text-h6"},"Frontend",-1),ks="SystemDialog",_s={__name:"SystemDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const t=(0,a.WQ)("store"),s=e,i=l,d=(0,a.EW)({get(){return s.modelValue},set(e){i("update:modelValue",e)}});(0,a.wB)(d,(()=>{console.log(ks+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const r=()=>{console.log(ks+": clickStop"),t.methods.STOP_SERVER()};return(e,l)=>{const s=(0,a.g2)("q-btn"),i=(0,a.g2)("q-banner"),u=(0,a.g2)("q-card"),c=(0,a.g2)("q-input"),m=(0,a.g2)("q-checkbox"),b=(0,a.g2)("q-card-actions"),v=(0,a.g2)("q-dialog"),p=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(v,{modelValue:d.value,"onUpdate:modelValue":l[6]||(l[6]=e=>d.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(u,{style:{"min-width":"900px"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(s,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[p]])])),default:(0,a.k6)((()=>[gs])),_:1}),(0,a.bF)(u,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.k6)((()=>[fs,(0,a.Lk)("div",null,"Backend App version "+(0,o.v_)(JSON.stringify((0,n.R1)(t).state.version.App)),1),(0,a.Lk)("div",null,"API version "+(0,o.v_)(JSON.stringify((0,n.R1)(t).state.version.API)),1),(0,a.Lk)("div",null,"node version "+(0,o.v_)(JSON.stringify((0,n.R1)(t).state.version.node)),1)])),_:1}),(0,a.bF)(u,{class:"q-pa-md",flat:"",bordered:""},{default:(0,a.k6)((()=>[ys,(0,a.Lk)("div",null,"Frontend App version "+(0,o.v_)((0,n.R1)(ps).version),1),(0,a.Lk)("div",null,"Quasar framework "+(0,o.v_)(e.$q.version),1),(0,a.Lk)("div",null,"Vue version "+(0,o.v_)(a.rE))])),_:1}),(0,a.bF)(u,{class:"q-pa-md",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(s,{color:"negative",label:"stop Server",onClick:l[0]||(l[0]=e=>r()),"no-caps":""}),(0,a.eW)(" This will signal the server to stop and close the page ")])),_:1}),(0,a.bo)((0,a.bF)(u,{class:"q-pa-md",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(c,{label:"Base Node Number",outlined:"",modelValue:(0,n.R1)(t).state.layout.layoutDetails.baseNodeNumber,"onUpdate:modelValue":l[1]||(l[1]=e=>(0,n.R1)(t).state.layout.layoutDetails.baseNodeNumber=e),onChange:l[2]||(l[2]=e=>(0,n.R1)(t).methods.update_layout())},null,8,["modelValue"])])),_:1},512),[[vs.aG,(0,n.R1)(t).state.advanced]]),(0,a.bF)(u,{class:"q-pa-md",flat:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,{modelValue:(0,n.R1)(t).state.debug,"onUpdate:modelValue":l[3]||(l[3]=e=>(0,n.R1)(t).state.debug=e),label:"Debug"},null,8,["modelValue"]),(0,a.bF)(m,{modelValue:(0,n.R1)(t).state.advanced,"onUpdate:modelValue":l[4]||(l[4]=e=>(0,n.R1)(t).state.advanced=e),label:"Advanced"},null,8,["modelValue"]),(0,a.bF)(m,{modelValue:(0,n.R1)(t).state.develop,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,n.R1)(t).state.develop=e),label:"Develop"},null,8,["modelValue"])])),_:1}),(0,a.bF)(b,{align:"right",class:"text-primary"})])),_:1})])),_:1},8,["modelValue"])}}},Vs=_s,Ns=Vs;m()(_s,"components",{QDialog:Ke.A,QCard:y.A,QBanner:Ue.A,QBtn:Xe.A,QInput:B.A,QCheckbox:u.A,QCardActions:Oe.A}),m()(_s,"directives",{ClosePopup:Pe.A});const hs=(0,a.Lk)("div",{class:"text-h6"}," Example banner ",-1),qs={key:0,class:"text-red"},xs=(0,a.Lk)("div",{class:"text-h6"}," Example q-card ",-1),Fs="DialogExampleCompositionAPI",Cs={__name:"DialogExampleCompositionAPI",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){(0,a.WQ)("store");const t=(0,n.KR)(!1),o=e,s=l,i=(0,a.EW)({get(){return o.modelValue},set(e){s("update:modelValue",e)}});(0,a.wB)(i,(()=>{console.log(Fs+": WATCH model")})),(0,a.KC)((()=>{})),(0,a.sV)((()=>{}));const d=()=>{t.value=!t.value};return(e,l)=>{const n=(0,a.g2)("q-btn"),o=(0,a.g2)("q-banner"),s=(0,a.g2)("q-card-section"),r=(0,a.g2)("q-card"),u=(0,a.g2)("q-card-actions"),c=(0,a.g2)("q-dialog"),m=(0,a.gN)("close-popup");return(0,a.uX)(),(0,a.Wv)(c,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value=e)},{default:(0,a.k6)((()=>[(0,a.bF)(r,{style:{"min-width":"800px"},class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{class:"q-pa-none q-ma-none"},{default:(0,a.k6)((()=>[(0,a.bF)(o,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none"},{action:(0,a.k6)((()=>[(0,a.bo)((0,a.bF)(n,{flat:"",color:"white",size:"md",label:"Close"},null,512),[[m]])])),default:(0,a.k6)((()=>[hs])),_:1})])),_:1}),(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(s,{style:{"max-height":"50vh"},class:"scroll q-py-none no-margin"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(n,{flat:"",color:"positive",label:"example button"}),(0,a.bF)(n,{flat:"",color:"negative",label:"example button"})])),_:1}),((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(5,(e=>(0,a.Lk)("p",{key:e},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum repellendus sit voluptate voluptas eveniet porro. Rerum blanditiis perferendis totam, ea at omnis vel numquam exercitationem aut, natus minima, porro labore."))),64)),t.value?((0,a.uX)(),(0,a.CE)("div",qs,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(5,(e=>(0,a.Lk)("p",{key:e},"Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum repellendus sit voluptate voluptas eveniet porro. Rerum blanditiis perferendis totam, ea at omnis vel numquam exercitationem aut, natus minima, porro labore."))),64))])):(0,a.Q3)("",!0)])),_:1}),(0,a.bF)(s,{class:"q-py-none no-margin"},{default:(0,a.k6)((()=>[xs])),_:1})])),_:1}),(0,a.bF)(u,{align:"right",class:"text-primary q-py-none no-margin"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{flat:"",label:"toggle show more",onClick:l[0]||(l[0]=e=>d())})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}},Is=Cs,ws=Is;m()(Cs,"components",{QDialog:Ke.A,QCard:y.A,QCardSection:k.A,QBanner:Ue.A,QBtn:Xe.A,QCardActions:Oe.A}),m()(Cs,"directives",{ClosePopup:Pe.A});const As=e=>((0,a.Qi)("data-v-34cacfcd"),e=e(),(0,a.jt)(),e),Rs=As((()=>(0,a.Lk)("span",{style:{"min-height":"0"},class:"text-h6 no-margin no-padding"}," Module Management Console ",-1))),Qs={class:"text-h6 no-margin no-padding"},Es={class:"text-h6 float-right"},Ss=As((()=>(0,a.Lk)("div",{class:"text-h6"}," Bus traffic ",-1))),Ts={class:"text-bold text-blue"},Ws=As((()=>(0,a.Lk)("span",null,": ",-1))),Ls={class:"text-bold"},Bs="MainLayout",Ds={__name:"MainLayout",setup(e){const{fQ:l,RZ:t}=i.Ay,d=(0,s.A)(),r=(0,a.WQ)("store"),u=(0,n.KR)(!1),c=(0,n.KR)(!1),m=(0,n.KR)(!1),b=(0,n.KR)(!1),v=(0,n.KR)(!1),p=(0,n.KR)(!1),g=(0,n.KR)(!1),f=(0,n.KR)(!1),y=(0,n.KR)(!1),k=(0,n.KR)({}),_=(0,n.KR)(0),V=(0,n.KR)(!1),N=(0,n.KR)(!1),h=(0,n.KR)("dummyModule/index.html"),q=(0,n.KR)(null);const x=(0,a.EW)((()=>Object.values(r.state.nodeTraffic)));(0,a.wB)(x,(()=>{q.value.setScrollPercentage("vertical",1),setTimeout(C,200)})),(0,a.sV)((()=>{r.methods.request_bus_connection(),setInterval(F,5e3)})),(0,a.$u)((()=>{q.value.setScrollPercentage("vertical",1)}));const F=()=>{r.methods.request_bus_connection()},C=()=>{q.value.setScrollPercentage("vertical",1)};r.eventBus.on("REQUEST_NODE_NUMBER_EVENT",(e=>{console.log(Bs+": REQUEST_NODE_NUMBER_EVENT - previous node number "+e),_.value=e,f.value=!0})),r.eventBus.on("BUS_CONNECTION_EVENT",(e=>{0==e.state&&d.notify({message:"Server has no connection to the CAN BUS",caption:"please check & restart application",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]})})),r.eventBus.on("SERVER_DISCONNECT",(()=>{d.notify({message:"MMC-server has disconnected",caption:"please restart application",timeout:0,type:"warning",position:"center",actions:[{label:"Dismiss"}]})}));const I=()=>{console.log(Bs+": clickBusEvents"),c.value=!0},w=()=>{console.log(Bs+": clickCbusErrors"),b.value=!0},A=()=>{console.log(Bs+": clickExample"),V.value=!0},R=()=>{console.log(Bs+": clickStop"),r.methods.STOP_SERVER()},Q=()=>{console.log(Bs+": clickiframe"),N.value=!0},E=()=>{console.log(Bs+": clickJson"),v.value=!0},S=()=>{console.log(Bs+": clickLayout"),p.value=!0},T=e=>{console.log(Bs+": clickSingleBusEvent"),console.log(Bs+": clickSingleBusEvent: scroll "+l(document.getElementById("demo"))),k.value=e,q.value.setScrollPercentage("vertical",1),g.value=!0},W=()=>{console.log(Bs+": clickSystem"),y.value=!0};return(e,l)=>{const t=(0,a.g2)("q-item-section"),s=(0,a.g2)("q-item"),i=(0,a.g2)("q-list"),d=(0,a.g2)("q-menu"),x=(0,a.g2)("q-btn"),F=(0,a.g2)("q-toolbar-title"),C=(0,a.g2)("q-toolbar"),L=(0,a.g2)("q-space"),B=(0,a.g2)("q-header"),D=(0,a.g2)("q-banner"),K=(0,a.g2)("q-item-label"),U=(0,a.g2)("q-scroll-area"),X=(0,a.g2)("q-card"),O=(0,a.g2)("q-drawer"),M=(0,a.g2)("q-page"),P=(0,a.g2)("q-page-container"),z=(0,a.g2)("q-layout");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(z,{view:"hHh lpR fFf"},{default:(0,a.k6)((()=>[(0,a.bF)(B,{class:"row bg-primary text-white no-margin no-padding",style:{height:"7vh"}},{default:(0,a.k6)((()=>[(0,a.bF)(C,{class:"col no-margin no-padding"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{flat:"",dense:"",icon:"menu"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{"auto-close":""},{default:(0,a.k6)((()=>[(0,a.bF)(i,{style:{"min-width":"100px"}},{default:(0,a.k6)((()=>[(0,a.bF)(s,{clickable:"",onClick:l[0]||(l[0]=e=>S())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("Layout")])),_:1})])),_:1}),(0,a.bF)(s,{clickable:"",onClick:l[1]||(l[1]=e=>I())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("Bus events")])),_:1})])),_:1}),(0,a.bF)(s,{clickable:"",onClick:l[2]||(l[2]=e=>E())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("JSON")])),_:1})])),_:1}),(0,a.bF)(s,{clickable:"",onClick:l[3]||(l[3]=e=>w())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("CBUS errors")])),_:1})])),_:1}),(0,a.bF)(s,{clickable:"",onClick:l[4]||(l[4]=e=>W())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("System")])),_:1})])),_:1}),(0,n.R1)(r).state.develop?((0,a.uX)(),(0,a.Wv)(s,{key:0,clickable:"",onClick:l[5]||(l[5]=e=>A())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("Example")])),_:1})])),_:1})):(0,a.Q3)("",!0),(0,n.R1)(r).state.develop?((0,a.uX)(),(0,a.Wv)(s,{key:1,clickable:"",onClick:l[6]||(l[6]=e=>Q())},{default:(0,a.k6)((()=>[(0,a.bF)(t,null,{default:(0,a.k6)((()=>[(0,a.eW)("Example iFrame")])),_:1})])),_:1})):(0,a.Q3)("",!0)])),_:1})])),_:1})])),_:1}),(0,a.bF)(F,{style:{"min-height":"0"},class:"no-margin no-padding"},{default:(0,a.k6)((()=>[Rs])),_:1})])),_:1}),(0,a.bF)(C,{class:"col no-margin no-padding"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",Qs,(0,o.v_)((0,n.R1)(r).state.layout.layoutDetails.title),1)])),_:1}),(0,a.bF)(C,{class:"col no-margin q-py-none"},{default:(0,a.k6)((()=>[(0,a.bF)(L),(0,a.Lk)("div",Es,[(0,a.bF)(x,{size:"md",color:"negative",label:"Exit",onClick:l[7]||(l[7]=e=>R()),"no-caps":""})])])),_:1})])),_:1}),(0,a.bF)(O,{class:"no-margin no-padding",modelValue:u.value,"onUpdate:modelValue":l[8]||(l[8]=e=>u.value=e),"show-if-above":"",side:"left",width:250,dense:"",bordered:""},{default:(0,a.k6)((()=>[(0,a.bF)(D,{"inline-actions":"",style:{"min-height":"0"},class:"bg-primary text-white dense no-margin q-py-none q-px-xs"},{default:(0,a.k6)((()=>[Ss])),_:1}),(0,a.bF)(X,{class:"no-margin no-padding",style:{height:"83vh"}},{default:(0,a.k6)((()=>[(0,a.bF)(U,{id:"demo",ref_key:"scrollAreaRef",ref:q,style:{height:"82vh"}},{default:(0,a.k6)((()=>[(0,a.bF)(i,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)((0,n.R1)(r).state.nodeTraffic,(e=>((0,a.uX)(),(0,a.Wv)(s,{key:e,clickable:"",dense:"",onClick:l=>T(e)},{default:(0,a.k6)((()=>[(0,a.bF)(K,{dense:"",caption:"",class:"q-pa-none q-my-none"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",Ts,(0,o.v_)(e.direction),1),Ws,(0,a.Lk)("span",Ls,(0,o.v_)(e.json.text),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},512)])),_:1}),(0,a.eW)(" Click message to show encoding ")])),_:1},8,["modelValue"]),(0,a.bF)(P,{class:"main-page no-shadow no-margin q-pa-none"},{default:(0,a.k6)((()=>[(0,a.bF)(M,null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(Dn))])),_:1})])),_:1})])),_:1}),(0,a.bF)((0,n.R1)(ro),{modelValue:c.value,"onUpdate:modelValue":l[9]||(l[9]=e=>c.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(ko),{modelValue:m.value,"onUpdate:modelValue":l[10]||(l[10]=e=>m.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(xo),{modelValue:b.value,"onUpdate:modelValue":l[11]||(l[11]=e=>b.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(Bo),{modelValue:v.value,"onUpdate:modelValue":l[12]||(l[12]=e=>v.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(Go),{modelValue:p.value,"onUpdate:modelValue":l[13]||(l[13]=e=>p.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(os),{modelValue:g.value,"onUpdate:modelValue":l[14]||(l[14]=e=>g.value=e),busMessage:k.value},null,8,["modelValue","busMessage"]),(0,a.bF)((0,n.R1)(bs),{modelValue:f.value,"onUpdate:modelValue":l[15]||(l[15]=e=>f.value=e),previousNodeNumber:_.value},null,8,["modelValue","previousNodeNumber"]),(0,a.bF)((0,n.R1)(Ns),{modelValue:y.value,"onUpdate:modelValue":l[16]||(l[16]=e=>y.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(ws),{modelValue:V.value,"onUpdate:modelValue":l[17]||(l[17]=e=>V.value=e)},null,8,["modelValue"]),(0,a.bF)((0,n.R1)(Rn),{modelValue:N.value,"onUpdate:modelValue":l[18]||(l[18]=e=>N.value=e),URL:h.value},null,8,["modelValue","URL"])],64)}}};var Ks=t(2008),Us=t(8416),Xs=t(6914),Os=t(5998),Ms=t(5173),Ps=t(9150),zs=t(6056),$s=t(9383),js=t(5205),Hs=t(7716);const Js=(0,Q.A)(Ds,[["__scopeId","data-v-34cacfcd"]]),Gs=Js;m()(Ds,"components",{QLayout:Ks.A,QHeader:Us.A,QToolbar:Xs.A,QBtn:Xe.A,QMenu:Os.A,QList:vo.A,QItem:po.A,QItemSection:Ms.A,QToolbarTitle:Ps.A,QSpace:oo.A,QDrawer:zs.A,QBanner:Ue.A,QCard:y.A,QScrollArea:$s.A,QItemLabel:go.A,QPageContainer:js.A,QPage:Hs.A})}}]);